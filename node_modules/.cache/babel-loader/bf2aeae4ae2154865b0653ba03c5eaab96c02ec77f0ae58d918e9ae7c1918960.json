{"ast":null,"code":"import\"./styles.css\";import{useState,useEffect,useCallback}from\"react\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faSquarePlus}from\"@fortawesome/free-solid-svg-icons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CategoryAmount(_ref){let{parentCallback,idval,val,id}=_ref;return/*#__PURE__*/_jsx(\"input\",{className:\"categorybox\",placeholder:\"Budgeted\",id:\"categoryamount\",value:\"¥\"+val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\"),onChange:event=>parentCallback(event,idval,id)});}function CategoryName(_ref2){let{categname,idval,val,id,checkPersist}=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"category\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:idval,value:\"persist\",className:\"checkbox\",onClick:event=>checkPersist(event,val)}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Category\",className:\"category-name\",value:val[1],onChange:event=>categname(event,idval,id)})]});}function AmountBox(_ref3){let{Numvalue,Spent,trans,calcP}=_ref3;//Numval is the budgeted value and spent is spent in that category\n//this is for remaining amount in budget category\n// I need to make it so that all income is kept no matter when it happened.\n//[4] is expense and [5] is income\nlet realSpent=0;for(let x in trans){const calculate=()=>{console.log(\"calculating for \",trans[x][2]);return calcP(trans[x][2]);};if(trans[x][3]===Numvalue[1]){console.log(\"trans and numvalue match\");if(trans[x][4]>0&&calcP(trans[x][2])){realSpent+=trans[x][4];}if(trans[x][5]>0){realSpent-=trans[x][5];}}}return/*#__PURE__*/_jsxs(\"div\",{className:\"amount-children\",id:\"amountbox\",children:[\"\\xA5\",(Numvalue[2]-realSpent).toLocaleString()]});}function NewBox(_ref4){let{handleClick,title,id}=_ref4;return/*#__PURE__*/_jsxs(\"div\",{className:\"new-savings\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSquarePlus,className:\"newbutton\",onClick:handleClick}),/*#__PURE__*/_jsx(\"h4\",{className:\"faTitle\",children:\"Budget\"})]});}function TransCat(_ref5){let{categories,change,index,data}=_ref5;let theData;if(data[5]==\"aaa\"){theData=data[2];}else{theData=data[3];}return/*#__PURE__*/_jsxs(\"select\",{name:\"dropdown\",className:\"options\",value:theData,onChange:event=>change(event,index),children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",className:\"firstoption\"}),/*#__PURE__*/_jsx(\"option\",{value:\"income\",className:\"paycheck\",children:\"Income\"}),categories.map((item,index)=>/*#__PURE__*/_jsx(\"option\",{value:item[1],children:item[1]},index))]});}function Budget(_ref6){let{value,index,handleCatName,handleInput,handleDelete,box,tran,calcP}=_ref6;return/*#__PURE__*/_jsxs(\"div\",{className:\"row-budget\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"categorydiv\",children:/*#__PURE__*/_jsx(CategoryName,{idval:index,val:value,id:value[0],categname:eventData=>{handleCatName(eventData,index,value[0]);},checkPersist:event=>{checkPersist(event,value);}},index)}),/*#__PURE__*/_jsx(\"div\",{className:\"categoryamount\",id:\"inputamount\",children:/*#__PURE__*/_jsx(CategoryAmount,{idval:index,val:value[2],id:value[0],parentCallback:event=>handleInput(event,index,value[0])},index)}),/*#__PURE__*/_jsx(\"div\",{className:\"amount-box\",id:\"amountdiv\",children:/*#__PURE__*/_jsx(AmountBox,{idval:index,Numvalue:value,Spent:value[3],trans:tran,calcP:calcP},index)}),/*#__PURE__*/_jsx(\"div\",{className:\"deleteCat\",children:/*#__PURE__*/_jsx(Delete,{value:value,index:index,id:value[0],callback:stuff=>{handleDelete(stuff,index,value[0]);},boxv:box},index)})]});}function Savings(_ref7){let{data,index,handleDelete,savingsCallback,savingsname,sav}=_ref7;return/*#__PURE__*/_jsxs(\"div\",{className:\"row-savings\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"savings-name\",placeholder:\"Savings Account Name\",value:data[1],onChange:event=>savingsname(event,index,data[0])}),/*#__PURE__*/_jsx(\"input\",{className:\"savings-amount\",placeholder:\"Budgeted amount\",value:\"¥\"+data[2].toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\"),id:\"savings\",onChange:event=>savingsCallback(event,index,data[0])}),/*#__PURE__*/_jsx(\"div\",{className:\"savings-total\",children:\"¥\"+(data[3]+data[2]).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\")}),/*#__PURE__*/_jsx(Delete,{value:data,index:index,id:data[0],savingsDelcallback:event=>handleDelete(event,index,data[0]),sav:sav},index)]});}function Row(_ref8){let{index,data,tran,boxvalue,handleCatOption,inputCallback,nameCallback,handleDate,handleDelete}=_ref8;return/*#__PURE__*/_jsxs(\"div\",{className:\"row-transaction\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Date\",className:\"date\",type:\"date\",value:data[2].toString().slice(0,10),onChange:eventD=>{handleDate(eventD,index,data[0]);}}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Memo\",className:\"trans-name\",value:data[1],onChange:eventData=>nameCallback(eventData,index,data[0])}),/*#__PURE__*/_jsx(TransCat,{categories:boxvalue,data:data,change:extra=>handleCatOption(extra,index,data[0],\"trans\")}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Expenditure\",className:\"expend\",id:\"out\",value:\"¥\"+data[4].toLocaleString(),onChange:eventData=>inputCallback(eventData,index,data[0])}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Income\",className:\"income\",id:\"in\",value:\"¥\"+data[5].toLocaleString(),onChange:eventData=>inputCallback(eventData,index,data[0])}),/*#__PURE__*/_jsx(Delete,{value:data,index:index,id:data[0],tran:tran,transcallback:stuff=>{handleDelete(stuff,index,data[0]);}},index)]});}function AutoRow(_ref9){let{data,index,autotransData,boxvalue,saveAuto,handleCatOption,inputCallback,handleSave,handleDelete}=_ref9;return/*#__PURE__*/_jsxs(\"div\",{className:\"auto-transaction\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"date\",value:data[1],id:\"autoRowDate\",onChange:eventData=>saveAuto(eventData,data,index)}),/*#__PURE__*/_jsx(TransCat,{categories:boxvalue,data:data,change:extra=>handleCatOption(extra,index,data[0],\"auto\")}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Expenditure\",className:\"expend\",id:\"autoout\",value:\"¥\"+data[3].toLocaleString(),onChange:eventData=>inputCallback(eventData,index,data[0])}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Income\",className:\"income\",id:\"autoin\",value:\"¥\"+data[4].toLocaleString(),onChange:eventData=>inputCallback(eventData,index,data[0])}),/*#__PURE__*/_jsx(\"button\",{onClick:stuff=>{handleSave(stuff,index,data);},children:\"Save\"}),/*#__PURE__*/_jsx(Delete,{value:data,index:index,id:data[0],auto:autotransData,autocallback:stuff=>{handleDelete(stuff,index,data[0]);}},index)]});}function Totals(_ref10){let{tots,transaction,budget,saving}=_ref10;//tots is the total of budgeted amount and savings but not remaining!\nlet expense=0;let income=0;let totalRemaining=0;let total=0;for(let i in transaction){const isIncome=transaction[i][3]===\"income\"||transaction[i][3]===\"\";if(transaction[i][4]>0){expense-=transaction[i][4];}if(transaction[i][5]>0){income+=transaction[i][5];}if(!isIncome&&transaction[i][5]>0){totalRemaining+=transaction[i][5];}}for(let x in budget){const remaining=budget[x][2]-budget[x][3];if(remaining<=budget[x][2]&&remaining>=0){total+=budget[x][2];}else if(remaining>budget[x][2]){totalRemaining+=remaining;}else if(remaining<0){total+=budget[x][2];totalRemaining-=remaining;}}for(let y in saving){income-=saving[y][3];}const actual=income+expense;let actualcolor=\"green\";const calculatedRemaining=income-(totalRemaining+total);let remainingcolor=\"green\";if(actual<0){actualcolor=\"red\";}else{actualcolor=\"green\";}if(calculatedRemaining<=0){remainingcolor=\"red\";}else if(calculatedRemaining>0&&calculatedRemaining<50000){remainingcolor=\"yellow\";}else{remainingcolor=\"green\";}return/*#__PURE__*/_jsxs(\"div\",{className:\"totals-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"budgeted\",children:[\"Budgeted: \\xA5\",tots.toLocaleString()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"budgeted\",style:{color:remainingcolor},children:[/*#__PURE__*/_jsx(\"p\",{children:\"Left to budget:\"}),\" \\xA5\",calculatedRemaining.toLocaleString()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"actual\",style:{color:actualcolor},children:[/*#__PURE__*/_jsx(\"p\",{children:\"Actual:\"}),\" \\xA5\",actual.toLocaleString(),\" \"]})]});}function Delete(_ref11){let{value,index,callback,transcallback,savingsDelcallback,id,boxv,sav,auto,tran,autocallback}=_ref11;if(boxv!=undefined){if(boxv.flat().filter(i=>i===id)){return/*#__PURE__*/_jsx(\"button\",{className:\"delete\",onClick:event=>callback(event,index,id),children:\"X\"});}}else if(tran!=undefined){if(tran.flat().filter(i=>i===id)){return/*#__PURE__*/_jsx(\"button\",{className:\"delete\",onClick:event=>transcallback(event,index,id),children:\"X\"});}}else if(sav!=undefined){if(sav.flat().filter(i=>i===id)){return/*#__PURE__*/_jsx(\"button\",{className:\"delete\",onClick:event=>savingsDelcallback(event,index,id),children:\"X\"});}}else if(auto!=undefined){if(auto.flat().filter(i=>i===id)){return/*#__PURE__*/_jsx(\"button\",{className:\"delete\",onClick:event=>autocallback(event,index,id),children:\"X\"});}}}export default function App(){const date=new Date();//boxvlue = [id, category, budgetamount, spent, date]\nconst[boxvalue,setBoxvalue]=useState(Array(1).fill([\"abc123\",\"\",0,0,date,false]));//budgeted total i think\nconst[total,setTotal]=useState(0);//transaction = [id, name, date, category, expense, income]\nconst[transaction,setTransaction]=useState(Array(1).fill([\"123abc\",\"\",\"\",\"\",0,0]));//Backend\nconst[firstload,setFirstload]=useState(true);const[deleteBool,setDeletebool]=useState([false,[]]);//savings = [id, name, budgetamount, total, datestamp]\nconst[savings,setSavings]=useState(Array(1).fill([\"1a2b3c\",\"\",0,0,\"savings\",date]));//auto transactions = [id, dateday, category, expense, income, \"aaa\"]\nconst[autoTrans,setAutotrans]=useState(Array(1).fill([\"xyz123\",\"\",\"\",0,0,\"aaa\"]));const[toggleAuto,setToggleAuto]=useState(false);const[toggleLock,setToggleLock]=useState(true);const[passcode,setPasscode]=useState(\"\");useEffect(()=>{console.log(\"load...\");fetch(\"/load\").then(response=>response.json()).then(data=>{console.log(\"LOAD payload:\",data);let stuff=boxvalue.slice();let transstuff=transaction.slice();let sav=savings.slice();let aut=autoTrans.slice();const todaydate=new Date();for(let i in data.category){const bdate=new Date(data.category[i].bdate);const payday=calculatePayperiod(bdate);if(payday){stuff[i]=[data.category[i]._id,data.category[i].name,data.category[i].amount,0,todaydate,data.category[i].persist];}else{stuff[i]=[data.category[i]._id,data.category[i].name,data.category[i].amount,data.category[i].spent,data.category[i].bdate,data.category[i].persist];}}for(let x in data.transaction){if(!data.transaction[x].date){data.transaction[x].date=\"0000-0-0\";}transstuff[x]=[data.transaction[x]._id,data.transaction[x].tname,data.transaction[x].date,data.transaction[x].category,data.transaction[x].expense,data.transaction[x].income];}//if past or is payday, samount should be 0 and stotal should be combined with samount\nfor(let s in data.savings){const dbdate=new Date(data.savings[s].sdate);//my payday is the 20th\nconst payday=calculatePayperiod(dbdate);if(payday){sav[s]=[data.savings[s]._id,data.savings[s].sname,0,data.savings[s].stotal+data.savings[s].samount,data.savings[s].sss,todaydate];}else{sav[s]=[data.savings[s]._id,data.savings[s].sname,data.savings[s].samount,data.savings[s].stotal,data.savings[s].sss,data.savings[s].sdate];}}for(let a in data.auto){let checky=true;let dd=new Date(data.auto[a].adate);dd=dd.toISOString();dd=dd.slice(0,10);aut[a]=[data.auto[a]._id,dd,data.auto[a].acategory,data.auto[a].aexpense,data.auto[a].aincome,data.auto[a].aaa];//my payday is the 20th\nfor(let i in data.transaction){const payperiod=calculatePayperiod(data.transaction[i].date);if(data.auto[a].acategory===data.transaction[i].category&&payperiod){checky=false;break;}if(data.auto[a].acategory===\"\"){checky=false;break;}}if(checky){console.log(\"START\");transstuff.push(addNewAuto(data.auto[a]));}}//sorting the state like this breaks the program. Get 503 errors for updates to transactions.\n//transstuff.sort((a,b)=>{return new Date(a[2]) - new Date(b[2])});\nsetTransaction(transstuff);setSavings(sav);setAutotrans(aut);setBoxvalue(stuff);calculateSpentandSetBV(stuff,transstuff);calculateTotal(sav,stuff);setFirstload(false);});},[]);useEffect(()=>{console.log(\"BOXVALUE WAS SET\");if(!firstload&&!deleteBool[0]){fetch(\"/update\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(boxvalue)}).then(response=>response.json()).then(data=>{console.log(\"app.js boxvalue/category fetch: \",data);});}else if(deleteBool[0]){fetch(\"/delete\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(deleteBool[1])}).then(response=>response.json()).then(data=>{console.log(\"app.js category DELETE fetch: \",data);});setDeletebool([false,[]]);}},[boxvalue]);useEffect(()=>{if(!firstload&&!deleteBool[0]){console.log(\"transaction state\",typeof transaction,transaction);fetch(\"/update\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(transaction)}).then(response=>{if(!response.ok){throw new Error(\"Network response was not ok: \".concat(response.status));}return response.json();}).then(data=>{console.log(\"app.js transaction fetch: \",data);});}else if(deleteBool[0]){fetch(\"/delete\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(deleteBool[1])}).then(response=>response.json()).then(data=>{console.log(\"app.js transaction DELETE fetch: \",data);});setDeletebool([false,[]]);}},[transaction]);useEffect(()=>{if(!firstload&&!deleteBool[0]){console.log(\"savings state\",savings);fetch(\"/update\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(savings)}).then(response=>response.json()).then(data=>{console.log(\"app.js savings fetch: \",data);});}else if(deleteBool[0]){fetch(\"/delete\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(deleteBool[1])}).then(response=>response.json()).then(data=>{console.log(\"app.js savings DELETE fetch: \",data);});setDeletebool([false,[]]);}},[savings]);useEffect(()=>{if(!firstload&&!deleteBool[0]){console.log(\"autotrans state\",autoTrans);fetch(\"/update\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(autoTrans)}).then(response=>response.json()).then(data=>{console.log(\"app.js autotrans fetch: \",data);});}else if(deleteBool[0]){fetch(\"/delete\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(deleteBool[1])}).then(response=>response.json()).then(data=>{console.log(\"app.js Autoo DELETE fetch: \",data);});setDeletebool([false,[]]);}},[autoTrans]);//Ensures that the input is only a number\nfunction modifyNum(arr,filterArr){for(let j=0;j<arr.length;j++){if(arr[j].match(/\\d/)){filterArr.push(arr[j]);}}const boxvalstr=filterArr.join(\"\");return boxvalstr;}function calculateTotal(savingss,boxv){let total=0;for(let x in boxv){total+=boxv[x][2];}for(let z in savingss){//add savings to budgeted total\ntotal+=savingss[z][2];}setTotal(total);}function calculatePayperiod(theTrans){const today=new Date();const day=today.getDate();const month=today.getMonth();const ttoday=new Date(theTrans);const tday=ttoday.getDate();const tmonth=ttoday.getMonth();const sameMonth=tmonth===month;const bothOver20=tday>=20&&day>=20;const bothUnder20=tday<20&&day<20;const bothOverOrUnder=bothOver20||bothUnder20;const criteria1=sameMonth&&bothOverOrUnder;const differentMonths1=tmonth===month-1;const differentMonths2=tmonth===month+1;const different=differentMonths1||differentMonths2;//if one is t is 2/13 and today is 3/20\nconst tover20=tday>=20;const todayover20=day>=20;const todayAhead=tover20&&differentMonths1&&!todayover20;const criteria2=todayAhead;const oneIsDec=tmonth===11;const oneIsJan=month===0;const decAndJan=oneIsDec&&oneIsJan;const criteria3=decAndJan&&tover20&&!todayover20;const payperiod=criteria1||criteria2||criteria3;return payperiod;}function calculateSpentandSetBV(nextBoxVal,nextTransaction){for(let x=0;x<nextBoxVal.length;x++){let spent=0;for(let ii=0;ii<nextTransaction.length;ii++){const pp=calculatePayperiod(nextTransaction[ii][2]);if(nextBoxVal[x][1]===nextTransaction[ii][3]&&//if categories match, expense is present, and\nnextTransaction[ii][4]>0&&pp){console.log(\"updating how much spent...\");spent+=nextTransaction[ii][4];console.log(\"spent is... \",spent);}else if(nextBoxVal[x][1]===nextTransaction[ii][3]&&//if categories match, income present, and\nnextTransaction[ii][5]>0&&pp){spent-=nextTransaction[ii][5];}}nextBoxVal[x]=[nextBoxVal[x][0],nextBoxVal[x][1],nextBoxVal[x][2],spent,nextBoxVal[x][4],nextBoxVal[x][5]];}setBoxvalue(nextBoxVal);}function handleInput(event,ind,id){const nextBoxVal=boxvalue.slice();let val=event.target.value;const nextTransaction=transaction.slice();const tempSavings=savings.slice();const tempAuto=autoTrans.slice();console.log(\"event id\",event.target.id);//out transactions\nif(event.target.id===\"out\"){console.log(\"handleInput()\",event.target.id,id);//if OUT then cross check category names and change boxvalue?\n//This LOOP formats transaction numbers\nfor(let index=0;index<nextTransaction.length;index++){if(nextTransaction[index][0]===id){console.log(\"OUT transaction: \",nextTransaction[index][0]);const arr=[...val];const filterArr=[];const boxstr=modifyNum(arr,filterArr);const str=boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\");event.target.value=\"¥\"+str;nextTransaction[index]=[nextTransaction[index][0],nextTransaction[index][1],nextTransaction[index][2],nextTransaction[index][3],parseFloat(boxstr),nextTransaction[index][5]];}}}else if(event.target.id===\"in\"){for(let index=0;index<nextTransaction.length;index++){if(nextTransaction[index][0]===id){const arr=[...val];const filterArr=[];const boxstr=modifyNum(arr,filterArr);const str=boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\");event.target.value=\"¥\"+str;nextTransaction[index]=[nextTransaction[index][0],nextTransaction[index][1],nextTransaction[index][2],nextTransaction[index][3],nextTransaction[index][4],parseFloat(boxstr)];}}}else if(event.target.id===\"categoryamount\"){//This is for category amount changes\nfor(let i=0;i<nextBoxVal.length;i++){if(nextBoxVal[i][0]===id){const arr=[...val];const filterArr=[];const boxstr=modifyNum(arr,filterArr);const str=boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\");event.target.value=\"¥\"+str;nextBoxVal[i]=[nextBoxVal[i][0],nextBoxVal[i][1],parseFloat(boxstr),nextBoxVal[i][3],nextBoxVal[i][4],nextBoxVal[i][5]];}}calculateTotal(tempSavings,nextBoxVal);}else if(event.target.id===\"savings\"){//update savings amount\nfor(let i=0;i<tempSavings.length;i++){if(tempSavings[i][0]===id){const arr=[...val];const filterArr=[];const boxstr=modifyNum(arr,filterArr);const str=boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\");event.target.value=\"¥\"+str;tempSavings[i]=[tempSavings[i][0],tempSavings[i][1],parseFloat(boxstr),tempSavings[i][3],tempSavings[i][4],tempSavings[i][5]];calculateTotal(tempSavings,nextBoxVal);}}}else if(event.target.id===\"autoout\"){for(let a in tempAuto){if(tempAuto[a][0]===id){const arr=[...val];const filterArr=[];const boxstr=modifyNum(arr,filterArr);const str=boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\");event.target.value=\"¥\"+str;tempAuto[a]=[tempAuto[a][0],tempAuto[a][1],tempAuto[a][2],parseFloat(boxstr),tempAuto[a][4],tempAuto[a][5]];}}}else if(event.target.id===\"autoin\"){for(let a in tempAuto){if(tempAuto[a][0]===id){const arr=[...val];const filterArr=[];const boxstr=modifyNum(arr,filterArr);const str=boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\");event.target.value=\"¥\"+str;tempAuto[a]=[tempAuto[a][0],tempAuto[a][1],tempAuto[a][2],tempAuto[a][3],parseFloat(boxstr),tempAuto[a][5]];}}}// Calculating SPENT in boxvalue\ncalculateSpentandSetBV(nextBoxVal,nextTransaction);setSavings(tempSavings);setTransaction(nextTransaction);setAutotrans(tempAuto);}function handleCatName(event,ind,id){const nextBox=boxvalue.slice();for(let i=0;i<nextBox.length;i++){if(nextBox[i][0]===id){nextBox[i]=[id,event.target.value,nextBox[i][2],nextBox[i][3],nextBox[i][4],nextBox[i][5]];}}setBoxvalue(nextBox);}function handleCatOption(event,index,id,which){const tempTransaction=transaction.slice();const tempAuto=autoTrans.slice();if(which===\"trans\"){tempTransaction[index]=[tempTransaction[index][0],tempTransaction[index][1],tempTransaction[index][2],event.target.value,tempTransaction[index][4],tempTransaction[index][5]];setTransaction(tempTransaction);}else{tempAuto[index]=[tempAuto[index][0],tempAuto[index][1],event.target.value,tempAuto[index][3],tempAuto[index][4],tempAuto[index][5]];setAutotrans(tempAuto);}}function newRow(){const abc=\"abcdefghijklmnopqrstuvwxyz!#$%\";const ranNum=Math.floor(Math.random()*100);const ranNum2=Math.floor(Math.random()*100);const ranLet=abc[Math.floor(Math.random()*abc.length)];const ranLet2=abc[Math.floor(Math.random()*abc.length)];const newId=ranNum+ranLet+ranNum2+ranLet2;const newArr=[newId,\"\",\"\",\"\",0,0];setTransaction([...transaction,newArr]);}function newSavings(){const abc=\"abcdefghijklmnopqrstuvwxyz!#$%\";const ranNum=Math.floor(Math.random()*100);const ranNum2=Math.floor(Math.random()*100);const ranLet=abc[Math.floor(Math.random()*abc.length)];const ranLet2=abc[Math.floor(Math.random()*abc.length)];const newId=ranNum+ranLet+ranNum2+ranLet2;const date=new Date();const day=date.getDate();console.log(day);const newArr=[newId,\"\",0,0,\"savings\",date];setSavings([...savings,newArr]);}function transName(data,index,id){const tempTrans=transaction.slice();tempTrans[index]=[tempTrans[index][0],data.target.value,tempTrans[index][2],tempTrans[index][3],tempTrans[index][4],tempTrans[index][5]];setTransaction(tempTrans);}function handleDate(data,index,id){console.log(data.target.value);const tempTrans=transaction.slice();tempTrans[index]=[tempTrans[index][0],tempTrans[index][1],data.target.value,tempTrans[index][3],tempTrans[index][4],tempTrans[index][5]];setTransaction(tempTrans);}function handleNewCat(){const date=new Date();const abc=\"abcdefghijklmnopqrstuvwxyz!#$%\";const ranNum=Math.floor(Math.random()*100);const ranNum2=Math.floor(Math.random()*100);const ranLet=abc[Math.floor(Math.random()*abc.length)];const ranLet2=abc[Math.floor(Math.random()*abc.length)];const idVal=ranNum+ranLet+ranNum2+ranLet2;setBoxvalue([...boxvalue,[idVal,\"\",0,0,date,false]]);}function handleDelete(val,index,id){const tempBox=boxvalue.slice();const tempTrans=transaction.slice();const tempSavings=savings.slice();const tempAuto=autoTrans.slice();for(let t in tempTrans){if(tempTrans[t][0]===id){console.log(\"Deleting trans...\");//Set the spent value minus whatever was deleted\nfor(let x in tempBox){if(tempBox[x][1]===tempTrans[t][3]){const newspent=tempTrans[t][4];const newincome=tempTrans[t][5];const boxspent=tempBox[x][3];const newspentbox=newincome-newspent+boxspent;tempBox[x]=[tempBox[x][0],tempBox[x][1],tempBox[x][2],newspentbox,tempBox[x][4],tempBox[x][5]];}}const deleteItem=tempTrans.slice(t,t+1);tempTrans.splice(t,1);if(!tempTrans[0]){tempTrans[0]=[\"123abc\",\"\",\"\",\"\",0,0];}setDeletebool([true,deleteItem]);setTransaction(tempTrans);}}for(let s in tempSavings){if(tempSavings[s][0]===id){console.log(\"deleting savings\");const deleteItem=tempSavings.slice(s,s+1);tempSavings.splice(s,1);const date=new Date();const day=date.getDate();if(!tempSavings[0]){tempSavings[0]=[\"kljasdf\",\"\",0,0,\"savings\",date];}calculateTotal(tempSavings,tempBox);setDeletebool([true,deleteItem]);setSavings(tempSavings);}}for(let i in tempBox){if(tempBox[i][0]===id){console.log(\"Deleting cats...\");const deleteItem=tempBox.slice(i,i+1);tempBox.splice(i,1);if(!tempBox[0]){tempBox[0]=[\"asjkldfklasdh\",\"\",0,0,date,false];}calculateTotal(tempSavings,tempBox);setDeletebool([true,deleteItem]);setBoxvalue(tempBox);}}for(let i in tempAuto){if(tempAuto[i][0]===id){console.log(\"Deleting autotransaction...\");const deleteItem=tempAuto.slice(i,i+1);tempAuto.splice(i,1);if(!tempAuto[0]){tempAuto[0]=[\"xyz321\",\"\",\"\",0,0,\"aaa\"];}setDeletebool([true,deleteItem]);setAutotrans(tempAuto);}}}function handleSavingsName(val,index,id){const tempSavings=savings.slice();tempSavings[index]=[tempSavings[index][0],val.target.value,tempSavings[index][2],tempSavings[index][3],tempSavings[index][4],tempSavings[index][5]];setSavings(tempSavings);}function saveAuto(event,data,index){const tempAuto=autoTrans.slice();for(let i in tempAuto){if(tempAuto[i][0]===data[0]){tempAuto[i]=[tempAuto[i][0],event.target.value,tempAuto[i][2],tempAuto[i][3],tempAuto[i][4],tempAuto[i][5]];}}setAutotrans(tempAuto);}function addNewAuto(data){const abc=\"abcdefghijklmnopqrstuvwxyz!#$%\";const ranNum=Math.floor(Math.random()*100);const ranNum2=Math.floor(Math.random()*100);const ranLet=abc[Math.floor(Math.random()*abc.length)];const ranLet2=abc[Math.floor(Math.random()*abc.length)];const newId=ranNum+ranLet+ranNum2+ranLet2;let ddd=new Date(data.adate);const ddate=ddd.toString();// Fri Dec 22 2022\nconst day=ddate.slice(8,10);//Fri Dec 2 2220\nconst today=new Date();const totoday=today.toString();const monthday=totoday.slice(0,7);const year=totoday.slice(10,15);ddd=monthday+\" \"+day+\" \"+year;const newdate=new Date(ddd);const newArr=[newId,\"AUTO\",//NEED THIS BECAUSE THIS IS A TRANSACTION\nnewdate,data.acategory,data.aexpense,data.aincome];return newArr;}function newAuto(){const abc=\"abcdefghijklmnopqrstuvwxyz!#$%\";const ranNum=Math.floor(Math.random()*100);const ranNum2=Math.floor(Math.random()*100);const ranLet=abc[Math.floor(Math.random()*abc.length)];const ranLet2=abc[Math.floor(Math.random()*abc.length)];const newId=ranNum+ranLet+ranNum2+ranLet2;const newArr=[newId,\"\",\"\",0,0,\"aaa\"];setAutotrans([...autoTrans,newArr]);}function handleSave(stuff,index,data){console.log(\"handleSAVE\",data);const tempTrans=transaction.slice();//my payday is the 20th\nlet checky=true;for(let i in tempTrans){const payday=calculatePayperiod(tempTrans[i][2]);if(payday&&tempTrans[i][3]===data[2]){checky=false;console.log(\"checky false now\");break;}}if(checky){console.log(\"save button checky\");const newdate=new Date(data[1]);const ddata={_id:data[0],adate:newdate,acategory:data[2],aexpense:data[3],aincome:data[4],aaa:data[5]};setTransaction([...transaction,addNewAuto(ddata)]);}}function showAuto(){setToggleAuto(!toggleAuto);}const handlelogSubmit=async event=>{// GET REQUEST FOR LOGIN\nevent.preventDefault();try{const response=await fetch(\"/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({passcode})});if(!response.ok){throw new Error(\"Login failed\");}const data=await response.json();console.log(\"LOGIN SUCCESS?\",data);if(data.success){setToggleLock(false);}else{console.error(\"Login failed\");}}catch(error){console.error(\"Error during login:\",error);}};function sort(){let t=transaction.slice();const tt=t.sort((a,b)=>{return new Date(a[2])-new Date(b[2]);});console.log(\"T\",tt);setTransaction(tt);}function checkPersist(e,bval){console.log(e);console.log(bval);}return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[toggleLock&&/*#__PURE__*/_jsx(\"div\",{className:\"lock\",id:\"loginDiv\",onSubmit:handlelogSubmit,children:/*#__PURE__*/_jsxs(\"form\",{id:\"loginForm\",action:\"/login\",method:\"post\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"PASSCODE\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"passcode\",name:\"passcode\",className:\"pass\",onChange:e=>setPasscode(e.target.value)}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"submitbutton\",type:\"submit\",value:\"submit\"})]})}),!toggleLock&&/*#__PURE__*/_jsx(\"div\",{className:\"title-container\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"dateTitle\",children:(()=>{const date=new Date();const months=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];const month=date.getMonth();const year=date.getFullYear();return\"Budget of \"+months[month]+\" \"+year;})()})}),!toggleLock&&/*#__PURE__*/_jsx(\"div\",{className:\"total-amount\",id:\"total\",children:/*#__PURE__*/_jsx(Totals,{tots:total,transaction:transaction,budget:boxvalue,saving:savings})}),!toggleLock&&/*#__PURE__*/_jsxs(\"div\",{className:\"auto-container\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:showAuto,children:\"Auto Transactions\"}),toggleAuto&&/*#__PURE__*/_jsxs(\"div\",{className:\"autoTransaction\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"new-savings\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSquarePlus,className:\"newbutton\",onClick:newAuto}),/*#__PURE__*/_jsx(\"h4\",{className:\"faTitle\",children:\"Auto Transactions\"})]}),autoTrans.map((value,index)=>/*#__PURE__*/_jsx(AutoRow,{data:value,index:index,autotransData:autoTrans,boxvalue:boxvalue,handleCatOption:handleCatOption,saveAuto:(x,y,z)=>saveAuto(x,y,z),inputCallback:(x,y,z)=>handleInput(x,y,z),nameCallback:(x,y,z)=>transName(x,y,z),handleDate:(x,y,z)=>handleDate(x,y,z),handleDelete:handleDelete,handleSave:(x,y,z)=>handleSave(x,y,z)}))]})]}),!toggleLock&&/*#__PURE__*/_jsxs(\"div\",{className:\"budget-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"newcat\",children:/*#__PURE__*/_jsx(NewBox,{title:\"New Category\",handleClick:handleNewCat})}),/*#__PURE__*/_jsxs(\"div\",{className:\"budget-titles\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Category\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Budgeted\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Remaining\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"budget\",children:boxvalue.map((value,index)=>/*#__PURE__*/_jsx(Budget,{value:value,index:index,handleDelete:handleDelete,handleCatName:(x,y,z)=>handleCatName(x,y,z),handleInput:(x,y,z)=>handleInput(x,y,z),box:boxvalue,tran:transaction,calcP:calculatePayperiod,checkPersist:(x,y)=>checkPersist(x,y)}))})]}),!toggleLock&&/*#__PURE__*/_jsxs(\"div\",{className:\"savings-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"new-savings\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSquarePlus,className:\"newbutton\",onClick:newSavings}),/*#__PURE__*/_jsx(\"h4\",{className:\"faTitle\",children:\"Savings\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"budget-titles\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Savings Name\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Budgeted\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Total\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"savings\",children:savings.map((value,index)=>/*#__PURE__*/_jsx(Savings,{data:value,index:index,handleDelete:handleDelete,savingsCallback:(x,y,z)=>handleInput(x,y,z),savingsname:(x,y,z)=>handleSavingsName(x,y,z),sav:savings}))})]}),!toggleLock&&/*#__PURE__*/_jsxs(\"div\",{className:\"transaction-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"new-savings\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSquarePlus,className:\"newbutton\",onClick:newRow}),/*#__PURE__*/_jsx(\"h4\",{className:\"faTitle\",children:\"Transactions\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"transaction-titles\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"titlebutton\",onClick:()=>{sort();},children:\"Date\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Memo\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Category\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Expense\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Income\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"transactions\",children:transaction.map((event,index)=>/*#__PURE__*/_jsx(Row,{index:index,data:event,tran:transaction,boxvalue:boxvalue,handleCatOption:handleCatOption,inputCallback:(x,y,z)=>handleInput(x,y,z),nameCallback:(x,y,z)=>transName(x,y,z),handleDate:(x,y,z)=>handleDate(x,y,z),handleDelete:handleDelete},index))})]})]});}","map":{"version":3,"names":["useState","useEffect","useCallback","FontAwesomeIcon","faSquarePlus","jsx","_jsx","jsxs","_jsxs","CategoryAmount","_ref","parentCallback","idval","val","id","className","placeholder","value","toString","replace","onChange","event","CategoryName","_ref2","categname","checkPersist","children","type","onClick","AmountBox","_ref3","Numvalue","Spent","trans","calcP","realSpent","x","calculate","console","log","toLocaleString","NewBox","_ref4","handleClick","title","icon","TransCat","_ref5","categories","change","index","data","theData","name","map","item","Budget","_ref6","handleCatName","handleInput","handleDelete","box","tran","eventData","Delete","callback","stuff","boxv","Savings","_ref7","savingsCallback","savingsname","sav","savingsDelcallback","Row","_ref8","boxvalue","handleCatOption","inputCallback","nameCallback","handleDate","slice","eventD","extra","transcallback","AutoRow","_ref9","autotransData","saveAuto","handleSave","auto","autocallback","Totals","_ref10","tots","transaction","budget","saving","expense","income","totalRemaining","total","i","isIncome","remaining","y","actual","actualcolor","calculatedRemaining","remainingcolor","style","color","_ref11","undefined","flat","filter","App","date","Date","setBoxvalue","Array","fill","setTotal","setTransaction","firstload","setFirstload","deleteBool","setDeletebool","savings","setSavings","autoTrans","setAutotrans","toggleAuto","setToggleAuto","toggleLock","setToggleLock","passcode","setPasscode","fetch","then","response","json","transstuff","aut","todaydate","category","bdate","payday","calculatePayperiod","_id","amount","persist","spent","tname","s","dbdate","sdate","sname","stotal","samount","sss","a","checky","dd","adate","toISOString","acategory","aexpense","aincome","aaa","payperiod","push","addNewAuto","calculateSpentandSetBV","calculateTotal","method","headers","body","JSON","stringify","ok","Error","concat","status","modifyNum","arr","filterArr","j","length","match","boxvalstr","join","savingss","z","theTrans","today","day","getDate","month","getMonth","ttoday","tday","tmonth","sameMonth","bothOver20","bothUnder20","bothOverOrUnder","criteria1","differentMonths1","differentMonths2","different","tover20","todayover20","todayAhead","criteria2","oneIsDec","oneIsJan","decAndJan","criteria3","nextBoxVal","nextTransaction","ii","pp","ind","target","tempSavings","tempAuto","boxstr","str","parseFloat","nextBox","which","tempTransaction","newRow","abc","ranNum","Math","floor","random","ranNum2","ranLet","ranLet2","newId","newArr","newSavings","transName","tempTrans","handleNewCat","idVal","tempBox","t","newspent","newincome","boxspent","newspentbox","deleteItem","splice","handleSavingsName","ddd","ddate","totoday","monthday","year","newdate","newAuto","ddata","showAuto","handlelogSubmit","preventDefault","success","error","sort","tt","b","e","bval","onSubmit","action","months","getFullYear"],"sources":["/workspaces/BudgetApp-React-Node/src/App.js"],"sourcesContent":["import \"./styles.css\";\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSquarePlus } from \"@fortawesome/free-solid-svg-icons\";\nfunction CategoryAmount({ parentCallback, idval, val, id }) {\n  return (\n    <input\n      className=\"categorybox\"\n      placeholder=\"Budgeted\"\n      id=\"categoryamount\"\n      value={\"¥\" + val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}\n      onChange={(event) => parentCallback(event, idval, id)}\n    />\n  );\n}\n\nfunction CategoryName({ categname, idval, val, id, checkPersist }) {\n  return (\n    <div className=\"category\">\n      <input type=\"checkbox\" id={idval} value=\"persist\" className=\"checkbox\" onClick={(event)=> checkPersist(event, val)} />\n      <input\n        placeholder=\"Category\"\n        className=\"category-name\"\n        value={val[1]}\n        onChange={(event) => categname(event, idval, id)}\n      />\n    </div>\n  );\n}\n\nfunction AmountBox({ Numvalue, Spent, trans, calcP }) {\n  //Numval is the budgeted value and spent is spent in that category\n  //this is for remaining amount in budget category\n  // I need to make it so that all income is kept no matter when it happened.\n\n  //[4] is expense and [5] is income\n  let realSpent = 0;\n  for(let x in trans){\n    const calculate = () => {\n      console.log(\"calculating for \", trans[x][2])\n      return calcP(trans[x][2])\n    }\n    if(trans[x][3] === Numvalue[1]){\n      console.log(\"trans and numvalue match\")\n      if(trans[x][4] > 0 && calcP(trans[x][2])){\n        realSpent += trans[x][4]\n      } \n      if(trans[x][5] > 0){\n        realSpent -= trans[x][5]\n      }\n    }\n  }\n\n  \n  return (\n    <div className=\"amount-children\" id=\"amountbox\">\n      ¥{(Numvalue[2] - realSpent).toLocaleString()}\n    </div>\n  );\n}\n\nfunction NewBox({ handleClick, title, id }) {\n  return (\n    <div className=\"new-savings\">\n      <FontAwesomeIcon\n        icon={faSquarePlus}\n        className=\"newbutton\"\n        onClick={handleClick}\n      />\n      <h4 className=\"faTitle\">Budget</h4>\n    </div>\n  );\n}\n\nfunction TransCat({ categories, change, index, data }) {\n  let theData;\n  if (data[5] == \"aaa\") {\n    theData = data[2];\n  } else {\n    theData = data[3];\n  }\n  return (\n    <select\n      name=\"dropdown\"\n      className=\"options\"\n      value={theData}\n      onChange={(event) => change(event, index)}\n    >\n      <option value=\"1\" className=\"firstoption\"></option>\n      <option value=\"income\" className=\"paycheck\">\n        Income\n      </option>\n      {categories.map((item, index) => (\n        <option key={index} value={item[1]}>\n          {item[1]}\n        </option>\n      ))}\n    </select>\n  );\n}\n\nfunction Budget({\n  value,\n  index,\n  handleCatName,\n  handleInput,\n  handleDelete,\n  box,\n  tran,\n  calcP\n}) {\n  return (\n    <div className=\"row-budget\">\n      <div className=\"categorydiv\">\n        <CategoryName\n          key={index}\n          idval={index}\n          val={value}\n          id={value[0]}\n          categname={(eventData) => {\n            handleCatName(eventData, index, value[0]);\n          }}\n          checkPersist = {(event)=> {\n            checkPersist(event, value)\n          }}\n        />\n      </div>\n      <div className=\"categoryamount\" id=\"inputamount\">\n        <CategoryAmount\n          key={index}\n          idval={index}\n          val={value[2]}\n          id={value[0]}\n          parentCallback={(event) => handleInput(event, index, value[0])}\n        />\n      </div>\n      <div className=\"amount-box\" id=\"amountdiv\">\n        <AmountBox\n          key={index}\n          idval={index}\n          Numvalue={value}\n          Spent={value[3]}\n          trans = {tran}\n          calcP = {calcP}\n        />\n      </div>\n      <div className=\"deleteCat\">\n        <Delete\n          value={value}\n          index={index}\n          key={index}\n          id={value[0]}\n          callback={(stuff) => {\n            handleDelete(stuff, index, value[0]);\n          }}\n          boxv={box}\n        />\n      </div>\n    </div>\n  );\n}\n\nfunction Savings({\n  data,\n  index,\n  handleDelete,\n  savingsCallback,\n  savingsname,\n  sav,\n}) {\n  return (\n    <div className=\"row-savings\">\n      <input\n        className=\"savings-name\"\n        placeholder=\"Savings Account Name\"\n        value={data[1]}\n        onChange={(event) => savingsname(event, index, data[0])}\n      />\n      <input\n        className=\"savings-amount\"\n        placeholder=\"Budgeted amount\"\n        value={\"¥\" + data[2].toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}\n        id=\"savings\"\n        onChange={(event) => savingsCallback(event, index, data[0])}\n      />\n      <div className=\"savings-total\">\n        {\"¥\" +\n          (data[3] + data[2]).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}\n      </div>\n      <Delete\n        value={data}\n        index={index}\n        key={index}\n        id={data[0]}\n        savingsDelcallback={(event) => handleDelete(event, index, data[0])}\n        sav={sav}\n      />\n    </div>\n  );\n}\n\nfunction Row({\n  index,\n  data,\n  tran,\n  boxvalue,\n  handleCatOption,\n  inputCallback,\n  nameCallback,\n  handleDate,\n  handleDelete,\n}) {\n  return (\n    <div className=\"row-transaction\">\n      <input\n        placeholder=\"Date\"\n        className=\"date\"\n        type=\"date\"\n        value={data[2].toString().slice(0, 10)}\n        onChange={(eventD) => {\n          handleDate(eventD, index, data[0]);\n        }}\n      />\n      <input\n        placeholder=\"Memo\"\n        className=\"trans-name\"\n        value={data[1]}\n        onChange={(eventData) => nameCallback(eventData, index, data[0])}\n      />\n      <TransCat\n        categories={boxvalue}\n        data={data}\n        change={(extra) => handleCatOption(extra, index, data[0], \"trans\")}\n      />\n      <input\n        placeholder=\"Expenditure\"\n        className=\"expend\"\n        id=\"out\"\n        value={\"¥\" + data[4].toLocaleString()}\n        onChange={(eventData) => inputCallback(eventData, index, data[0])}\n      />\n      <input\n        placeholder=\"Income\"\n        className=\"income\"\n        id=\"in\"\n        value={\"¥\" + data[5].toLocaleString()}\n        onChange={(eventData) => inputCallback(eventData, index, data[0])}\n      />\n      <Delete\n        value={data}\n        index={index}\n        key={index}\n        id={data[0]}\n        tran={tran}\n        transcallback={(stuff) => {\n          handleDelete(stuff, index, data[0]);\n        }}\n      />\n    </div>\n  );\n}\n\nfunction AutoRow({\n  data,\n  index,\n  autotransData,\n  boxvalue,\n  saveAuto,\n  handleCatOption,\n  inputCallback,\n  handleSave,\n  handleDelete,\n}) {\n  return (\n    <div className=\"auto-transaction\">\n      <input\n        type=\"date\"\n        className=\"date\"\n        value={data[1]}\n        id=\"autoRowDate\"\n        onChange={(eventData) => saveAuto(eventData, data, index)}\n      />\n      <TransCat\n        categories={boxvalue}\n        data={data}\n        change={(extra) => handleCatOption(extra, index, data[0], \"auto\")}\n      />\n      <input\n        placeholder=\"Expenditure\"\n        className=\"expend\"\n        id=\"autoout\"\n        value={\"¥\" + data[3].toLocaleString()}\n        onChange={(eventData) => inputCallback(eventData, index, data[0])}\n      />\n      <input\n        placeholder=\"Income\"\n        className=\"income\"\n        id=\"autoin\"\n        value={\"¥\" + data[4].toLocaleString()}\n        onChange={(eventData) => inputCallback(eventData, index, data[0])}\n      />\n      <button\n        onClick={(stuff) => {\n          handleSave(stuff, index, data);\n        }}\n      >\n        Save\n      </button>\n      <Delete\n        value={data}\n        index={index}\n        key={index}\n        id={data[0]}\n        auto={autotransData}\n        autocallback={(stuff) => {\n          handleDelete(stuff, index, data[0]);\n        }}\n      />\n    </div>\n  );\n}\n\nfunction Totals({ tots, transaction, budget, saving }) {\n  //tots is the total of budgeted amount and savings but not remaining!\n  let expense = 0;\n  let income = 0;\n  let totalRemaining = 0;\n  let total = 0;\n  for (let i in transaction) {\n    const isIncome = transaction[i][3] === \"income\" || transaction[i][3] === \"\";\n\n    if (transaction[i][4] > 0) {\n      expense -= transaction[i][4];\n    }\n    if (transaction[i][5] > 0) {\n      income += transaction[i][5];\n    }\n    if(!isIncome && transaction[i][5] > 0){\n      totalRemaining += transaction[i][5];\n    }\n  }\n  for (let x in budget) {\n    const remaining = budget[x][2] - budget[x][3];\n    if (remaining <= budget[x][2] && remaining >= 0) {\n      total += budget[x][2]\n    } else if(remaining > budget[x][2]) {\n      totalRemaining += remaining\n    } else if(remaining < 0){\n      total += budget[x][2];\n      totalRemaining -= remaining;\n    }\n  }\n  for (let y in saving){\n    income -= saving[y][3];\n  }\n\n  const actual = income + expense;\n  let actualcolor = \"green\";\n  const calculatedRemaining = income - (totalRemaining + total)\n  let remainingcolor = \"green\";\n  if (actual < 0) {\n    actualcolor = \"red\";\n  } else {\n    actualcolor = \"green\";\n  }\n  if(calculatedRemaining <= 0){\n    remainingcolor = \"red\"\n  } else if(calculatedRemaining > 0 && calculatedRemaining < 50000){\n    remainingcolor = \"yellow\"\n  } else {\n    remainingcolor = \"green\"\n  }\n\n\n  return (\n    <div className=\"totals-container\">\n      <div className=\"budgeted\">Budgeted: ¥{tots.toLocaleString()}</div>\n      <div className=\"budgeted\" style={{ color: remainingcolor }}>\n        <p>Left to budget:</p> ¥{calculatedRemaining.toLocaleString()}\n      </div>\n      <div className=\"actual\" style={{ color: actualcolor }}>\n        <p>Actual:</p> ¥{actual.toLocaleString()}{\" \"}\n      </div>\n    </div>\n  );\n}\n\nfunction Delete({\n  value,\n  index,\n  callback,\n  transcallback,\n  savingsDelcallback,\n  id,\n  boxv,\n  sav,\n  auto,\n  tran,\n  autocallback,\n}) {\n  if (boxv != undefined) {\n    if (boxv.flat().filter((i) => i === id)) {\n      return (\n        <button\n          className=\"delete\"\n          onClick={(event) => callback(event, index, id)}\n        >\n          X\n        </button>\n      );\n    }\n  } else if (tran != undefined) {\n    if (tran.flat().filter((i) => i === id)) {\n      return (\n        <button\n          className=\"delete\"\n          onClick={(event) => transcallback(event, index, id)}\n        >\n          X\n        </button>\n      );\n    }\n  } else if (sav != undefined) {\n    if (sav.flat().filter((i) => i === id)) {\n      return (\n        <button\n          className=\"delete\"\n          onClick={(event) => savingsDelcallback(event, index, id)}\n        >\n          X\n        </button>\n      );\n    }\n  } else if (auto != undefined) {\n    if (auto.flat().filter((i) => i === id)) {\n      return (\n        <button\n          className=\"delete\"\n          onClick={(event) => autocallback(event, index, id)}\n        >\n          X\n        </button>\n      );\n    }\n  }\n}\n\nexport default function App() {\n  const date = new Date();\n\n  //boxvlue = [id, category, budgetamount, spent, date]\n  const [boxvalue, setBoxvalue] = useState(\n    Array(1).fill([\"abc123\", \"\", 0, 0, date, false])\n  );\n\n  //budgeted total i think\n  const [total, setTotal] = useState(0);\n\n  //transaction = [id, name, date, category, expense, income]\n  const [transaction, setTransaction] = useState(\n    Array(1).fill([\"123abc\", \"\", \"\", \"\", 0, 0])\n  );\n\n  //Backend\n  const [firstload, setFirstload] = useState(true);\n  const [deleteBool, setDeletebool] = useState([false, []]);\n\n  //savings = [id, name, budgetamount, total, datestamp]\n  const [savings, setSavings] = useState(\n    Array(1).fill([\"1a2b3c\", \"\", 0, 0, \"savings\", date])\n  );\n\n  //auto transactions = [id, dateday, category, expense, income, \"aaa\"]\n  const [autoTrans, setAutotrans] = useState(\n    Array(1).fill([\"xyz123\", \"\", \"\", 0, 0, \"aaa\"])\n  );\n\n  const [toggleAuto, setToggleAuto] = useState(false);\n  const [toggleLock, setToggleLock] = useState(true);\n  const [passcode, setPasscode] = useState(\"\");\n\n  useEffect(() => {\n    console.log(\"load...\");\n    fetch(\"/load\")\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(\"LOAD payload:\", data);\n        let stuff = boxvalue.slice();\n        let transstuff = transaction.slice();\n        let sav = savings.slice();\n        let aut = autoTrans.slice();\n        const todaydate = new Date();\n\n        for (let i in data.category) {\n          const bdate = new Date(data.category[i].bdate);\n          const payday = calculatePayperiod(bdate);\n          if (payday) {\n            stuff[i] = [\n              data.category[i]._id,\n              data.category[i].name,\n              data.category[i].amount,\n              0,\n              todaydate,\n              data.category[i].persist\n            ];\n          } else {\n            stuff[i] = [\n              data.category[i]._id,\n              data.category[i].name,\n              data.category[i].amount,\n              data.category[i].spent,\n              data.category[i].bdate,\n              data.category[i].persist\n            ];\n          }\n        }\n        for (let x in data.transaction) {\n          if (!data.transaction[x].date) {\n            data.transaction[x].date = \"0000-0-0\";\n          }\n          transstuff[x] = [\n            data.transaction[x]._id,\n            data.transaction[x].tname,\n            data.transaction[x].date,\n            data.transaction[x].category,\n            data.transaction[x].expense,\n            data.transaction[x].income,\n          ];\n        }\n        //if past or is payday, samount should be 0 and stotal should be combined with samount\n        for (let s in data.savings) {\n          const dbdate = new Date(data.savings[s].sdate);\n          //my payday is the 20th\n          const payday = calculatePayperiod(dbdate);\n          if (payday) {\n            sav[s] = [\n              data.savings[s]._id,\n              data.savings[s].sname,\n              0,\n              data.savings[s].stotal + data.savings[s].samount,\n              data.savings[s].sss,\n              todaydate,\n            ];\n          } else {\n            sav[s] = [\n              data.savings[s]._id,\n              data.savings[s].sname,\n              data.savings[s].samount,\n              data.savings[s].stotal,\n              data.savings[s].sss,\n              data.savings[s].sdate,\n            ];\n          }\n        }\n        for (let a in data.auto) {\n          let checky = true;\n          let dd = new Date(data.auto[a].adate);\n          dd = dd.toISOString();\n          dd = dd.slice(0, 10);\n          aut[a] = [\n            data.auto[a]._id,\n            dd,\n            data.auto[a].acategory,\n            data.auto[a].aexpense,\n            data.auto[a].aincome,\n            data.auto[a].aaa,\n          ];\n\n          //my payday is the 20th\n          for (let i in data.transaction) {\n            const payperiod = calculatePayperiod(data.transaction[i].date)\n            if (\n              data.auto[a].acategory === data.transaction[i].category &&\n              payperiod\n            ) {\n              checky = false;\n              break;\n            }\n            if (data.auto[a].acategory === \"\") {\n              checky = false;\n              break;\n            }\n          }\n          if (checky) {\n            console.log(\"START\");\n            transstuff.push(addNewAuto(data.auto[a]));\n          }\n        }\n        //sorting the state like this breaks the program. Get 503 errors for updates to transactions.\n        //transstuff.sort((a,b)=>{return new Date(a[2]) - new Date(b[2])});\n\n        setTransaction(transstuff);\n        setSavings(sav);\n        setAutotrans(aut);\n        setBoxvalue(stuff);\n        calculateSpentandSetBV(stuff, transstuff);\n        calculateTotal(sav, stuff);\n        setFirstload(false);\n      });\n  }, []);\n\n  useEffect(() => {\n    console.log(\"BOXVALUE WAS SET\")\n    if (!firstload && !deleteBool[0]) {\n      fetch(\"/update\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(boxvalue),\n      })\n        .then((response) => response.json())\n        .then((data) => {\n          console.log(\"app.js boxvalue/category fetch: \", data);\n        });\n    } else if (deleteBool[0]) {\n      fetch(\"/delete\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(deleteBool[1]),\n      })\n        .then((response) => response.json())\n        .then((data) => {\n          console.log(\"app.js category DELETE fetch: \", data);\n        });\n      setDeletebool([false, []]);\n    }\n\n  }, [boxvalue]);\n\n  useEffect(() => {\n    if (!firstload && !deleteBool[0]) {\n      console.log(\"transaction state\", typeof transaction, transaction);\n\n      fetch(\"/update\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(transaction),\n      })\n        .then((response) => {\n          if (!response.ok) {\n            throw new Error(`Network response was not ok: ${response.status}`);\n          }\n          return response.json();\n        })\n        .then((data) => {\n          console.log(\"app.js transaction fetch: \", data);\n        });\n    } else if (deleteBool[0]) {\n      fetch(\"/delete\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(deleteBool[1]),\n      })\n        .then((response) => response.json())\n        .then((data) => {\n          console.log(\"app.js transaction DELETE fetch: \", data);\n        });\n\n      setDeletebool([false, []]);\n    }\n\n  }, [transaction]);\n\n  useEffect(() => {\n    if (!firstload && !deleteBool[0]) {\n      console.log(\"savings state\", savings);\n      fetch(\"/update\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(savings),\n      })\n        .then((response) => response.json())\n        .then((data) => {\n          console.log(\"app.js savings fetch: \", data);\n        });\n    } else if (deleteBool[0]) {\n      fetch(\"/delete\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(deleteBool[1]),\n      })\n        .then((response) => response.json())\n        .then((data) => {\n          console.log(\"app.js savings DELETE fetch: \", data);\n        });\n      setDeletebool([false, []]);\n    }\n  }, [savings]);\n\n  useEffect(() => {\n    if (!firstload && !deleteBool[0]) {\n      console.log(\"autotrans state\", autoTrans);\n      fetch(\"/update\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(autoTrans),\n      })\n        .then((response) => response.json())\n        .then((data) => {\n          console.log(\"app.js autotrans fetch: \", data);\n        });\n    } else if (deleteBool[0]) {\n      fetch(\"/delete\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(deleteBool[1]),\n      })\n        .then((response) => response.json())\n        .then((data) => {\n          console.log(\"app.js Autoo DELETE fetch: \", data);\n        });\n      setDeletebool([false, []]);\n    }\n  }, [autoTrans]);\n\n  //Ensures that the input is only a number\n  function modifyNum(arr, filterArr) {\n    for (let j = 0; j < arr.length; j++) {\n      if (arr[j].match(/\\d/)) {\n        filterArr.push(arr[j]);\n      }\n    }\n\n    const boxvalstr = filterArr.join(\"\");\n    return boxvalstr;\n  }\n\n  function calculateTotal(savingss, boxv) {\n    let total = 0;\n    for (let x in boxv) {\n      total += boxv[x][2];\n    }\n    for (let z in savingss) {\n      //add savings to budgeted total\n      total += savingss[z][2];\n    }\n    setTotal(total);\n  }\n\n  function calculatePayperiod(theTrans) {\n    const today = new Date();\n    const day = today.getDate();\n    const month = today.getMonth();\n\n    const ttoday = new Date(theTrans);\n    const tday = ttoday.getDate();\n    const tmonth = ttoday.getMonth();\n\n    const sameMonth = tmonth === month;\n    const bothOver20 = tday >= 20 && day >= 20;\n    const bothUnder20 = tday < 20 && day < 20;\n    const bothOverOrUnder = bothOver20 || bothUnder20;\n\n    const criteria1 = sameMonth && bothOverOrUnder;\n\n    const differentMonths1 = tmonth === month - 1;\n    const differentMonths2 = tmonth === month + 1;\n    const different = differentMonths1 || differentMonths2; //if one is t is 2/13 and today is 3/20\n    const tover20 = tday >= 20;\n    const todayover20 = day >= 20;\n    const todayAhead = tover20 && differentMonths1 && !todayover20;\n   \n    const criteria2 = todayAhead;\n\n    const oneIsDec = tmonth === 11;\n    const oneIsJan = month === 0;\n    const decAndJan = oneIsDec && oneIsJan;\n\n    const criteria3 = decAndJan && tover20 && !todayover20;\n\n    const payperiod = criteria1 || criteria2 || criteria3;\n    return payperiod;\n  }\n\n\n  function calculateSpentandSetBV(nextBoxVal, nextTransaction) {\n    for (let x = 0; x < nextBoxVal.length; x++) {\n      let spent = 0;\n\n\n      for (let ii = 0; ii < nextTransaction.length; ii++) {\n        const pp = calculatePayperiod(nextTransaction[ii][2]);\n\n\n        if (\n          nextBoxVal[x][1] === nextTransaction[ii][3] && //if categories match, expense is present, and\n          nextTransaction[ii][4] > 0 &&\n          pp\n        ) {\n          console.log(\"updating how much spent...\")\n          spent += nextTransaction[ii][4];\n          console.log(\"spent is... \", spent)\n        } else if (\n          nextBoxVal[x][1] === nextTransaction[ii][3] && //if categories match, income present, and\n          nextTransaction[ii][5] > 0 &&\n          pp\n        ) {\n          spent -= nextTransaction[ii][5];\n        }\n      }\n      nextBoxVal[x] = [\n        nextBoxVal[x][0],\n        nextBoxVal[x][1],\n        nextBoxVal[x][2],\n        spent,\n        nextBoxVal[x][4],\n        nextBoxVal[x][5]\n      ];\n    }\n    setBoxvalue(nextBoxVal);\n  }\n  function handleInput(event, ind, id) {\n    const nextBoxVal = boxvalue.slice();\n    let val = event.target.value;\n    const nextTransaction = transaction.slice();\n    const tempSavings = savings.slice();\n    const tempAuto = autoTrans.slice();\n    console.log(\"event id\", event.target.id);\n    //out transactions\n    if (event.target.id === \"out\") {\n      console.log(\"handleInput()\", event.target.id, id);\n      //if OUT then cross check category names and change boxvalue?\n      //This LOOP formats transaction numbers\n      for (let index = 0; index < nextTransaction.length; index++) {\n        if (nextTransaction[index][0] === id) {\n          console.log(\"OUT transaction: \", nextTransaction[index][0]);\n          const arr = [...val];\n          const filterArr = [];\n          const boxstr = modifyNum(arr, filterArr);\n          const str = boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n          event.target.value = \"¥\" + str;\n          nextTransaction[index] = [\n            nextTransaction[index][0],\n            nextTransaction[index][1],\n            nextTransaction[index][2],\n            nextTransaction[index][3],\n            parseFloat(boxstr),\n            nextTransaction[index][5],\n          ];\n        }\n      }\n    } else if (event.target.id === \"in\") {\n      for (let index = 0; index < nextTransaction.length; index++) {\n        if (nextTransaction[index][0] === id) {\n          const arr = [...val];\n          const filterArr = [];\n          const boxstr = modifyNum(arr, filterArr);\n          const str = boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n          event.target.value = \"¥\" + str;\n          nextTransaction[index] = [\n            nextTransaction[index][0],\n            nextTransaction[index][1],\n            nextTransaction[index][2],\n            nextTransaction[index][3],\n            nextTransaction[index][4],\n            parseFloat(boxstr),\n          ];\n        }\n      }\n    } else if (event.target.id === \"categoryamount\") {\n      //This is for category amount changes\n      for (let i = 0; i < nextBoxVal.length; i++) {\n        if (nextBoxVal[i][0] === id) {\n          const arr = [...val];\n          const filterArr = [];\n          const boxstr = modifyNum(arr, filterArr);\n          const str = boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n          event.target.value = \"¥\" + str;\n          nextBoxVal[i] = [\n            nextBoxVal[i][0],\n            nextBoxVal[i][1],\n            parseFloat(boxstr),\n            nextBoxVal[i][3],\n            nextBoxVal[i][4],\n            nextBoxVal[i][5]\n          ];\n        }\n      }\n      calculateTotal(tempSavings, nextBoxVal);\n    } else if (event.target.id === \"savings\") {\n      //update savings amount\n      for (let i = 0; i < tempSavings.length; i++) {\n        if (tempSavings[i][0] === id) {\n          const arr = [...val];\n          const filterArr = [];\n          const boxstr = modifyNum(arr, filterArr);\n          const str = boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n          event.target.value = \"¥\" + str;\n          tempSavings[i] = [\n            tempSavings[i][0],\n            tempSavings[i][1],\n            parseFloat(boxstr),\n            tempSavings[i][3],\n            tempSavings[i][4],\n            tempSavings[i][5],\n          ];\n          calculateTotal(tempSavings, nextBoxVal);\n        }\n      }\n    } else if (event.target.id === \"autoout\") {\n      for (let a in tempAuto) {\n        if (tempAuto[a][0] === id) {\n          const arr = [...val];\n          const filterArr = [];\n          const boxstr = modifyNum(arr, filterArr);\n          const str = boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n          event.target.value = \"¥\" + str;\n\n          tempAuto[a] = [\n            tempAuto[a][0],\n            tempAuto[a][1],\n            tempAuto[a][2],\n            parseFloat(boxstr),\n            tempAuto[a][4],\n            tempAuto[a][5],\n          ];\n        }\n      }\n    } else if (event.target.id === \"autoin\") {\n      for (let a in tempAuto) {\n        if (tempAuto[a][0] === id) {\n          const arr = [...val];\n          const filterArr = [];\n          const boxstr = modifyNum(arr, filterArr);\n          const str = boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n          event.target.value = \"¥\" + str;\n\n          tempAuto[a] = [\n            tempAuto[a][0],\n            tempAuto[a][1],\n            tempAuto[a][2],\n            tempAuto[a][3],\n            parseFloat(boxstr),\n            tempAuto[a][5],\n          ];\n        }\n      }\n    }\n    // Calculating SPENT in boxvalue\n    calculateSpentandSetBV(nextBoxVal, nextTransaction);\n    setSavings(tempSavings);\n    setTransaction(nextTransaction);\n    setAutotrans(tempAuto);\n  }\n\n  function handleCatName(event, ind, id) {\n    const nextBox = boxvalue.slice();\n    for (let i = 0; i < nextBox.length; i++) {\n      if (nextBox[i][0] === id) {\n        nextBox[i] = [\n          id,\n          event.target.value,\n          nextBox[i][2],\n          nextBox[i][3],\n          nextBox[i][4],\n          nextBox[i][5]\n        ];\n      }\n    }\n    setBoxvalue(nextBox);\n  }\n\n  function handleCatOption(event, index, id, which) {\n    const tempTransaction = transaction.slice();\n    const tempAuto = autoTrans.slice();\n    if (which === \"trans\") {\n      tempTransaction[index] = [\n        tempTransaction[index][0],\n        tempTransaction[index][1],\n        tempTransaction[index][2],\n        event.target.value,\n        tempTransaction[index][4],\n        tempTransaction[index][5],\n      ];\n      setTransaction(tempTransaction);\n    } else {\n      tempAuto[index] = [\n        tempAuto[index][0],\n        tempAuto[index][1],\n        event.target.value,\n        tempAuto[index][3],\n        tempAuto[index][4],\n        tempAuto[index][5],\n      ];\n      setAutotrans(tempAuto);\n    }\n  }\n\n  function newRow() {\n    const abc = \"abcdefghijklmnopqrstuvwxyz!#$%\";\n    const ranNum = Math.floor(Math.random() * 100);\n    const ranNum2 = Math.floor(Math.random() * 100);\n    const ranLet = abc[Math.floor(Math.random() * abc.length)];\n    const ranLet2 = abc[Math.floor(Math.random() * abc.length)];\n    const newId = ranNum + ranLet + ranNum2 + ranLet2;\n    const newArr = [newId, \"\", \"\", \"\", 0, 0];\n    setTransaction([...transaction, newArr]);\n  }\n\n  function newSavings() {\n    const abc = \"abcdefghijklmnopqrstuvwxyz!#$%\";\n    const ranNum = Math.floor(Math.random() * 100);\n    const ranNum2 = Math.floor(Math.random() * 100);\n    const ranLet = abc[Math.floor(Math.random() * abc.length)];\n    const ranLet2 = abc[Math.floor(Math.random() * abc.length)];\n    const newId = ranNum + ranLet + ranNum2 + ranLet2;\n    const date = new Date();\n    const day = date.getDate();\n    console.log(day);\n    const newArr = [newId, \"\", 0, 0, \"savings\", date];\n    setSavings([...savings, newArr]);\n  }\n\n  function transName(data, index, id) {\n    const tempTrans = transaction.slice();\n    tempTrans[index] = [\n      tempTrans[index][0],\n      data.target.value,\n      tempTrans[index][2],\n      tempTrans[index][3],\n      tempTrans[index][4],\n      tempTrans[index][5],\n    ];\n    setTransaction(tempTrans);\n  }\n\n  function handleDate(data, index, id) {\n    console.log(data.target.value);\n    const tempTrans = transaction.slice();\n    tempTrans[index] = [\n      tempTrans[index][0],\n      tempTrans[index][1],\n      data.target.value,\n      tempTrans[index][3],\n      tempTrans[index][4],\n      tempTrans[index][5],\n    ];\n    setTransaction(tempTrans);\n  }\n\n  function handleNewCat() {\n    const date = new Date();\n    const abc = \"abcdefghijklmnopqrstuvwxyz!#$%\";\n    const ranNum = Math.floor(Math.random() * 100);\n    const ranNum2 = Math.floor(Math.random() * 100);\n    const ranLet = abc[Math.floor(Math.random() * abc.length)];\n    const ranLet2 = abc[Math.floor(Math.random() * abc.length)];\n    const idVal = ranNum + ranLet + ranNum2 + ranLet2;\n    setBoxvalue([...boxvalue, [idVal, \"\", 0, 0, date, false]]);\n  }\n\n  function handleDelete(val, index, id) {\n    const tempBox = boxvalue.slice();\n    const tempTrans = transaction.slice();\n    const tempSavings = savings.slice();\n    const tempAuto = autoTrans.slice();\n\n    for (let t in tempTrans) {\n      if (tempTrans[t][0] === id) {\n        console.log(\"Deleting trans...\");\n\n        //Set the spent value minus whatever was deleted\n        for (let x in tempBox) {\n          if (tempBox[x][1] === tempTrans[t][3]) {\n            const newspent = tempTrans[t][4];\n            const newincome = tempTrans[t][5];\n            const boxspent = tempBox[x][3];\n            const newspentbox = newincome - newspent + boxspent;\n            tempBox[x] = [\n              tempBox[x][0],\n              tempBox[x][1],\n              tempBox[x][2],\n              newspentbox,\n              tempBox[x][4],\n              tempBox[x][5]\n            ];\n          }\n        }\n        const deleteItem = tempTrans.slice(t, t + 1);\n        tempTrans.splice(t, 1);\n        if (!tempTrans[0]) {\n          tempTrans[0] = [\"123abc\", \"\", \"\", \"\", 0, 0];\n        }\n\n        setDeletebool([true, deleteItem]);\n        setTransaction(tempTrans);\n      }\n    }\n    for (let s in tempSavings) {\n      if (tempSavings[s][0] === id) {\n        console.log(\"deleting savings\");\n        const deleteItem = tempSavings.slice(s, s + 1);\n        tempSavings.splice(s, 1);\n        const date = new Date();\n        const day = date.getDate();\n        if (!tempSavings[0]) {\n          tempSavings[0] = [\"kljasdf\", \"\", 0, 0, \"savings\", date];\n        }\n        calculateTotal(tempSavings, tempBox);\n        setDeletebool([true, deleteItem]);\n        setSavings(tempSavings);\n      }\n    }\n    for (let i in tempBox) {\n      if (tempBox[i][0] === id) {\n        console.log(\"Deleting cats...\");\n        const deleteItem = tempBox.slice(i, i + 1);\n        tempBox.splice(i, 1);\n\n        if (!tempBox[0]) {\n          tempBox[0] = [\"asjkldfklasdh\", \"\", 0, 0, date, false];\n        }\n        calculateTotal(tempSavings, tempBox);\n        setDeletebool([true, deleteItem]);\n        setBoxvalue(tempBox);\n      }\n    }\n    for (let i in tempAuto) {\n      if (tempAuto[i][0] === id) {\n        console.log(\"Deleting autotransaction...\");\n        const deleteItem = tempAuto.slice(i, i + 1);\n        tempAuto.splice(i, 1);\n\n        if (!tempAuto[0]) {\n          tempAuto[0] = [\"xyz321\", \"\", \"\", 0, 0, \"aaa\"];\n        }\n        setDeletebool([true, deleteItem]);\n        setAutotrans(tempAuto);\n      }\n    }\n  }\n\n  function handleSavingsName(val, index, id) {\n    \n    const tempSavings = savings.slice();\n    tempSavings[index] = [\n      tempSavings[index][0],\n      val.target.value,\n      tempSavings[index][2],\n      tempSavings[index][3],\n      tempSavings[index][4],\n      tempSavings[index][5],\n    ];\n    setSavings(tempSavings);\n  }\n\n  function saveAuto(event, data, index) {\n    const tempAuto = autoTrans.slice();\n    \n    for (let i in tempAuto) {\n      if (tempAuto[i][0] === data[0]) {\n        tempAuto[i] = [\n          tempAuto[i][0],\n          event.target.value,\n          tempAuto[i][2],\n          tempAuto[i][3],\n          tempAuto[i][4],\n          tempAuto[i][5],\n        ];\n      }\n    }\n\n    setAutotrans(tempAuto);\n  }\n\n  function addNewAuto(data) {\n    const abc = \"abcdefghijklmnopqrstuvwxyz!#$%\";\n    const ranNum = Math.floor(Math.random() * 100);\n    const ranNum2 = Math.floor(Math.random() * 100);\n    const ranLet = abc[Math.floor(Math.random() * abc.length)];\n    const ranLet2 = abc[Math.floor(Math.random() * abc.length)];\n    const newId = ranNum + ranLet + ranNum2 + ranLet2;\n\n    let ddd = new Date(data.adate);\n    const ddate = ddd.toString(); // Fri Dec 22 2022\n    const day = ddate.slice(8, 10) //Fri Dec 2 2220\n\n    const today = new Date();\n    const totoday = today.toString();\n    const monthday = totoday.slice(0, 7)\n    const year = totoday.slice(10, 15)\n    ddd = monthday + \" \" + day + \" \" + year;\n    const newdate = new Date(ddd);\n\n    const newArr = [\n      newId,\n      \"AUTO\",  //NEED THIS BECAUSE THIS IS A TRANSACTION\n      newdate,\n      data.acategory,\n      data.aexpense,\n      data.aincome\n    ];\n\n    return newArr;\n  }\n\n  function newAuto() {\n    const abc = \"abcdefghijklmnopqrstuvwxyz!#$%\";\n    const ranNum = Math.floor(Math.random() * 100);\n    const ranNum2 = Math.floor(Math.random() * 100);\n    const ranLet = abc[Math.floor(Math.random() * abc.length)];\n    const ranLet2 = abc[Math.floor(Math.random() * abc.length)];\n    const newId = ranNum + ranLet + ranNum2 + ranLet2;\n\n    const newArr = [\n      newId,\n      \"\",\n      \"\",\n      0,\n      0,\n      \"aaa\",\n    ];\n\n    setAutotrans([...autoTrans, newArr])\n  }\n\n\n  function handleSave(stuff, index, data) {\n    console.log(\"handleSAVE\", data);\n    const tempTrans = transaction.slice();\n    //my payday is the 20th\n    let checky = true;\n    for (let i in tempTrans) {\n      const payday = calculatePayperiod(tempTrans[i][2]);\n\n      if (payday && tempTrans[i][3] === data[2]) {\n        checky = false;\n        console.log(\"checky false now\");\n        break;\n      }\n    }\n    if (checky) {\n      console.log(\"save button checky\");\n      const newdate = new Date(data[1]);\n      const ddata = {\n        _id: data[0],\n        adate: newdate,\n        acategory: data[2],\n        aexpense: data[3],\n        aincome: data[4],\n        aaa: data[5],\n      };\n      setTransaction([...transaction, addNewAuto(ddata)]);\n    }\n  }\n\n  function showAuto() {\n    setToggleAuto(!toggleAuto);\n  }\n\n  const handlelogSubmit = async (event) => {\n    // GET REQUEST FOR LOGIN\n    event.preventDefault();\n    try {\n      const response = await fetch(\"/login\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ passcode }),\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Login failed\");\n      }\n\n      const data = await response.json();\n      console.log(\"LOGIN SUCCESS?\", data);\n\n      if (data.success) {\n        setToggleLock(false);\n      } else {\n        console.error(\"Login failed\");\n      }\n    } catch (error) {\n      console.error(\"Error during login:\", error);\n    }\n  };\n\n  function sort() {\n    let t = transaction.slice();\n    const tt = t.sort((a, b) => {return new Date(a[2]) - new Date(b[2]) });\n    console.log(\"T\", tt);\n    setTransaction(tt);\n  }\n\n  function checkPersist(e, bval){\n    console.log(e)\n    console.log(bval)\n  }\n\n\nreturn (\n  <div className=\"App\">\n    {toggleLock && (\n      <div className=\"lock\" id=\"loginDiv\" onSubmit={handlelogSubmit}>\n        <form id=\"loginForm\" action=\"/login\" method=\"post\">\n          <h1>PASSCODE</h1>\n          <input\n            type=\"password\"\n            id=\"passcode\"\n            name=\"passcode\"\n            className=\"pass\"\n            onChange={(e) => setPasscode(e.target.value)}\n          />{\" \"}\n          <br /> <br />\n          <input className=\"submitbutton\" type=\"submit\" value=\"submit\" />\n        </form>\n      </div>\n    )}\n    {!toggleLock && (\n      <div className=\"title-container\">\n        <h1 className=\"dateTitle\">\n          {(() => {\n            const date = new Date();\n            const months = [\n              \"January\",\n              \"February\",\n              \"March\",\n              \"April\",\n              \"May\",\n              \"June\",\n              \"July\",\n              \"August\",\n              \"September\",\n              \"October\",\n              \"November\",\n              \"December\",\n            ];\n            const month = date.getMonth();\n            const year = date.getFullYear();\n\n            return \"Budget of \" + months[month] + \" \" + year;\n          })()}\n        </h1>\n      </div>\n    )}\n    {!toggleLock && (\n      <div className=\"total-amount\" id=\"total\">\n        <Totals tots={total} transaction={transaction} budget={boxvalue} saving={savings} />\n      </div>\n    )}\n    {!toggleLock && (\n      <div className=\"auto-container\">\n        <button onClick={showAuto}>Auto Transactions</button>\n        {toggleAuto && (\n          <div className=\"autoTransaction\">\n            <div className=\"new-savings\">\n              <FontAwesomeIcon\n                icon={faSquarePlus}\n                className=\"newbutton\"\n                onClick={newAuto}\n              />\n              <h4 className=\"faTitle\">Auto Transactions</h4>\n            </div>\n            {autoTrans.map((value, index) => (\n              <AutoRow\n                data={value}\n                index={index}\n                autotransData={autoTrans}\n                boxvalue={boxvalue}\n                handleCatOption={handleCatOption}\n                saveAuto={(x, y, z) => saveAuto(x, y, z)}\n                inputCallback={(x, y, z) => handleInput(x, y, z)}\n                nameCallback={(x, y, z) => transName(x, y, z)}\n                handleDate={(x, y, z) => handleDate(x, y, z)}\n                handleDelete={handleDelete}\n                handleSave={(x, y, z) => handleSave(x, y, z)}\n              />\n            ))}\n          </div>\n        )}\n      </div>\n    )}\n    {!toggleLock && (\n      <div className=\"budget-container\">\n        <div className=\"newcat\">\n          <NewBox title=\"New Category\" handleClick={handleNewCat} />\n        </div>\n        <div className=\"budget-titles\">\n          <p>Category</p>\n          <p>Budgeted</p>\n          <p>Remaining</p>\n        </div>\n        <div className=\"budget\">\n          {boxvalue.map((value, index) => (\n            <Budget\n              value={value}\n              index={index}\n              handleDelete={handleDelete}\n              handleCatName={(x, y, z) => handleCatName(x, y, z)}\n              handleInput={(x, y, z) => handleInput(x, y, z)}\n              box={boxvalue}\n              tran = {transaction}\n              calcP = {calculatePayperiod}\n              checkPersist = {(x,y)=> checkPersist(x,y)}\n            />\n          ))}\n        </div>\n      </div>\n    )}\n    {!toggleLock && (\n      <div className=\"savings-container\">\n        <div className=\"new-savings\">\n          <FontAwesomeIcon\n            icon={faSquarePlus}\n            className=\"newbutton\"\n            onClick={newSavings}\n          />\n          <h4 className=\"faTitle\">Savings</h4>\n        </div>\n        <div className=\"budget-titles\">\n          <p>Savings Name</p>\n          <p>Budgeted</p>\n          <p>Total</p>\n        </div>\n        <div className=\"savings\">\n          {savings.map((value, index) => (\n            <Savings\n              data={value}\n              index={index}\n              handleDelete={handleDelete}\n              savingsCallback={(x, y, z) => handleInput(x, y, z)}\n              savingsname={(x, y, z) => handleSavingsName(x, y, z)}\n              sav={savings}\n            />\n          ))}\n        </div>\n      </div>\n    )}\n    {!toggleLock && (\n      <div className=\"transaction-container\">\n        <div className=\"new-savings\">\n          <FontAwesomeIcon\n            icon={faSquarePlus}\n            className=\"newbutton\"\n            onClick={newRow}\n          />\n          <h4 className=\"faTitle\">Transactions</h4>\n        </div>\n        <div className=\"transaction-titles\">\n          <p className=\"titlebutton\" onClick={()=>{sort()}}>Date</p>\n          <p>Memo</p>\n          <p>Category</p>\n          <p>Expense</p>\n          <p>Income</p>\n        </div>\n        <div className=\"transactions\">\n          {transaction.map((event, index) => (\n            <Row\n              index={index}\n              data={event}\n              tran={transaction}\n              boxvalue={boxvalue}\n              handleCatOption={handleCatOption}\n              inputCallback={(x, y, z) => handleInput(x, y, z)}\n              nameCallback={(x, y, z) => transName(x, y, z)}\n              handleDate={(x, y, z) => handleDate(x, y, z)}\n              handleDelete={handleDelete}\n              key={index}\n            />\n          ))}\n        </div>\n      </div>\n    )}\n  </div>\n);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}