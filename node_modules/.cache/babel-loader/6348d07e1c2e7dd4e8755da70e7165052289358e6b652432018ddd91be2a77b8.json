{"ast":null,"code":"import\"./styles.css\";import{useState,useEffect,useCallback}from\"react\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faSquarePlus}from\"@fortawesome/free-solid-svg-icons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CategoryAmount(_ref){let{parentCallback,idval,val,id}=_ref;return/*#__PURE__*/_jsx(\"input\",{className:\"categorybox\",placeholder:\"Budgeted\",id:\"categoryamount\",value:\"¥\"+val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\"),onChange:event=>parentCallback(event,idval,id)});}function CategoryName(_ref2){let{categname,idval,val,id}=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"category\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:idval,value:\"savings\",className:\"checkbox\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Category\",className:\"category-name\",value:val[1],onChange:event=>categname(event,idval,id)})]});}function AmountBox(_ref3){let{Numvalue,Spent}=_ref3;//const [numval, setNumval] = useState(Numvalue);\n/*\n  useEffect(() => {\n    setNumval(Numvalue);\n  }, [Numvalue]);\n  */return/*#__PURE__*/_jsxs(\"div\",{className:\"amount-children\",id:\"amountbox\",children:[\"\\xA5\",(Numvalue-Spent).toLocaleString()]});}function NewBox(_ref4){let{handleClick,title,id}=_ref4;return/*#__PURE__*/_jsxs(\"div\",{className:\"new-savings\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSquarePlus,className:\"newbutton\",onClick:handleClick}),/*#__PURE__*/_jsx(\"h4\",{className:\"faTitle\",children:\"Budget\"})]});}function TransCat(_ref5){let{categories,change,index,data}=_ref5;let theData;if(data[5]==\"aaa\"){theData=data[2];}else{theData=data[3];}return/*#__PURE__*/_jsxs(\"select\",{name:\"dropdown\",className:\"options\",value:theData,onChange:event=>change(event,index),children:[/*#__PURE__*/_jsx(\"option\",{value:\"1\",className:\"firstoption\"}),/*#__PURE__*/_jsx(\"option\",{value:\"income\",className:\"paycheck\",children:\"Income\"}),categories.map((item,index)=>/*#__PURE__*/_jsx(\"option\",{value:item[1],children:item[1]},index))]});}function Budget(_ref6){let{value,index,handleCatName,handleInput,handleDelete,box}=_ref6;return/*#__PURE__*/_jsxs(\"div\",{className:\"row-budget\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"categorydiv\",children:/*#__PURE__*/_jsx(CategoryName,{idval:index,val:value,id:value[0],categname:eventData=>{handleCatName(eventData,index,value[0]);}},index)}),/*#__PURE__*/_jsx(\"div\",{className:\"categoryamount\",id:\"inputamount\",children:/*#__PURE__*/_jsx(CategoryAmount,{idval:index,val:value[2],id:value[0],parentCallback:event=>handleInput(event,index,value[0])},index)}),/*#__PURE__*/_jsx(\"div\",{className:\"amount-box\",id:\"amountdiv\",children:/*#__PURE__*/_jsx(AmountBox,{idval:index,Numvalue:value[2],Spent:value[3]},index)}),/*#__PURE__*/_jsx(\"div\",{className:\"deleteCat\",children:/*#__PURE__*/_jsx(Delete,{value:value,index:index,id:value[0],callback:stuff=>{handleDelete(stuff,index,value[0]);},boxv:box},index)})]});}function Savings(_ref7){let{data,index,handleDelete,savingsCallback,savingsname,sav}=_ref7;return/*#__PURE__*/_jsxs(\"div\",{className:\"row-savings\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"savings-name\",placeholder:\"Savings Account Name\",value:data[1],onChange:event=>savingsname(event,index,data[0])}),/*#__PURE__*/_jsx(\"input\",{className:\"savings-amount\",placeholder:\"Budgeted amount\",value:\"¥\"+data[2].toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\"),id:\"savings\",onChange:event=>savingsCallback(event,index,data[0])}),/*#__PURE__*/_jsx(\"div\",{className:\"savings-total\",children:\"¥\"+(data[3]+data[2]).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\")}),/*#__PURE__*/_jsx(Delete,{value:data,index:index,id:data[0],savingsDelcallback:event=>handleDelete(event,index,data[0]),sav:sav},index)]});}function Row(_ref8){let{index,data,tran,boxvalue,handleCatOption,inputCallback,nameCallback,handleDate,handleDelete}=_ref8;return/*#__PURE__*/_jsxs(\"div\",{className:\"row-transaction\",children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Date\",className:\"date\",type:\"date\",value:data[2].toString().slice(0,10),onChange:eventD=>{handleDate(eventD,index,data[0]);}}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Memo\",className:\"trans-name\",value:data[1],onChange:eventData=>nameCallback(eventData,index,data[0])}),/*#__PURE__*/_jsx(TransCat,{categories:boxvalue,data:data,change:extra=>handleCatOption(extra,index,data[0],\"trans\")}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Expenditure\",className:\"expend\",id:\"out\",value:\"¥\"+data[4].toLocaleString(),onChange:eventData=>inputCallback(eventData,index,data[0])}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Income\",className:\"income\",id:\"in\",value:\"¥\"+data[5].toLocaleString(),onChange:eventData=>inputCallback(eventData,index,data[0])}),/*#__PURE__*/_jsx(Delete,{value:data,index:index,id:data[0],tran:tran,transcallback:stuff=>{handleDelete(stuff,index,data[0]);}},index)]});}function AutoRow(_ref9){let{data,index,autotransData,boxvalue,saveAuto,handleCatOption,inputCallback,handleSave,handleDelete}=_ref9;return/*#__PURE__*/_jsxs(\"div\",{className:\"auto-transaction\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"date\",value:data[1],id:\"autoRowDate\",onChange:eventData=>saveAuto(eventData,data,index)}),/*#__PURE__*/_jsx(TransCat,{categories:boxvalue,data:data,change:extra=>handleCatOption(extra,index,data[0],\"auto\")}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Expenditure\",className:\"expend\",id:\"autoout\",value:\"¥\"+data[3].toLocaleString(),onChange:eventData=>inputCallback(eventData,index,data[0])}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Income\",className:\"income\",id:\"autoin\",value:\"¥\"+data[4].toLocaleString(),onChange:eventData=>inputCallback(eventData,index,data[0])}),/*#__PURE__*/_jsx(\"button\",{onClick:stuff=>{handleSave(stuff,index,data);},children:\"Save\"}),/*#__PURE__*/_jsx(Delete,{value:data,index:index,id:data[0],auto:autotransData,autocallback:stuff=>{handleDelete(stuff,index,data[0]);}},index)]});}function Totals(_ref10){let{tots,transaction,budget}=_ref10;//tots is the total of budgeted amount and savings but not remaining!\nlet expense=0;let income=0;let totalRemaining=0;let total=0;for(let i in transaction){if(transaction[i][4]>0){expense-=transaction[i][4];}if(transaction[i][5]>0){income+=transaction[i][5];}}for(let x in budget){const remaining=budget[x][2]-budget[x][3];if(remaining<=budget[x][2]){total+=budget[x][2];}else{totalRemaining+=remaining;}}const actual=income+expense;let actualcolor=\"green\";if(actual<0){actualcolor=\"red\";}else{actualcolor=\"green\";}return/*#__PURE__*/_jsxs(\"div\",{className:\"totals-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"budgeted\",children:[\"Budgeted: \\xA5\",tots.toLocaleString()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"budgeted\",style:{color:actualcolor},children:[/*#__PURE__*/_jsx(\"p\",{children:\"Left to budget:\"}),\" \\xA5\",(income-(totalRemaining+total)).toLocaleString()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"actual\",style:{color:actualcolor},children:[/*#__PURE__*/_jsx(\"p\",{children:\"Actual:\"}),\" \\xA5\",actual.toLocaleString(),\" \"]})]});}function Delete(_ref11){let{value,index,callback,transcallback,savingsDelcallback,id,boxv,sav,auto,tran,autocallback}=_ref11;if(boxv!=undefined){if(boxv.flat().filter(i=>i===id)){return/*#__PURE__*/_jsx(\"button\",{className:\"delete\",onClick:event=>callback(event,index,id),children:\"X\"});}}else if(tran!=undefined){if(tran.flat().filter(i=>i===id)){return/*#__PURE__*/_jsx(\"button\",{className:\"delete\",onClick:event=>transcallback(event,index,id),children:\"X\"});}}else if(sav!=undefined){if(sav.flat().filter(i=>i===id)){return/*#__PURE__*/_jsx(\"button\",{className:\"delete\",onClick:event=>savingsDelcallback(event,index,id),children:\"X\"});}}else if(auto!=undefined){if(auto.flat().filter(i=>i===id)){return/*#__PURE__*/_jsx(\"button\",{className:\"delete\",onClick:event=>autocallback(event,index,id),children:\"X\"});}}}export default function App(){const date=new Date();//boxvlue = [id, category, budgetamount, spent, date]\nconst[boxvalue,setBoxvalue]=useState(Array(1).fill([\"abc123\",\"\",0,0,date]));//budgeted total i think\nconst[total,setTotal]=useState(0);//transaction = [id, name, date, category, expense, income]\nconst[transaction,setTransaction]=useState(Array(1).fill([\"123abc\",\"\",\"\",\"\",0,0]));//Backend\nconst[firstload,setFirstload]=useState(true);const[deleteBool,setDeletebool]=useState([false,[]]);//savings = [id, name, budgetamount, total, datestamp]\nconst[savings,setSavings]=useState(Array(1).fill([\"1a2b3c\",\"\",0,0,\"savings\",date]));//auto transactions = [id, dateday, category, expense, income, \"aaa\"]\nconst[autoTrans,setAutotrans]=useState(Array(1).fill([\"xyz123\",\"\",\"\",0,0,\"aaa\"]));const[toggleAuto,setToggleAuto]=useState(false);const[toggleLock,setToggleLock]=useState(true);const[passcode,setPasscode]=useState(\"\");useEffect(()=>{console.log(\"load...\");fetch(\"/load\").then(response=>response.json()).then(data=>{console.log(\"LOAD payload:\",data);let stuff=boxvalue.slice();let transstuff=transaction.slice();let sav=savings.slice();let aut=autoTrans.slice();const todaydate=new Date();for(let i in data.category){const bdate=new Date(data.category[i].bdate);const payday=calculatePayperiod(bdate);if(payday){stuff[i]=[data.category[i]._id,data.category[i].name,data.category[i].amount,0,todaydate];}else{stuff[i]=[data.category[i]._id,data.category[i].name,data.category[i].amount,data.category[i].spent,data.category[i].bdate];}}for(let x in data.transaction){if(!data.transaction[x].date){data.transaction[x].date=\"0000-0-0\";}transstuff[x]=[data.transaction[x]._id,data.transaction[x].tname,data.transaction[x].date,data.transaction[x].category,data.transaction[x].expense,data.transaction[x].income];}//if past or is payday, samount should be 0 and stotal should be combined with samount\nfor(let s in data.savings){const dbdate=new Date(data.savings[s].sdate);//my payday is the 20th\nconst payday=calculatePayperiod(dbdate);if(payday){sav[s]=[data.savings[s]._id,data.savings[s].sname,0,data.savings[s].stotal+data.savings[s].samount,data.savings[s].sss,todaydate];}else{sav[s]=[data.savings[s]._id,data.savings[s].sname,data.savings[s].samount,data.savings[s].stotal,data.savings[s].sss,data.savings[s].sdate];}}for(let a in data.auto){let checky=true;let dd=new Date(data.auto[a].adate);dd=dd.toISOString();dd=dd.slice(0,10);aut[a]=[data.auto[a]._id,dd,data.auto[a].acategory,data.auto[a].aexpense,data.auto[a].aincome,data.auto[a].aaa];//my payday is the 20th\nfor(let i in data.transaction){const payperiod=calculatePayperiod(data.transaction[i].date);if(data.auto[a].acategory===data.transaction[i].category&&payperiod){checky=false;break;}if(data.auto[a].acategory===\"\"){checky=false;break;}}if(checky){console.log(\"START\");transstuff.push(addNewAuto(data.auto[a]));}}//sorting the state like this breaks the program. Get 503 errors for updates to transactions.\n//transstuff.sort((a,b)=>{return new Date(a[2]) - new Date(b[2])});\nsetTransaction(transstuff);setSavings(sav);setAutotrans(aut);setBoxvalue(stuff);calculateSpentandSetBV(stuff,transstuff);calculateTotal(sav,stuff);setFirstload(false);});},[]);useEffect(()=>{console.log(\"BOXVALUE WAS SET\");if(!firstload&&!deleteBool[0]){fetch(\"/update\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(boxvalue)}).then(response=>response.json()).then(data=>{console.log(\"app.js boxvalue/category fetch: \",data);});}else if(deleteBool[0]){fetch(\"/delete\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(deleteBool[1])}).then(response=>response.json()).then(data=>{console.log(\"app.js category DELETE fetch: \",data);});setDeletebool([false,[]]);}},[boxvalue]);useEffect(()=>{if(!firstload&&!deleteBool[0]){console.log(\"transaction state\",typeof transaction,transaction);fetch(\"/update\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(transaction)}).then(response=>{if(!response.ok){throw new Error(\"Network response was not ok: \".concat(response.status));}return response.json();}).then(data=>{console.log(\"app.js transaction fetch: \",data);});}else if(deleteBool[0]){fetch(\"/delete\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(deleteBool[1])}).then(response=>response.json()).then(data=>{console.log(\"app.js transaction DELETE fetch: \",data);});setDeletebool([false,[]]);}},[transaction]);useEffect(()=>{if(!firstload&&!deleteBool[0]){console.log(\"savings state\",savings);fetch(\"/update\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(savings)}).then(response=>response.json()).then(data=>{console.log(\"app.js savings fetch: \",data);});}else if(deleteBool[0]){fetch(\"/delete\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(deleteBool[1])}).then(response=>response.json()).then(data=>{console.log(\"app.js savings DELETE fetch: \",data);});setDeletebool([false,[]]);}},[savings]);useEffect(()=>{if(!firstload&&!deleteBool[0]){console.log(\"autotrans state\",autoTrans);fetch(\"/update\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(autoTrans)}).then(response=>response.json()).then(data=>{console.log(\"app.js autotrans fetch: \",data);});}else if(deleteBool[0]){fetch(\"/delete\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(deleteBool[1])}).then(response=>response.json()).then(data=>{console.log(\"app.js Autoo DELETE fetch: \",data);});setDeletebool([false,[]]);}},[autoTrans]);//Ensures that the input is only a number\nfunction modifyNum(arr,filterArr){for(let j=0;j<arr.length;j++){if(arr[j].match(/\\d/)){filterArr.push(arr[j]);}}const boxvalstr=filterArr.join(\"\");return boxvalstr;}function calculateTotal(savingss,boxv){let total=0;for(let x in boxv){total+=boxv[x][2];}for(let z in savingss){//add savings to budgeted total\ntotal+=savingss[z][2];}setTotal(total);}function calculatePayperiod(theTrans){const today=new Date();const day=today.getDate();const month=today.getMonth();const ttoday=new Date(theTrans);const tday=ttoday.getDate();const tmonth=ttoday.getMonth();const sameMonth=tmonth===month;const bothOver20=tday>=20&&day>=20;const bothUnder20=tday<20&&day<20;const bothOverOrUnder=bothOver20||bothUnder20;const criteria1=sameMonth&&bothOverOrUnder;const differentMonths1=tmonth===month-1;const differentMonths2=tmonth===month+1;const different=differentMonths1||differentMonths2;const tover20=tday>=20;const todayover20=day>=20;const overAndUnder20=tover20||todayover20;const criteria2=different&&overAndUnder20;const oneIsDec=tmonth===11||month===11;const oneIsJan=tmonth===0||month===0;const decAndJan=oneIsDec&&oneIsJan;const criteria3=decAndJan&&overAndUnder20;const payperiod=criteria1||criteria2||criteria3;console.log(\"within payperiod? \",payperiod);return payperiod;}function calculateSpentandSetBV(nextBoxVal,nextTransaction){for(let x=0;x<nextBoxVal.length;x++){let spent=0;for(let ii=0;ii<nextTransaction.length;ii++){const pp=calculatePayperiod(nextTransaction[ii][2]);if(nextBoxVal[x][1]===nextTransaction[ii][3]&&//if categories match, expense is present, and\nnextTransaction[ii][4]>0&&pp){console.log(\"updating how much spent...\");spent+=nextTransaction[ii][4];console.log(\"spent is... \",spent);}else if(nextBoxVal[x][1]===nextTransaction[ii][3]&&//if categories match, income present, and\nnextTransaction[ii][5]>0&&pp){spent-=nextTransaction[ii][5];}}nextBoxVal[x]=[nextBoxVal[x][0],nextBoxVal[x][1],nextBoxVal[x][2],spent,nextBoxVal[x][4]];}setBoxvalue(nextBoxVal);}function handleInput(event,ind,id){const nextBoxVal=boxvalue.slice();let val=event.target.value;const nextTransaction=transaction.slice();const tempSavings=savings.slice();const tempAuto=autoTrans.slice();console.log(\"event id\",event.target.id);//out transactions\nif(event.target.id===\"out\"){console.log(\"handleInput()\",event.target.id,id);//if OUT then cross check category names and change boxvalue?\n//This LOOP formats transaction numbers\nfor(let index=0;index<nextTransaction.length;index++){if(nextTransaction[index][0]===id){console.log(\"OUT transaction: \",nextTransaction[index][0]);const arr=[...val];const filterArr=[];const boxstr=modifyNum(arr,filterArr);const str=boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\");event.target.value=\"¥\"+str;nextTransaction[index]=[nextTransaction[index][0],nextTransaction[index][1],nextTransaction[index][2],nextTransaction[index][3],parseFloat(boxstr),nextTransaction[index][5]];}}}else if(event.target.id===\"in\"){for(let index=0;index<nextTransaction.length;index++){if(nextTransaction[index][0]===id){const arr=[...val];const filterArr=[];const boxstr=modifyNum(arr,filterArr);const str=boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\");event.target.value=\"¥\"+str;nextTransaction[index]=[nextTransaction[index][0],nextTransaction[index][1],nextTransaction[index][2],nextTransaction[index][3],nextTransaction[index][4],parseFloat(boxstr)];}}}else if(event.target.id===\"categoryamount\"){//This is for category amount changes\nfor(let i=0;i<nextBoxVal.length;i++){if(nextBoxVal[i][0]===id){const arr=[...val];const filterArr=[];const boxstr=modifyNum(arr,filterArr);const str=boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\");event.target.value=\"¥\"+str;nextBoxVal[i]=[nextBoxVal[i][0],nextBoxVal[i][1],parseFloat(boxstr),nextBoxVal[i][3],nextBoxVal[i][4]];}}calculateTotal(tempSavings,nextBoxVal);}else if(event.target.id===\"savings\"){//update savings amount\nfor(let i=0;i<tempSavings.length;i++){if(tempSavings[i][0]===id){const arr=[...val];const filterArr=[];const boxstr=modifyNum(arr,filterArr);const str=boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\");event.target.value=\"¥\"+str;tempSavings[i]=[tempSavings[i][0],tempSavings[i][1],parseFloat(boxstr),tempSavings[i][3],tempSavings[i][4],tempSavings[i][5]];calculateTotal(tempSavings,nextBoxVal);}}}else if(event.target.id===\"autoout\"){for(let a in tempAuto){if(tempAuto[a][0]===id){const arr=[...val];const filterArr=[];const boxstr=modifyNum(arr,filterArr);const str=boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\");event.target.value=\"¥\"+str;tempAuto[a]=[tempAuto[a][0],tempAuto[a][1],tempAuto[a][2],parseFloat(boxstr),tempAuto[a][4],tempAuto[a][5]];}}}else if(event.target.id===\"autoin\"){for(let a in tempAuto){if(tempAuto[a][0]===id){const arr=[...val];const filterArr=[];const boxstr=modifyNum(arr,filterArr);const str=boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\");event.target.value=\"¥\"+str;tempAuto[a]=[tempAuto[a][0],tempAuto[a][1],tempAuto[a][2],tempAuto[a][3],parseFloat(boxstr),tempAuto[a][5]];}}}// Calculating SPENT in boxvalue\ncalculateSpentandSetBV(nextBoxVal,nextTransaction);setSavings(tempSavings);setTransaction(nextTransaction);setAutotrans(tempAuto);}function handleCatName(event,ind,id){const nextBox=boxvalue.slice();for(let i=0;i<nextBox.length;i++){if(nextBox[i][0]===id){nextBox[i]=[id,event.target.value,nextBox[i][2],nextBox[i][3],nextBox[i][4]];}}setBoxvalue(nextBox);}function handleCatOption(event,index,id,which){const tempTransaction=transaction.slice();const tempAuto=autoTrans.slice();if(which===\"trans\"){tempTransaction[index]=[tempTransaction[index][0],tempTransaction[index][1],tempTransaction[index][2],event.target.value,tempTransaction[index][4],tempTransaction[index][5]];setTransaction(tempTransaction);}else{tempAuto[index]=[tempAuto[index][0],tempAuto[index][1],event.target.value,tempAuto[index][3],tempAuto[index][4],tempAuto[index][5]];setAutotrans(tempAuto);}}function newRow(){const abc=\"abcdefghijklmnopqrstuvwxyz!#$%\";const ranNum=Math.floor(Math.random()*100);const ranNum2=Math.floor(Math.random()*100);const ranLet=abc[Math.floor(Math.random()*abc.length)];const ranLet2=abc[Math.floor(Math.random()*abc.length)];const newId=ranNum+ranLet+ranNum2+ranLet2;const newArr=[newId,\"\",\"\",\"\",0,0];setTransaction([...transaction,newArr]);}function newSavings(){const abc=\"abcdefghijklmnopqrstuvwxyz!#$%\";const ranNum=Math.floor(Math.random()*100);const ranNum2=Math.floor(Math.random()*100);const ranLet=abc[Math.floor(Math.random()*abc.length)];const ranLet2=abc[Math.floor(Math.random()*abc.length)];const newId=ranNum+ranLet+ranNum2+ranLet2;const date=new Date();const day=date.getDate();console.log(day);const newArr=[newId,\"\",0,0,\"savings\",date];setSavings([...savings,newArr]);}function transName(data,index,id){const tempTrans=transaction.slice();tempTrans[index]=[tempTrans[index][0],data.target.value,tempTrans[index][2],tempTrans[index][3],tempTrans[index][4],tempTrans[index][5]];setTransaction(tempTrans);}function handleDate(data,index,id){console.log(data.target.value);const tempTrans=transaction.slice();tempTrans[index]=[tempTrans[index][0],tempTrans[index][1],data.target.value,tempTrans[index][3],tempTrans[index][4],tempTrans[index][5]];setTransaction(tempTrans);}function handleNewCat(){const date=new Date();const abc=\"abcdefghijklmnopqrstuvwxyz!#$%\";const ranNum=Math.floor(Math.random()*100);const ranNum2=Math.floor(Math.random()*100);const ranLet=abc[Math.floor(Math.random()*abc.length)];const ranLet2=abc[Math.floor(Math.random()*abc.length)];const idVal=ranNum+ranLet+ranNum2+ranLet2;setBoxvalue([...boxvalue,[idVal,\"\",0,0,date]]);}function handleDelete(val,index,id){const tempBox=boxvalue.slice();const tempTrans=transaction.slice();const tempSavings=savings.slice();const tempAuto=autoTrans.slice();for(let t in tempTrans){if(tempTrans[t][0]===id){console.log(\"Deleting trans...\");//Set the spent value minus whatever was deleted\nfor(let x in tempBox){if(tempBox[x][1]===tempTrans[t][3]){const newspent=tempTrans[t][4];const newincome=tempTrans[t][5];const boxspent=tempBox[x][3];const newspentbox=newincome-newspent+boxspent;tempBox[x]=[tempBox[x][0],tempBox[x][1],tempBox[x][2],newspentbox,tempBox[x][4]];}}const deleteItem=tempTrans.slice(t,t+1);tempTrans.splice(t,1);if(!tempTrans[0]){tempTrans[0]=[\"123abc\",\"\",\"\",\"\",0,0];}setDeletebool([true,deleteItem]);setTransaction(tempTrans);}}for(let s in tempSavings){if(tempSavings[s][0]===id){console.log(\"deleting savings\");const deleteItem=tempSavings.slice(s,s+1);tempSavings.splice(s,1);const date=new Date();const day=date.getDate();if(!tempSavings[0]){tempSavings[0]=[\"kljasdf\",\"\",0,0,\"savings\",date];}calculateTotal(tempSavings,tempBox);setDeletebool([true,deleteItem]);setSavings(tempSavings);}}for(let i in tempBox){if(tempBox[i][0]===id){console.log(\"Deleting cats...\");const deleteItem=tempBox.slice(i,i+1);tempBox.splice(i,1);if(!tempBox[0]){tempBox[0]=[\"asjkldfklasdh\",\"\",0,0,date];}calculateTotal(tempSavings,tempBox);setDeletebool([true,deleteItem]);setBoxvalue(tempBox);}}for(let i in tempAuto){if(tempAuto[i][0]===id){console.log(\"Deleting autotransaction...\");const deleteItem=tempAuto.slice(i,i+1);tempAuto.splice(i,1);if(!tempAuto[0]){tempAuto[0]=[\"xyz321\",\"\",\"\",0,0,\"aaa\"];}setDeletebool([true,deleteItem]);setAutotrans(tempAuto);}}}function handleSavingsName(val,index,id){console.log(\"handleSavingsName\",index);const tempSavings=savings.slice();tempSavings[index]=[tempSavings[index][0],val.target.value,tempSavings[index][2],tempSavings[index][3],tempSavings[index][4],tempSavings[index][5]];setSavings(tempSavings);}function saveAuto(event,data,index){const tempAuto=autoTrans.slice();console.log(event.target.value);for(let i in tempAuto){if(tempAuto[i][0]===data[0]){tempAuto[i]=[tempAuto[i][0],event.target.value,tempAuto[i][2],tempAuto[i][3],tempAuto[i][4],tempAuto[i][5]];}}setAutotrans(tempAuto);}function addNewAuto(data){const abc=\"abcdefghijklmnopqrstuvwxyz!#$%\";const ranNum=Math.floor(Math.random()*100);const ranNum2=Math.floor(Math.random()*100);const ranLet=abc[Math.floor(Math.random()*abc.length)];const ranLet2=abc[Math.floor(Math.random()*abc.length)];const newId=ranNum+ranLet+ranNum2+ranLet2;let ddd=new Date(data.adate);const ddate=ddd.toString();// Fri Dec 22 2022\nconst day=ddate.slice(8,10);//Fri Dec 2 2220\nconst today=new Date();const totoday=today.toString();const monthday=totoday.slice(0,7);const year=totoday.slice(10,15);ddd=monthday+\" \"+day+\" \"+year;const newdate=new Date(ddd);const newArr=[newId,\"AUTO\",//NEED THIS BECAUSE THIS IS A TRANSACTION\nnewdate,data.acategory,data.aexpense,data.aincome];return newArr;}function newAuto(){const abc=\"abcdefghijklmnopqrstuvwxyz!#$%\";const ranNum=Math.floor(Math.random()*100);const ranNum2=Math.floor(Math.random()*100);const ranLet=abc[Math.floor(Math.random()*abc.length)];const ranLet2=abc[Math.floor(Math.random()*abc.length)];const newId=ranNum+ranLet+ranNum2+ranLet2;const newArr=[newId,\"\",\"\",0,0,\"aaa\"];setAutotrans([...autoTrans,newArr]);}function handleSave(stuff,index,data){console.log(\"handleSAVE\",data);const tempTrans=transaction.slice();//my payday is the 20th\nlet checky=true;for(let i in tempTrans){const payday=calculatePayperiod(tempTrans[i][2]);if(payday&&tempTrans[i][3]===data[2]){checky=false;console.log(\"checky false now\");break;}}if(checky){console.log(\"save button checky\");const newdate=new Date(data[1]);const ddata={_id:data[0],adate:newdate,acategory:data[2],aexpense:data[3],aincome:data[4],aaa:data[5]};setTransaction([...transaction,addNewAuto(ddata)]);}}function showAuto(){setToggleAuto(!toggleAuto);}const handlelogSubmit=async event=>{// GET REQUEST FOR LOGIN\nevent.preventDefault();try{const response=await fetch(\"/login\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({passcode})});if(!response.ok){throw new Error(\"Login failed\");}const data=await response.json();console.log(\"LOGIN SUCCESS?\",data);if(data.success){setToggleLock(false);}else{console.error(\"Login failed\");}}catch(error){console.error(\"Error during login:\",error);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[toggleLock&&/*#__PURE__*/_jsx(\"div\",{className:\"lock\",id:\"loginDiv\",onSubmit:handlelogSubmit,children:/*#__PURE__*/_jsxs(\"form\",{id:\"loginForm\",action:\"/login\",method:\"post\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"PASSCODE\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"passcode\",name:\"passcode\",className:\"pass\",onChange:e=>setPasscode(e.target.value)}),\" \",/*#__PURE__*/_jsx(\"br\",{}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"submitbutton\",type:\"submit\",value:\"submit\"})]})}),!toggleLock&&/*#__PURE__*/_jsx(\"div\",{className:\"title-container\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"dateTitle\",children:(()=>{const date=new Date();const months=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];const month=date.getMonth();const year=date.getFullYear();return\"Budget of \"+months[month]+\" \"+year;})()})}),!toggleLock&&/*#__PURE__*/_jsx(\"div\",{className:\"total-amount\",id:\"total\",children:/*#__PURE__*/_jsx(Totals,{tots:total,transaction:transaction,budget:boxvalue})}),!toggleLock&&/*#__PURE__*/_jsxs(\"div\",{className:\"auto-container\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:showAuto,children:\"Auto Transactions\"}),toggleAuto&&/*#__PURE__*/_jsxs(\"div\",{className:\"autoTransaction\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"new-savings\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSquarePlus,className:\"newbutton\",onClick:newAuto}),/*#__PURE__*/_jsx(\"h4\",{className:\"faTitle\",children:\"Auto Transactions\"})]}),autoTrans.map((value,index)=>/*#__PURE__*/_jsx(AutoRow,{data:value,index:index,autotransData:autoTrans,boxvalue:boxvalue,handleCatOption:handleCatOption,saveAuto:(x,y,z)=>saveAuto(x,y,z),inputCallback:(x,y,z)=>handleInput(x,y,z),nameCallback:(x,y,z)=>transName(x,y,z),handleDate:(x,y,z)=>handleDate(x,y,z),handleDelete:handleDelete,handleSave:(x,y,z)=>handleSave(x,y,z)}))]})]}),!toggleLock&&/*#__PURE__*/_jsxs(\"div\",{className:\"budget-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"newcat\",children:/*#__PURE__*/_jsx(NewBox,{title:\"New Category\",handleClick:handleNewCat})}),/*#__PURE__*/_jsxs(\"div\",{className:\"budget-titles\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Category\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Budgeted\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Remaining\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"budget\",children:boxvalue.map((value,index)=>/*#__PURE__*/_jsx(Budget,{value:value,index:index,handleDelete:handleDelete,handleCatName:(x,y,z)=>handleCatName(x,y,z),handleInput:(x,y,z)=>handleInput(x,y,z),box:boxvalue}))})]}),!toggleLock&&/*#__PURE__*/_jsxs(\"div\",{className:\"savings-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"new-savings\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSquarePlus,className:\"newbutton\",onClick:newSavings}),/*#__PURE__*/_jsx(\"h4\",{className:\"faTitle\",children:\"Savings\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"budget-titles\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Savings Name\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Budgeted\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Total\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"savings\",children:savings.map((value,index)=>/*#__PURE__*/_jsx(Savings,{data:value,index:index,handleDelete:handleDelete,savingsCallback:(x,y,z)=>handleInput(x,y,z),savingsname:(x,y,z)=>handleSavingsName(x,y,z),sav:savings}))})]}),!toggleLock&&/*#__PURE__*/_jsxs(\"div\",{className:\"transaction-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"new-savings\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSquarePlus,className:\"newbutton\",onClick:newRow}),/*#__PURE__*/_jsx(\"h4\",{className:\"faTitle\",children:\"Transactions\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"transaction-titles\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"titlebutton\",onClick:()=>{const t=transaction.slice();t.sort((a,b)=>{b[2]-a[2];});console.log(\"T\",t);setTransaction(t);},children:\"Date\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Memo\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Category\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Expense\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Income\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"transactions\",children:transaction.map((event,index)=>/*#__PURE__*/_jsx(Row,{index:index,data:event,tran:transaction,boxvalue:boxvalue,handleCatOption:handleCatOption,inputCallback:(x,y,z)=>handleInput(x,y,z),nameCallback:(x,y,z)=>transName(x,y,z),handleDate:(x,y,z)=>handleDate(x,y,z),handleDelete:handleDelete},index))})]})]});}","map":{"version":3,"names":["useState","useEffect","useCallback","FontAwesomeIcon","faSquarePlus","jsx","_jsx","jsxs","_jsxs","CategoryAmount","_ref","parentCallback","idval","val","id","className","placeholder","value","toString","replace","onChange","event","CategoryName","_ref2","categname","children","type","AmountBox","_ref3","Numvalue","Spent","toLocaleString","NewBox","_ref4","handleClick","title","icon","onClick","TransCat","_ref5","categories","change","index","data","theData","name","map","item","Budget","_ref6","handleCatName","handleInput","handleDelete","box","eventData","Delete","callback","stuff","boxv","Savings","_ref7","savingsCallback","savingsname","sav","savingsDelcallback","Row","_ref8","tran","boxvalue","handleCatOption","inputCallback","nameCallback","handleDate","slice","eventD","extra","transcallback","AutoRow","_ref9","autotransData","saveAuto","handleSave","auto","autocallback","Totals","_ref10","tots","transaction","budget","expense","income","totalRemaining","total","i","x","remaining","actual","actualcolor","style","color","_ref11","undefined","flat","filter","App","date","Date","setBoxvalue","Array","fill","setTotal","setTransaction","firstload","setFirstload","deleteBool","setDeletebool","savings","setSavings","autoTrans","setAutotrans","toggleAuto","setToggleAuto","toggleLock","setToggleLock","passcode","setPasscode","console","log","fetch","then","response","json","transstuff","aut","todaydate","category","bdate","payday","calculatePayperiod","_id","amount","spent","tname","s","dbdate","sdate","sname","stotal","samount","sss","a","checky","dd","adate","toISOString","acategory","aexpense","aincome","aaa","payperiod","push","addNewAuto","calculateSpentandSetBV","calculateTotal","method","headers","body","JSON","stringify","ok","Error","concat","status","modifyNum","arr","filterArr","j","length","match","boxvalstr","join","savingss","z","theTrans","today","day","getDate","month","getMonth","ttoday","tday","tmonth","sameMonth","bothOver20","bothUnder20","bothOverOrUnder","criteria1","differentMonths1","differentMonths2","different","tover20","todayover20","overAndUnder20","criteria2","oneIsDec","oneIsJan","decAndJan","criteria3","nextBoxVal","nextTransaction","ii","pp","ind","target","tempSavings","tempAuto","boxstr","str","parseFloat","nextBox","which","tempTransaction","newRow","abc","ranNum","Math","floor","random","ranNum2","ranLet","ranLet2","newId","newArr","newSavings","transName","tempTrans","handleNewCat","idVal","tempBox","t","newspent","newincome","boxspent","newspentbox","deleteItem","splice","handleSavingsName","ddd","ddate","totoday","monthday","year","newdate","newAuto","ddata","showAuto","handlelogSubmit","preventDefault","success","error","onSubmit","action","e","months","getFullYear","y","sort","b"],"sources":["/workspaces/BudgetApp-React-Node/src/App.js"],"sourcesContent":["import \"./styles.css\";\n\nimport { useState, useEffect, useCallback } from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSquarePlus } from \"@fortawesome/free-solid-svg-icons\";\nfunction CategoryAmount({ parentCallback, idval, val, id }) {\n  return (\n    <input\n      className=\"categorybox\"\n      placeholder=\"Budgeted\"\n      id=\"categoryamount\"\n      value={\"¥\" + val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}\n      onChange={(event) => parentCallback(event, idval, id)}\n    />\n  );\n}\n\nfunction CategoryName({ categname, idval, val, id }) {\n  return (\n    <div className=\"category\">\n      <input type=\"checkbox\" id={idval} value=\"savings\" className=\"checkbox\" />\n      <input\n        placeholder=\"Category\"\n        className=\"category-name\"\n        value={val[1]}\n        onChange={(event) => categname(event, idval, id)}\n      />\n    </div>\n  );\n}\n\nfunction AmountBox({ Numvalue, Spent }) {\n  //const [numval, setNumval] = useState(Numvalue);\n\n  /*\n  useEffect(() => {\n    setNumval(Numvalue);\n  }, [Numvalue]);\n  */\n\n  return (\n    <div className=\"amount-children\" id=\"amountbox\">\n      ¥{(Numvalue - Spent).toLocaleString()}\n    </div>\n  );\n}\n\nfunction NewBox({ handleClick, title, id }) {\n  return (\n    <div className=\"new-savings\">\n      <FontAwesomeIcon\n        icon={faSquarePlus}\n        className=\"newbutton\"\n        onClick={handleClick}\n      />\n      <h4 className=\"faTitle\">Budget</h4>\n    </div>\n  );\n}\n\nfunction TransCat({ categories, change, index, data }) {\n  let theData;\n  if (data[5] == \"aaa\") {\n    theData = data[2];\n  } else {\n    theData = data[3];\n  }\n  return (\n    <select\n      name=\"dropdown\"\n      className=\"options\"\n      value={theData}\n      onChange={(event) => change(event, index)}\n    >\n      <option value=\"1\" className=\"firstoption\"></option>\n      <option value=\"income\" className=\"paycheck\">\n        Income\n      </option>\n      {categories.map((item, index) => (\n        <option key={index} value={item[1]}>\n          {item[1]}\n        </option>\n      ))}\n    </select>\n  );\n}\n\nfunction Budget({\n  value,\n  index,\n  handleCatName,\n  handleInput,\n  handleDelete,\n  box,\n}) {\n  return (\n    <div className=\"row-budget\">\n      <div className=\"categorydiv\">\n        <CategoryName\n          key={index}\n          idval={index}\n          val={value}\n          id={value[0]}\n          categname={(eventData) => {\n            handleCatName(eventData, index, value[0]);\n          }}\n        />\n      </div>\n      <div className=\"categoryamount\" id=\"inputamount\">\n        <CategoryAmount\n          key={index}\n          idval={index}\n          val={value[2]}\n          id={value[0]}\n          parentCallback={(event) => handleInput(event, index, value[0])}\n        />\n      </div>\n      <div className=\"amount-box\" id=\"amountdiv\">\n        <AmountBox\n          key={index}\n          idval={index}\n          Numvalue={value[2]}\n          Spent={value[3]}\n        />\n      </div>\n      <div className=\"deleteCat\">\n        <Delete\n          value={value}\n          index={index}\n          key={index}\n          id={value[0]}\n          callback={(stuff) => {\n            handleDelete(stuff, index, value[0]);\n          }}\n          boxv={box}\n        />\n      </div>\n    </div>\n  );\n}\n\nfunction Savings({\n  data,\n  index,\n  handleDelete,\n  savingsCallback,\n  savingsname,\n  sav,\n}) {\n  return (\n    <div className=\"row-savings\">\n      <input\n        className=\"savings-name\"\n        placeholder=\"Savings Account Name\"\n        value={data[1]}\n        onChange={(event) => savingsname(event, index, data[0])}\n      />\n      <input\n        className=\"savings-amount\"\n        placeholder=\"Budgeted amount\"\n        value={\"¥\" + data[2].toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}\n        id=\"savings\"\n        onChange={(event) => savingsCallback(event, index, data[0])}\n      />\n      <div className=\"savings-total\">\n        {\"¥\" +\n          (data[3] + data[2]).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}\n      </div>\n      <Delete\n        value={data}\n        index={index}\n        key={index}\n        id={data[0]}\n        savingsDelcallback={(event) => handleDelete(event, index, data[0])}\n        sav={sav}\n      />\n    </div>\n  );\n}\n\nfunction Row({\n  index,\n  data,\n  tran,\n  boxvalue,\n  handleCatOption,\n  inputCallback,\n  nameCallback,\n  handleDate,\n  handleDelete,\n}) {\n  return (\n    <div className=\"row-transaction\">\n      <input\n        placeholder=\"Date\"\n        className=\"date\"\n        type=\"date\"\n        value={data[2].toString().slice(0, 10)}\n        onChange={(eventD) => {\n          handleDate(eventD, index, data[0]);\n        }}\n      />\n      <input\n        placeholder=\"Memo\"\n        className=\"trans-name\"\n        value={data[1]}\n        onChange={(eventData) => nameCallback(eventData, index, data[0])}\n      />\n      <TransCat\n        categories={boxvalue}\n        data={data}\n        change={(extra) => handleCatOption(extra, index, data[0], \"trans\")}\n      />\n      <input\n        placeholder=\"Expenditure\"\n        className=\"expend\"\n        id=\"out\"\n        value={\"¥\" + data[4].toLocaleString()}\n        onChange={(eventData) => inputCallback(eventData, index, data[0])}\n      />\n      <input\n        placeholder=\"Income\"\n        className=\"income\"\n        id=\"in\"\n        value={\"¥\" + data[5].toLocaleString()}\n        onChange={(eventData) => inputCallback(eventData, index, data[0])}\n      />\n      <Delete\n        value={data}\n        index={index}\n        key={index}\n        id={data[0]}\n        tran={tran}\n        transcallback={(stuff) => {\n          handleDelete(stuff, index, data[0]);\n        }}\n      />\n    </div>\n  );\n}\n\nfunction AutoRow({\n  data,\n  index,\n  autotransData,\n  boxvalue,\n  saveAuto,\n  handleCatOption,\n  inputCallback,\n  handleSave,\n  handleDelete,\n}) {\n  return (\n    <div className=\"auto-transaction\">\n      <input\n        type=\"date\"\n        className=\"date\"\n        value={data[1]}\n        id=\"autoRowDate\"\n        onChange={(eventData) => saveAuto(eventData, data, index)}\n      />\n      <TransCat\n        categories={boxvalue}\n        data={data}\n        change={(extra) => handleCatOption(extra, index, data[0], \"auto\")}\n      />\n      <input\n        placeholder=\"Expenditure\"\n        className=\"expend\"\n        id=\"autoout\"\n        value={\"¥\" + data[3].toLocaleString()}\n        onChange={(eventData) => inputCallback(eventData, index, data[0])}\n      />\n      <input\n        placeholder=\"Income\"\n        className=\"income\"\n        id=\"autoin\"\n        value={\"¥\" + data[4].toLocaleString()}\n        onChange={(eventData) => inputCallback(eventData, index, data[0])}\n      />\n      <button\n        onClick={(stuff) => {\n          handleSave(stuff, index, data);\n        }}\n      >\n        Save\n      </button>\n      <Delete\n        value={data}\n        index={index}\n        key={index}\n        id={data[0]}\n        auto={autotransData}\n        autocallback={(stuff) => {\n          handleDelete(stuff, index, data[0]);\n        }}\n      />\n    </div>\n  );\n}\n\nfunction Totals({ tots, transaction, budget }) {\n  //tots is the total of budgeted amount and savings but not remaining!\n  let expense = 0;\n  let income = 0;\n  let totalRemaining = 0;\n  let total = 0;\n  for (let i in transaction) {\n    if (transaction[i][4] > 0) {\n      expense -= transaction[i][4];\n    }\n    if (transaction[i][5] > 0) {\n      income += transaction[i][5];\n    }\n  }\n  for (let x in budget){\n    const remaining = budget[x][2] - budget[x][3];\n    if(remaining <= budget[x][2]){\n      total += budget[x][2]\n    } else {\n      totalRemaining += remaining\n    }\n    \n  }\n\n  const actual = income + expense;\n  let actualcolor = \"green\";\n  if (actual < 0) {\n    actualcolor = \"red\";\n  } else {\n    actualcolor = \"green\";\n  }\n\n\n  return (\n    <div className=\"totals-container\">\n      <div className=\"budgeted\">Budgeted: ¥{tots.toLocaleString()}</div>\n      <div className=\"budgeted\" style={{ color: actualcolor }}>\n        <p>Left to budget:</p> ¥{(income - (totalRemaining + total)).toLocaleString()}\n      </div>\n      <div className=\"actual\" style={{ color: actualcolor }}>\n        <p>Actual:</p> ¥{actual.toLocaleString()}{\" \"}\n      </div>\n    </div>\n  );\n}\n\nfunction Delete({\n  value,\n  index,\n  callback,\n  transcallback,\n  savingsDelcallback,\n  id,\n  boxv,\n  sav,\n  auto,\n  tran,\n  autocallback,\n}) {\n  if (boxv != undefined) {\n    if (boxv.flat().filter((i) => i === id)) {\n      return (\n        <button\n          className=\"delete\"\n          onClick={(event) => callback(event, index, id)}\n        >\n          X\n        </button>\n      );\n    }\n  } else if (tran != undefined) {\n    if (tran.flat().filter((i) => i === id)) {\n      return (\n        <button\n          className=\"delete\"\n          onClick={(event) => transcallback(event, index, id)}\n        >\n          X\n        </button>\n      );\n    }\n  } else if (sav != undefined) {\n    if (sav.flat().filter((i) => i === id)) {\n      return (\n        <button\n          className=\"delete\"\n          onClick={(event) => savingsDelcallback(event, index, id)}\n        >\n          X\n        </button>\n      );\n    }\n  } else if (auto != undefined) {\n    if (auto.flat().filter((i) => i === id)) {\n      return (\n        <button\n          className=\"delete\"\n          onClick={(event) => autocallback(event, index, id)}\n        >\n          X\n        </button>\n      );\n    }\n  }\n}\n\nexport default function App() {\n  const date = new Date();\n\n  //boxvlue = [id, category, budgetamount, spent, date]\n  const [boxvalue, setBoxvalue] = useState(\n    Array(1).fill([\"abc123\", \"\", 0, 0, date])\n  );\n\n  //budgeted total i think\n  const [total, setTotal] = useState(0); \n\n  //transaction = [id, name, date, category, expense, income]\n  const [transaction, setTransaction] = useState(\n    Array(1).fill([\"123abc\", \"\", \"\", \"\", 0, 0])\n  );\n\n  //Backend\n  const [firstload, setFirstload] = useState(true);\n  const [deleteBool, setDeletebool] = useState([false, []]);\n\n  //savings = [id, name, budgetamount, total, datestamp]\n  const [savings, setSavings] = useState(\n    Array(1).fill([\"1a2b3c\", \"\", 0, 0, \"savings\", date])\n  );\n\n  //auto transactions = [id, dateday, category, expense, income, \"aaa\"]\n  const [autoTrans, setAutotrans] = useState(\n    Array(1).fill([\"xyz123\", \"\", \"\", 0, 0, \"aaa\"])\n  );\n\n  const [toggleAuto, setToggleAuto] = useState(false);\n  const [toggleLock, setToggleLock] = useState(true);\n  const [passcode, setPasscode] = useState(\"\");\n\n  useEffect(() => {\n    console.log(\"load...\");\n    fetch(\"/load\")\n      .then((response) => response.json())\n      .then((data) => {\n        console.log(\"LOAD payload:\", data);\n        let stuff = boxvalue.slice();\n        let transstuff = transaction.slice();\n        let sav = savings.slice();\n        let aut = autoTrans.slice();\n        const todaydate = new Date();\n\n        for (let i in data.category) {\n          const bdate = new Date(data.category[i].bdate);\n          const payday = calculatePayperiod(bdate);\n          if (payday) {\n            stuff[i] = [\n              data.category[i]._id,\n              data.category[i].name,\n              data.category[i].amount,\n              0,\n              todaydate,\n            ];\n          } else {\n            stuff[i] = [\n              data.category[i]._id,\n              data.category[i].name,\n              data.category[i].amount,\n              data.category[i].spent,\n              data.category[i].bdate,\n            ];\n          }\n        }\n        for (let x in data.transaction) {\n          if (!data.transaction[x].date) {\n            data.transaction[x].date = \"0000-0-0\";\n          }\n          transstuff[x] = [\n            data.transaction[x]._id,\n            data.transaction[x].tname,\n            data.transaction[x].date,\n            data.transaction[x].category,\n            data.transaction[x].expense,\n            data.transaction[x].income,\n          ];\n        }\n        //if past or is payday, samount should be 0 and stotal should be combined with samount\n        for (let s in data.savings) {\n          const dbdate = new Date(data.savings[s].sdate);\n          //my payday is the 20th\n          const payday = calculatePayperiod(dbdate);\n          if (payday) {\n            sav[s] = [\n              data.savings[s]._id,\n              data.savings[s].sname,\n              0,\n              data.savings[s].stotal + data.savings[s].samount,\n              data.savings[s].sss,\n              todaydate,\n            ];\n          } else {\n            sav[s] = [\n              data.savings[s]._id,\n              data.savings[s].sname,\n              data.savings[s].samount,\n              data.savings[s].stotal,\n              data.savings[s].sss,\n              data.savings[s].sdate,\n            ];\n          }\n        }\n        for (let a in data.auto) {\n          let checky = true;\n          let dd = new Date(data.auto[a].adate);\n          dd = dd.toISOString();\n          dd = dd.slice(0, 10);\n          aut[a] = [\n            data.auto[a]._id,\n            dd,\n            data.auto[a].acategory,\n            data.auto[a].aexpense,\n            data.auto[a].aincome,\n            data.auto[a].aaa,\n          ];\n\n          //my payday is the 20th\n          for (let i in data.transaction) {\n            const payperiod = calculatePayperiod(data.transaction[i].date)\n            if (\n              data.auto[a].acategory === data.transaction[i].category &&\n              payperiod\n            ) {\n              checky = false;\n              break;\n            }\n            if (data.auto[a].acategory === \"\") {\n              checky = false;\n              break;\n            }\n          }\n          if (checky) {\n            console.log(\"START\");\n            transstuff.push(addNewAuto(data.auto[a]));\n          }\n        }\n        //sorting the state like this breaks the program. Get 503 errors for updates to transactions.\n        //transstuff.sort((a,b)=>{return new Date(a[2]) - new Date(b[2])});\n\n        setTransaction(transstuff);\n        setSavings(sav);\n        setAutotrans(aut);\n        setBoxvalue(stuff);\n        calculateSpentandSetBV(stuff, transstuff);\n        calculateTotal(sav, stuff);\n        setFirstload(false);\n      });\n  }, []);\n\n  useEffect(() => {\n    console.log(\"BOXVALUE WAS SET\")\n    if (!firstload && !deleteBool[0]) {\n      fetch(\"/update\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(boxvalue),\n      })\n        .then((response) => response.json())\n        .then((data) => {\n          console.log(\"app.js boxvalue/category fetch: \", data);\n        });\n    } else if (deleteBool[0]) {\n      fetch(\"/delete\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(deleteBool[1]),\n      })\n        .then((response) => response.json())\n        .then((data) => {\n          console.log(\"app.js category DELETE fetch: \", data);\n        });\n      setDeletebool([false, []]);\n    }\n\n  }, [boxvalue]);\n\n  useEffect(() => {\n    if (!firstload && !deleteBool[0]) {\n      console.log(\"transaction state\", typeof transaction, transaction);\n\n      fetch(\"/update\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(transaction),\n      })\n        .then((response) => {\n          if (!response.ok) {\n            throw new Error(`Network response was not ok: ${response.status}`);\n          }\n          return response.json();\n        })\n        .then((data) => {\n          console.log(\"app.js transaction fetch: \", data);\n        });\n    } else if (deleteBool[0]) {\n      fetch(\"/delete\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(deleteBool[1]),\n      })\n        .then((response) => response.json())\n        .then((data) => {\n          console.log(\"app.js transaction DELETE fetch: \", data);\n        });\n\n      setDeletebool([false, []]);\n    }\n    \n  }, [transaction]);\n\n  useEffect(() => {\n    if (!firstload && !deleteBool[0]) {\n      console.log(\"savings state\", savings);\n      fetch(\"/update\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(savings),\n      })\n        .then((response) => response.json())\n        .then((data) => {\n          console.log(\"app.js savings fetch: \", data);\n        });\n    } else if (deleteBool[0]) {\n      fetch(\"/delete\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(deleteBool[1]),\n      })\n        .then((response) => response.json())\n        .then((data) => {\n          console.log(\"app.js savings DELETE fetch: \", data);\n        });\n      setDeletebool([false, []]);\n    }\n  }, [savings]);\n\n  useEffect(() => {\n    if (!firstload && !deleteBool[0]) {\n      console.log(\"autotrans state\", autoTrans);\n      fetch(\"/update\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(autoTrans),\n      })\n        .then((response) => response.json())\n        .then((data) => {\n          console.log(\"app.js autotrans fetch: \", data);\n        });\n    } else if (deleteBool[0]) {\n      fetch(\"/delete\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(deleteBool[1]),\n      })\n        .then((response) => response.json())\n        .then((data) => {\n          console.log(\"app.js Autoo DELETE fetch: \", data);\n        });\n      setDeletebool([false, []]);\n    }\n  }, [autoTrans]);\n\n  //Ensures that the input is only a number\n  function modifyNum(arr, filterArr) {\n    for (let j = 0; j < arr.length; j++) {\n      if (arr[j].match(/\\d/)) {\n        filterArr.push(arr[j]);\n      }\n    }\n\n    const boxvalstr = filterArr.join(\"\");\n    return boxvalstr;\n  }\n\n  function calculateTotal(savingss, boxv) {\n    let total = 0;\n    for (let x in boxv) {\n      total += boxv[x][2];\n    }\n    for (let z in savingss) {\n      //add savings to budgeted total\n      total += savingss[z][2];\n    }\n    setTotal(total);\n  }\n\n  function calculatePayperiod(theTrans) {\n    const today = new Date();\n    const day = today.getDate();\n    const month = today.getMonth();\n\n    const ttoday = new Date(theTrans);\n    const tday = ttoday.getDate();\n    const tmonth = ttoday.getMonth();\n\n    const sameMonth = tmonth === month;\n    const bothOver20 = tday >= 20 && day >= 20;\n    const bothUnder20 = tday < 20 && day < 20;\n    const bothOverOrUnder = bothOver20 || bothUnder20;\n\n    const criteria1 = sameMonth && bothOverOrUnder;\n\n    const differentMonths1 = tmonth === month - 1;\n    const differentMonths2 = tmonth === month + 1;\n    const different = differentMonths1 || differentMonths2;\n    const tover20 = tday >= 20;\n    const todayover20 = day >= 20;\n    const overAndUnder20 = tover20 || todayover20;\n\n    const criteria2 = different && overAndUnder20;\n\n    const oneIsDec = tmonth === 11 || month === 11;\n    const oneIsJan = tmonth === 0 || month === 0;\n    const decAndJan = oneIsDec && oneIsJan;\n\n    const criteria3 = decAndJan && overAndUnder20;\n\n    const payperiod = criteria1 || criteria2 || criteria3;\n    console.log(\"within payperiod? \", payperiod)\n    return payperiod;\n  }\n\n\n  function calculateSpentandSetBV(nextBoxVal, nextTransaction){\n    for (let x = 0; x < nextBoxVal.length; x++) {\n      let spent = 0;\n\n\n      for (let ii = 0; ii < nextTransaction.length; ii++) {\n        const pp = calculatePayperiod(nextTransaction[ii][2]);\n\n\n        if (\n          nextBoxVal[x][1] === nextTransaction[ii][3] && //if categories match, expense is present, and\n          nextTransaction[ii][4] > 0 &&\n          pp\n        ) {\n          console.log(\"updating how much spent...\")\n          spent += nextTransaction[ii][4];\n          console.log(\"spent is... \", spent)\n        } else if (\n          nextBoxVal[x][1] === nextTransaction[ii][3] && //if categories match, income present, and\n          nextTransaction[ii][5] > 0 &&\n          pp\n        ) {\n          spent -= nextTransaction[ii][5];\n        }\n      }\n      nextBoxVal[x] = [\n        nextBoxVal[x][0],\n        nextBoxVal[x][1],\n        nextBoxVal[x][2],\n        spent,\n        nextBoxVal[x][4],\n      ];\n    }\n    setBoxvalue(nextBoxVal);\n  }\n  function handleInput(event, ind, id) {\n    const nextBoxVal = boxvalue.slice();\n    let val = event.target.value;\n    const nextTransaction = transaction.slice();\n    const tempSavings = savings.slice();\n    const tempAuto = autoTrans.slice();\n    console.log(\"event id\", event.target.id);\n    //out transactions\n    if (event.target.id === \"out\") {\n      console.log(\"handleInput()\", event.target.id, id);\n      //if OUT then cross check category names and change boxvalue?\n      //This LOOP formats transaction numbers\n      for (let index = 0; index < nextTransaction.length; index++) {\n        if (nextTransaction[index][0] === id) {\n          console.log(\"OUT transaction: \", nextTransaction[index][0]);\n          const arr = [...val];\n          const filterArr = [];\n          const boxstr = modifyNum(arr, filterArr);\n          const str = boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n          event.target.value = \"¥\" + str;\n          nextTransaction[index] = [\n            nextTransaction[index][0],\n            nextTransaction[index][1],\n            nextTransaction[index][2],\n            nextTransaction[index][3],\n            parseFloat(boxstr),\n            nextTransaction[index][5],\n          ];\n        }\n      }\n    } else if (event.target.id === \"in\") {\n      for (let index = 0; index < nextTransaction.length; index++) {\n        if (nextTransaction[index][0] === id) {\n          const arr = [...val];\n          const filterArr = [];\n          const boxstr = modifyNum(arr, filterArr);\n          const str = boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n          event.target.value = \"¥\" + str;\n          nextTransaction[index] = [\n            nextTransaction[index][0],\n            nextTransaction[index][1],\n            nextTransaction[index][2],\n            nextTransaction[index][3],\n            nextTransaction[index][4],\n            parseFloat(boxstr),\n          ];\n        }\n      }\n    } else if (event.target.id === \"categoryamount\") {\n      //This is for category amount changes\n      for (let i = 0; i < nextBoxVal.length; i++) {\n        if (nextBoxVal[i][0] === id) {\n          const arr = [...val];\n          const filterArr = [];\n          const boxstr = modifyNum(arr, filterArr);\n          const str = boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n          event.target.value = \"¥\" + str;\n          nextBoxVal[i] = [\n            nextBoxVal[i][0],\n            nextBoxVal[i][1],\n            parseFloat(boxstr),\n            nextBoxVal[i][3],\n            nextBoxVal[i][4],\n          ];\n        }\n      }\n      calculateTotal(tempSavings, nextBoxVal);\n    } else if (event.target.id === \"savings\") {\n      //update savings amount\n      for (let i = 0; i < tempSavings.length; i++) {\n        if (tempSavings[i][0] === id) {\n          const arr = [...val];\n          const filterArr = [];\n          const boxstr = modifyNum(arr, filterArr);\n          const str = boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n          event.target.value = \"¥\" + str;\n          tempSavings[i] = [\n            tempSavings[i][0],\n            tempSavings[i][1],\n            parseFloat(boxstr),\n            tempSavings[i][3],\n            tempSavings[i][4],\n            tempSavings[i][5],\n          ];\n          calculateTotal(tempSavings, nextBoxVal);\n        }\n      }\n    } else if (event.target.id === \"autoout\") {\n      for (let a in tempAuto) {\n        if (tempAuto[a][0] === id) {\n          const arr = [...val];\n          const filterArr = [];\n          const boxstr = modifyNum(arr, filterArr);\n          const str = boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n          event.target.value = \"¥\" + str;\n\n          tempAuto[a] = [\n            tempAuto[a][0],\n            tempAuto[a][1],\n            tempAuto[a][2],\n            parseFloat(boxstr),\n            tempAuto[a][4],\n            tempAuto[a][5],\n          ];\n        }\n      }\n    } else if (event.target.id === \"autoin\") {\n      for (let a in tempAuto) {\n        if (tempAuto[a][0] === id) {\n          const arr = [...val];\n          const filterArr = [];\n          const boxstr = modifyNum(arr, filterArr);\n          const str = boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n          event.target.value = \"¥\" + str;\n\n          tempAuto[a] = [\n            tempAuto[a][0],\n            tempAuto[a][1],\n            tempAuto[a][2],\n            tempAuto[a][3],\n            parseFloat(boxstr),\n            tempAuto[a][5],\n          ];\n        }\n      }\n    }\n    // Calculating SPENT in boxvalue\n    calculateSpentandSetBV(nextBoxVal, nextTransaction);\n    setSavings(tempSavings);\n    setTransaction(nextTransaction);\n    setAutotrans(tempAuto);\n  }\n\n  function handleCatName(event, ind, id) {\n    const nextBox = boxvalue.slice();\n    for (let i = 0; i < nextBox.length; i++) {\n      if (nextBox[i][0] === id) {\n        nextBox[i] = [\n          id,\n          event.target.value,\n          nextBox[i][2],\n          nextBox[i][3],\n          nextBox[i][4],\n        ];\n      }\n    }\n    setBoxvalue(nextBox);\n  }\n\n  function handleCatOption(event, index, id, which) {\n    const tempTransaction = transaction.slice();\n    const tempAuto = autoTrans.slice();\n    if (which === \"trans\") {\n      tempTransaction[index] = [\n        tempTransaction[index][0],\n        tempTransaction[index][1],\n        tempTransaction[index][2],\n        event.target.value,\n        tempTransaction[index][4],\n        tempTransaction[index][5],\n      ];\n      setTransaction(tempTransaction);\n    } else {\n      tempAuto[index] = [\n        tempAuto[index][0],\n        tempAuto[index][1],\n        event.target.value,\n        tempAuto[index][3],\n        tempAuto[index][4],\n        tempAuto[index][5],\n      ];\n      setAutotrans(tempAuto);\n    }\n  }\n\n  function newRow() {\n    const abc = \"abcdefghijklmnopqrstuvwxyz!#$%\";\n    const ranNum = Math.floor(Math.random() * 100);\n    const ranNum2 = Math.floor(Math.random() * 100);\n    const ranLet = abc[Math.floor(Math.random() * abc.length)];\n    const ranLet2 = abc[Math.floor(Math.random() * abc.length)];\n    const newId = ranNum + ranLet + ranNum2 + ranLet2;\n    const newArr = [newId, \"\", \"\", \"\", 0, 0];\n    setTransaction([...transaction, newArr]);\n  }\n\n  function newSavings() {\n    const abc = \"abcdefghijklmnopqrstuvwxyz!#$%\";\n    const ranNum = Math.floor(Math.random() * 100);\n    const ranNum2 = Math.floor(Math.random() * 100);\n    const ranLet = abc[Math.floor(Math.random() * abc.length)];\n    const ranLet2 = abc[Math.floor(Math.random() * abc.length)];\n    const newId = ranNum + ranLet + ranNum2 + ranLet2;\n    const date = new Date();\n    const day = date.getDate();\n    console.log(day);\n    const newArr = [newId, \"\", 0, 0, \"savings\", date];\n    setSavings([...savings, newArr]);\n  }\n\n  function transName(data, index, id) {\n    const tempTrans = transaction.slice();\n    tempTrans[index] = [\n      tempTrans[index][0],\n      data.target.value,\n      tempTrans[index][2],\n      tempTrans[index][3],\n      tempTrans[index][4],\n      tempTrans[index][5],\n    ];\n    setTransaction(tempTrans);\n  }\n\n  function handleDate(data, index, id) {\n    console.log(data.target.value);\n    const tempTrans = transaction.slice();\n    tempTrans[index] = [\n      tempTrans[index][0],\n      tempTrans[index][1],\n      data.target.value,\n      tempTrans[index][3],\n      tempTrans[index][4],\n      tempTrans[index][5],\n    ];\n    setTransaction(tempTrans);\n  }\n\n  function handleNewCat() {\n    const date = new Date();\n    const abc = \"abcdefghijklmnopqrstuvwxyz!#$%\";\n    const ranNum = Math.floor(Math.random() * 100);\n    const ranNum2 = Math.floor(Math.random() * 100);\n    const ranLet = abc[Math.floor(Math.random() * abc.length)];\n    const ranLet2 = abc[Math.floor(Math.random() * abc.length)];\n    const idVal = ranNum + ranLet + ranNum2 + ranLet2;\n    setBoxvalue([...boxvalue, [idVal, \"\", 0, 0, date]]);\n  }\n\n  function handleDelete(val, index, id) {\n    const tempBox = boxvalue.slice();\n    const tempTrans = transaction.slice();\n    const tempSavings = savings.slice();\n    const tempAuto = autoTrans.slice();\n\n    for (let t in tempTrans) {\n      if (tempTrans[t][0] === id) {\n        console.log(\"Deleting trans...\");\n\n        //Set the spent value minus whatever was deleted\n        for (let x in tempBox) {\n          if (tempBox[x][1] === tempTrans[t][3]) {\n            const newspent = tempTrans[t][4];\n            const newincome = tempTrans[t][5];\n            const boxspent = tempBox[x][3];\n            const newspentbox = newincome - newspent + boxspent;\n            tempBox[x] = [\n              tempBox[x][0],\n              tempBox[x][1],\n              tempBox[x][2],\n              newspentbox,\n              tempBox[x][4],\n            ];\n          }\n        }\n        const deleteItem = tempTrans.slice(t, t + 1);\n        tempTrans.splice(t, 1);\n        if (!tempTrans[0]) {\n          tempTrans[0] = [\"123abc\", \"\", \"\", \"\", 0, 0];\n        }\n\n        setDeletebool([true, deleteItem]);\n        setTransaction(tempTrans);\n      }\n    }\n    for (let s in tempSavings) {\n      if (tempSavings[s][0] === id) {\n        console.log(\"deleting savings\");\n        const deleteItem = tempSavings.slice(s, s + 1);\n        tempSavings.splice(s, 1);\n        const date = new Date();\n        const day = date.getDate();\n        if (!tempSavings[0]) {\n          tempSavings[0] = [\"kljasdf\", \"\", 0, 0, \"savings\", date];\n        }\n        calculateTotal(tempSavings, tempBox);\n        setDeletebool([true, deleteItem]);\n        setSavings(tempSavings);\n      }\n    }\n    for (let i in tempBox) {\n      if (tempBox[i][0] === id) {\n        console.log(\"Deleting cats...\");\n        const deleteItem = tempBox.slice(i, i + 1);\n        tempBox.splice(i, 1);\n\n        if (!tempBox[0]) {\n          tempBox[0] = [\"asjkldfklasdh\", \"\", 0, 0, date];\n        }\n        calculateTotal(tempSavings, tempBox);\n        setDeletebool([true, deleteItem]);\n        setBoxvalue(tempBox);\n      }\n    }\n    for (let i in tempAuto) {\n      if (tempAuto[i][0] === id) {\n        console.log(\"Deleting autotransaction...\");\n        const deleteItem = tempAuto.slice(i, i + 1);\n        tempAuto.splice(i, 1);\n\n        if (!tempAuto[0]) {\n          tempAuto[0] = [\"xyz321\", \"\", \"\", 0, 0, \"aaa\"];\n        }\n        setDeletebool([true, deleteItem]);\n        setAutotrans(tempAuto);\n      }\n    }\n  }\n\n  function handleSavingsName(val, index, id) {\n    console.log(\"handleSavingsName\", index);\n    const tempSavings = savings.slice();\n    tempSavings[index] = [\n      tempSavings[index][0],\n      val.target.value,\n      tempSavings[index][2],\n      tempSavings[index][3],\n      tempSavings[index][4],\n      tempSavings[index][5],\n    ];\n    setSavings(tempSavings);\n  }\n\n  function saveAuto(event, data, index) {\n    const tempAuto = autoTrans.slice();\n    console.log(event.target.value);\n    for (let i in tempAuto) {\n      if (tempAuto[i][0] === data[0]) {\n        tempAuto[i] = [\n          tempAuto[i][0],\n          event.target.value,\n          tempAuto[i][2],\n          tempAuto[i][3],\n          tempAuto[i][4],\n          tempAuto[i][5],\n        ];\n      }\n    }\n\n    setAutotrans(tempAuto);\n  }\n\n  function addNewAuto(data) {\n    const abc = \"abcdefghijklmnopqrstuvwxyz!#$%\";\n    const ranNum = Math.floor(Math.random() * 100);\n    const ranNum2 = Math.floor(Math.random() * 100);\n    const ranLet = abc[Math.floor(Math.random() * abc.length)];\n    const ranLet2 = abc[Math.floor(Math.random() * abc.length)];\n    const newId = ranNum + ranLet + ranNum2 + ranLet2;\n\n    let ddd = new Date(data.adate);\n    const ddate = ddd.toString(); // Fri Dec 22 2022\n    const day = ddate.slice(8, 10) //Fri Dec 2 2220\n\n    const today = new Date();\n    const totoday = today.toString();\n    const monthday = totoday.slice(0, 7)\n    const year = totoday.slice(10, 15)\n    ddd = monthday + \" \" + day + \" \" + year;\n    const newdate = new Date(ddd);\n\n    const newArr = [\n      newId,\n      \"AUTO\",  //NEED THIS BECAUSE THIS IS A TRANSACTION\n      newdate,\n      data.acategory,\n      data.aexpense,\n      data.aincome\n    ];\n\n    return newArr;\n  }\n\n  function newAuto() {\n    const abc = \"abcdefghijklmnopqrstuvwxyz!#$%\";\n    const ranNum = Math.floor(Math.random() * 100);\n    const ranNum2 = Math.floor(Math.random() * 100);\n    const ranLet = abc[Math.floor(Math.random() * abc.length)];\n    const ranLet2 = abc[Math.floor(Math.random() * abc.length)];\n    const newId = ranNum + ranLet + ranNum2 + ranLet2;\n\n    const newArr = [\n      newId,\n      \"\",\n      \"\",\n      0,\n      0,\n      \"aaa\",\n    ];\n\n    setAutotrans([...autoTrans, newArr])\n  }\n\n\n  function handleSave(stuff, index, data) {\n    console.log(\"handleSAVE\", data);\n    const tempTrans = transaction.slice();\n    //my payday is the 20th\n    let checky = true;\n    for (let i in tempTrans) {\n      const payday = calculatePayperiod(tempTrans[i][2]);\n\n      if (payday && tempTrans[i][3] === data[2]) {\n        checky = false;\n        console.log(\"checky false now\");\n        break;\n      }\n    }\n    if (checky) {\n      console.log(\"save button checky\");\n      const newdate = new Date(data[1]);\n      const ddata = {\n        _id: data[0],\n        adate: newdate,\n        acategory: data[2],\n        aexpense: data[3],\n        aincome: data[4],\n        aaa: data[5],\n      };\n      setTransaction([...transaction, addNewAuto(ddata)]);\n    }\n  }\n\n  function showAuto() {\n    setToggleAuto(!toggleAuto);\n  }\n\n  const handlelogSubmit = async (event) => {\n    // GET REQUEST FOR LOGIN\n    event.preventDefault();\n    try {\n      const response = await fetch(\"/login\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ passcode }),\n      });\n\n      if (!response.ok) {\n        throw new Error(\"Login failed\");\n      }\n\n      const data = await response.json();\n      console.log(\"LOGIN SUCCESS?\", data);\n\n      if (data.success) {\n        setToggleLock(false);\n      } else {\n        console.error(\"Login failed\");\n      }\n    } catch (error) {\n      console.error(\"Error during login:\", error);\n    }\n  };\n\n\n  return (\n    <div className=\"App\">\n      {toggleLock && (\n        <div className=\"lock\" id=\"loginDiv\" onSubmit={handlelogSubmit}>\n          <form id=\"loginForm\" action=\"/login\" method=\"post\">\n            <h1>PASSCODE</h1>\n            <input\n              type=\"password\"\n              id=\"passcode\"\n              name=\"passcode\"\n              className=\"pass\"\n              onChange={(e) => setPasscode(e.target.value)}\n            />{\" \"}\n            <br /> <br />\n            <input className=\"submitbutton\" type=\"submit\" value=\"submit\" />\n          </form>\n        </div>\n      )}\n      {!toggleLock && (\n        <div className=\"title-container\">\n          <h1 className=\"dateTitle\">\n            {(() => {\n              const date = new Date();\n              const months = [\n                \"January\",\n                \"February\",\n                \"March\",\n                \"April\",\n                \"May\",\n                \"June\",\n                \"July\",\n                \"August\",\n                \"September\",\n                \"October\",\n                \"November\",\n                \"December\",\n              ];\n              const month = date.getMonth();\n              const year = date.getFullYear();\n\n              return \"Budget of \" + months[month] + \" \" + year;\n            })()}\n          </h1>\n        </div>\n      )}\n      {!toggleLock && (\n        <div className=\"total-amount\" id=\"total\">\n          <Totals tots={total} transaction={transaction} budget={boxvalue} />\n        </div>\n      )}\n      {!toggleLock && (\n        <div className=\"auto-container\">\n          <button onClick={showAuto}>Auto Transactions</button>\n          {toggleAuto && (\n            <div className=\"autoTransaction\">\n              <div className=\"new-savings\">\n                <FontAwesomeIcon\n                  icon={faSquarePlus}\n                  className=\"newbutton\"\n                  onClick={newAuto}\n                />\n                <h4 className=\"faTitle\">Auto Transactions</h4>\n              </div>\n              {autoTrans.map((value, index) => (\n                <AutoRow\n                  data={value}\n                  index={index}\n                  autotransData={autoTrans}\n                  boxvalue={boxvalue}\n                  handleCatOption={handleCatOption}\n                  saveAuto={(x, y, z) => saveAuto(x, y, z)}\n                  inputCallback={(x, y, z) => handleInput(x, y, z)}\n                  nameCallback={(x, y, z) => transName(x, y, z)}\n                  handleDate={(x, y, z) => handleDate(x, y, z)}\n                  handleDelete={handleDelete}\n                  handleSave={(x, y, z) => handleSave(x, y, z)}\n                />\n              ))}\n            </div>\n          )}\n        </div>\n      )}\n      {!toggleLock && (\n        <div className=\"budget-container\">\n          <div className=\"newcat\">\n            <NewBox title=\"New Category\" handleClick={handleNewCat} />\n          </div>\n          <div className=\"budget-titles\">\n            <p>Category</p>\n            <p>Budgeted</p>\n            <p>Remaining</p>\n          </div>\n          <div className=\"budget\">\n            {boxvalue.map((value, index) => (\n              <Budget\n                value={value}\n                index={index}\n                handleDelete={handleDelete}\n                handleCatName={(x, y, z) => handleCatName(x, y, z)}\n                handleInput={(x, y, z) => handleInput(x, y, z)}\n                box={boxvalue}\n              />\n            ))}\n          </div>\n        </div>\n      )}\n      {!toggleLock && (\n        <div className=\"savings-container\">\n          <div className=\"new-savings\">\n            <FontAwesomeIcon\n              icon={faSquarePlus}\n              className=\"newbutton\"\n              onClick={newSavings}\n            />\n            <h4 className=\"faTitle\">Savings</h4>\n          </div>\n          <div className=\"budget-titles\">\n            <p>Savings Name</p>\n            <p>Budgeted</p>\n            <p>Total</p>\n          </div>\n          <div className=\"savings\">\n            {savings.map((value, index) => (\n              <Savings\n                data={value}\n                index={index}\n                handleDelete={handleDelete}\n                savingsCallback={(x, y, z) => handleInput(x, y, z)}\n                savingsname={(x, y, z) => handleSavingsName(x, y, z)}\n                sav={savings}\n              />\n            ))}\n          </div>\n        </div>\n      )}\n      {!toggleLock && (\n        <div className=\"transaction-container\">\n          <div className=\"new-savings\">\n            <FontAwesomeIcon\n              icon={faSquarePlus}\n              className=\"newbutton\"\n              onClick={newRow}\n            />\n            <h4 className=\"faTitle\">Transactions</h4>\n          </div>\n          <div className=\"transaction-titles\">\n            <p className= \"titlebutton\" onClick={()=>{\n              const t = transaction.slice();\n              t.sort((a,b)=>{b[2]-a[2]});\n              console.log(\"T\", t);\n              setTransaction(t);\n            }}\n              >Date</p>\n            <p>Memo</p>\n            <p>Category</p>\n            <p>Expense</p>\n            <p>Income</p>\n          </div>\n          <div className=\"transactions\">\n            {transaction.map((event, index) => (\n              <Row\n                index={index}\n                data={event}\n                tran={transaction}\n                boxvalue={boxvalue}\n                handleCatOption={handleCatOption}\n                inputCallback={(x, y, z) => handleInput(x, y, z)}\n                nameCallback={(x, y, z) => transName(x, y, z)}\n                handleDate={(x, y, z) => handleDate(x, y, z)}\n                handleDelete={handleDelete}\n                key={index}\n              />\n            ))}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}