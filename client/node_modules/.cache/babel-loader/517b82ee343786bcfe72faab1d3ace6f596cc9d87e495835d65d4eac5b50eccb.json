{"ast":null,"code":"import _toConsumableArray from \"/workspaces/BudgetApp-React-Express/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/workspaces/BudgetApp-React-Express/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/workspaces/BudgetApp-React-Express/client/src/App.js\",\n  _s = $RefreshSig$();\nimport \"./styles.css\";\nimport { useState, useEffect, useCallback } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction CategoryAmount(_ref) {\n  var parentCallback = _ref.parentCallback,\n    idval = _ref.idval,\n    val = _ref.val,\n    id = _ref.id;\n  return /*#__PURE__*/_jsxDEV(\"input\", {\n    className: \"categorybox\",\n    placeholder: \"Budgeted\",\n    id: \"categoryamount\",\n    value: \"¥\" + val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\n    onChange: function onChange(event) {\n      return parentCallback(event, idval, id);\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 5\n  }, this);\n}\n_c = CategoryAmount;\nfunction CategoryName(_ref2) {\n  var categname = _ref2.categname,\n    idval = _ref2.idval,\n    val = _ref2.val,\n    id = _ref2.id;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"category\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"checkbox\",\n      id: idval,\n      value: \"savings\",\n      className: \"checkbox\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Category\",\n      className: \"category-name\",\n      value: val[1],\n      onChange: function onChange(event) {\n        return categname(event, idval, id);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 19,\n    columnNumber: 5\n  }, this);\n}\n_c2 = CategoryName;\nfunction AmountBox(_ref3) {\n  var Numvalue = _ref3.Numvalue,\n    Spent = _ref3.Spent;\n  //const [numval, setNumval] = useState(Numvalue);\n\n  /*\n  useEffect(() => {\n    setNumval(Numvalue);\n  }, [Numvalue]);\n  */\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"amount-children\",\n    id: \"amountbox\",\n    children: [\"\\xA5\", (Numvalue - Spent).toLocaleString()]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 5\n  }, this);\n}\n_c3 = AmountBox;\nfunction NewBox(_ref4) {\n  var handleClick = _ref4.handleClick,\n    title = _ref4.title,\n    id = _ref4.id;\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"newbutton\",\n    onClick: handleClick,\n    children: title\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 10\n  }, this);\n}\n_c4 = NewBox;\nfunction TransCat(_ref5) {\n  var _this = this;\n  var categories = _ref5.categories,\n    change = _ref5.change,\n    index = _ref5.index,\n    data = _ref5.data;\n  var theData;\n  if (data[5] == \"aaa\") {\n    theData = data[2];\n  } else {\n    theData = data[3];\n  }\n  return /*#__PURE__*/_jsxDEV(\"select\", {\n    name: \"dropdown\",\n    className: \"options\",\n    value: theData,\n    onChange: function onChange(event) {\n      return change(event, index);\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n      value: \"1\",\n      className: \"firstoption\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n      value: \"income\",\n      className: \"paycheck\",\n      children: \"Income\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), categories.map(function (item, index) {\n      return /*#__PURE__*/_jsxDEV(\"option\", {\n        value: item[1],\n        children: item[1]\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, _this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n}\n_c5 = TransCat;\nfunction Budget(_ref6) {\n  var value = _ref6.value,\n    index = _ref6.index,\n    handleCatName = _ref6.handleCatName,\n    handleInput = _ref6.handleInput,\n    handleDelete = _ref6.handleDelete,\n    box = _ref6.box;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row-budget\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"categorydiv\",\n      children: /*#__PURE__*/_jsxDEV(CategoryName, {\n        idval: index,\n        val: value,\n        id: value[0],\n        categname: function categname(eventData) {\n          handleCatName(eventData, index, value[0]);\n        }\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"categoryamount\",\n      id: \"inputamount\",\n      children: /*#__PURE__*/_jsxDEV(CategoryAmount, {\n        idval: index,\n        val: value[2],\n        id: value[0],\n        parentCallback: function parentCallback(event) {\n          return handleInput(event, index, value[0]);\n        }\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"amount-box\",\n      id: \"amountdiv\",\n      children: /*#__PURE__*/_jsxDEV(AmountBox, {\n        idval: index,\n        Numvalue: value[2],\n        Spent: value[3]\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"deleteCat\",\n      children: /*#__PURE__*/_jsxDEV(Delete, {\n        value: value,\n        index: index,\n        id: value[0],\n        callback: function callback(stuff) {\n          handleDelete(stuff, index, value[0]);\n        },\n        boxv: box\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 5\n  }, this);\n}\n_c6 = Budget;\nfunction Savings(_ref7) {\n  var data = _ref7.data,\n    index = _ref7.index,\n    handleDelete = _ref7.handleDelete,\n    savingsCallback = _ref7.savingsCallback,\n    savingsname = _ref7.savingsname,\n    sav = _ref7.sav;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row-savings\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"savings-name\",\n      placeholder: \"Savings Account Name\",\n      value: data[1],\n      onChange: function onChange(event) {\n        return savingsname(event, index, data[0]);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      className: \"savings-amount\",\n      placeholder: \"Budgeted amount\",\n      value: \"¥\" + data[2].toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\"),\n      id: \"savings\",\n      onChange: function onChange(event) {\n        return savingsCallback(event, index, data[0]);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"savings-total\",\n      children: \"¥\" + (data[3] + data[2]).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Delete, {\n      value: data,\n      index: index,\n      id: data[0],\n      savingsDelcallback: function savingsDelcallback(event) {\n        return handleDelete(event, index, data[0]);\n      },\n      sav: sav\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, this);\n}\n_c7 = Savings;\nfunction Row(_ref8) {\n  var index = _ref8.index,\n    data = _ref8.data,\n    boxvalue = _ref8.boxvalue,\n    handleCatOption = _ref8.handleCatOption,\n    inputCallback = _ref8.inputCallback,\n    nameCallback = _ref8.nameCallback,\n    handleDate = _ref8.handleDate,\n    handleDelete = _ref8.handleDelete;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row-transaction\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Date\",\n      className: \"date\",\n      type: \"date\",\n      value: data[2].slice(0, 10),\n      onChange: function onChange(eventD) {\n        handleDate(eventD, index, data[0]);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Memo\",\n      className: \"trans-name\",\n      value: data[1],\n      onChange: function onChange(eventData) {\n        return nameCallback(eventData, index, data[0]);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TransCat, {\n      categories: boxvalue,\n      data: data,\n      change: function change(extra) {\n        return handleCatOption(extra, index, data[0], \"trans\");\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Expenditure\",\n      className: \"expend\",\n      id: \"out\",\n      value: \"¥\" + data[4].toLocaleString(),\n      onChange: function onChange(eventData) {\n        return inputCallback(eventData, index, data[0]);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Income\",\n      className: \"income\",\n      id: \"in\",\n      value: \"¥\" + data[5].toLocaleString(),\n      onChange: function onChange(eventData) {\n        return inputCallback(eventData, index, data[0]);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Delete, {\n      value: data,\n      index: index,\n      id: data[0],\n      transcallback: function transcallback(stuff) {\n        handleDelete(stuff, index, data[0]);\n      }\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 166,\n    columnNumber: 5\n  }, this);\n}\n_c8 = Row;\nfunction AutoRow(_ref9) {\n  var data = _ref9.data,\n    index = _ref9.index,\n    autotransData = _ref9.autotransData,\n    boxvalue = _ref9.boxvalue,\n    saveAuto = _ref9.saveAuto,\n    handleCatOption = _ref9.handleCatOption,\n    inputCallback = _ref9.inputCallback,\n    nameCallback = _ref9.nameCallback,\n    handleDate = _ref9.handleDate,\n    handleDelete = _ref9.handleDelete;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row-transaction\",\n    children: [/*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"number\",\n      min: \"1\",\n      max: \"31\",\n      placeholder: \"When?\",\n      className: \"date\",\n      id: \"autoRowDate\",\n      onChange: function onChange(eventData) {\n        return saveAuto(eventData);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TransCat, {\n      categories: boxvalue,\n      data: data,\n      change: function change(extra) {\n        return handleCatOption(extra, index, data[0], \"auto\");\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Expenditure\",\n      className: \"expend\",\n      id: \"autoout\",\n      value: \"¥\" + data[3].toLocaleString(),\n      onChange: function onChange(eventData) {\n        return inputCallback(eventData, index, data[0]);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      placeholder: \"Income\",\n      className: \"income\",\n      id: \"autoin\",\n      value: \"¥\" + data[4].toLocaleString(),\n      onChange: function onChange(eventData) {\n        return inputCallback(eventData, index, data[0]);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      children: \"Save\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Delete, {\n      value: data,\n      index: index,\n      id: data[0],\n      auto: autoTransData,\n      autocallback: function autocallback(stuff) {\n        handleDelete(stuff, index, data[0]);\n      }\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 227,\n    columnNumber: 5\n  }, this);\n}\n_c9 = AutoRow;\nfunction Totals(_ref10) {\n  var tots = _ref10.tots,\n    transaction = _ref10.transaction;\n  var expense = 0;\n  var income = 0;\n  for (var i in transaction) {\n    if (transaction[i][4] > 0) {\n      expense -= transaction[i][4];\n    }\n    if (transaction[i][5] > 0) {\n      income += transaction[i][5];\n    }\n  }\n  var actual = income + expense;\n  var actualcolor = \"black\";\n  if (actual < 0) {\n    actualcolor = \"red\";\n  } else {\n    actualcolor = \"black\";\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"totals-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"budgeted\",\n      children: [\"Budgeted: \\xA5\", tots.toLocaleString()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"budgeted\",\n      children: [\"Left to budget: \\xA5\", (income - tots).toLocaleString()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"actual\",\n      style: {\n        color: actualcolor\n      },\n      children: [\"Actual: \\xA5\", actual.toLocaleString(), \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 295,\n    columnNumber: 5\n  }, this);\n}\n_c10 = Totals;\nfunction Delete(_ref11) {\n  var value = _ref11.value,\n    index = _ref11.index,\n    callback = _ref11.callback,\n    transcallback = _ref11.transcallback,\n    savingsDelcallback = _ref11.savingsDelcallback,\n    id = _ref11.id,\n    boxv = _ref11.boxv,\n    sav = _ref11.sav,\n    auto = _ref11.auto;\n  if (boxv != undefined) {\n    if (boxv.flat().filter(function (i) {\n      return i === id;\n    })) {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"delete\",\n        onClick: function onClick(event) {\n          return callback(event, index, id);\n        },\n        children: \"X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 7\n      }, this);\n    }\n  } else if (value[5] != undefined && value[4] != \"savings\") {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"delete\",\n      onClick: function onClick(event) {\n        return transcallback(event, index, id);\n      },\n      children: \"X\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 7\n    }, this);\n  } else if (sav != undefined) {\n    if (sav.flat().filter(function (i) {\n      return i === id;\n    })) {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"delete\",\n        onClick: function onClick(event) {\n          return savingsDelcallback(event, index, id);\n        },\n        children: \"X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 11\n      }, this);\n    }\n  } else if (auto != undefined) {\n    if (auto.flat().filter(function (i) {\n      return i === id;\n    })) {\n      return /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"delete\",\n        onClick: function onClick(event) {\n          return autocallback(event, index, id);\n        },\n        children: \"X\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 11\n      }, this);\n    }\n  }\n}\n_c11 = Delete;\nexport default function App() {\n  _s();\n  var _this2 = this;\n  var date = new Date();\n\n  //boxvlue = [id, category, budgetamount, spent]\n  var _useState = useState(Array(1).fill([\"abc123\", \"\", 0, 0, date])),\n    _useState2 = _slicedToArray(_useState, 2),\n    boxvalue = _useState2[0],\n    setBoxvalue = _useState2[1];\n  var _useState3 = useState(0),\n    _useState4 = _slicedToArray(_useState3, 2),\n    total = _useState4[0],\n    setTotal = _useState4[1]; //budgeted total i think\n  //transaction = [id, name, date, category, expense, income]\n  var _useState5 = useState(Array(1).fill([\"123abc\", \"\", \"\", \"\", 0, 0])),\n    _useState6 = _slicedToArray(_useState5, 2),\n    transaction = _useState6[0],\n    setTransaction = _useState6[1];\n  //Backend\n  var _useState7 = useState(true),\n    _useState8 = _slicedToArray(_useState7, 2),\n    firstload = _useState8[0],\n    setFirstload = _useState8[1];\n  var _useState9 = useState([false, []]),\n    _useState10 = _slicedToArray(_useState9, 2),\n    deleteBool = _useState10[0],\n    setDeletebool = _useState10[1];\n\n  //savings = [id, name, budgetamount, total, datestamp]\n  var _useState11 = useState(Array(1).fill([\"1a2b3c\", \"\", 0, 0, \"savings\", date])),\n    _useState12 = _slicedToArray(_useState11, 2),\n    savings = _useState12[0],\n    setSavings = _useState12[1];\n  //auto transactions = [id, dateday, category, expense, income, \"aaa\"]\n  var _useState13 = useState(Array(1).fill([\"xyz123\", 0, \"\", 0, 0, \"aaa\"])),\n    _useState14 = _slicedToArray(_useState13, 2),\n    autoTrans = _useState14[0],\n    setAutotrans = _useState14[1];\n  useEffect(function () {\n    console.log(\"load...\");\n    fetch(\"/load\").then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      console.log(\"LOAD payload:\", data);\n      var stuff = boxvalue.slice();\n      var transstuff = transaction.slice();\n      var sav = savings.slice();\n      var aut = autoTrans.slice();\n      var todaydate = new Date();\n      var todayDate = todaydate.getDate();\n      var todayMonth = todaydate.getMonth();\n      for (var i in data.category) {\n        var bdate = new Date(data.category[i].bdate);\n        var bDate = bdate.getDate();\n        var bMonth = bdate.getMonth();\n        //UPDATE LATER when serious\n        if (todayMonth === bMonth + 1 && todayDate >= 20) {\n          stuff[i] = [data.category[i]._id, data.category[i].name, data.category[i].amount, 0, todaydate];\n        } else {\n          stuff[i] = [data.category[i]._id, data.category[i].name, data.category[i].amount, data.category[i].spent, data.category[i].bdate];\n        }\n      }\n      for (var x in data.transaction) {\n        if (!data.transaction[x].date) {\n          data.transaction[x].date = \"0000-0-0\";\n        }\n        transstuff[x] = [data.transaction[x]._id, data.transaction[x].tname, data.transaction[x].date, data.transaction[x].category, data.transaction[x].expense, data.transaction[x].income];\n      }\n      //if past or is payday, samount should be 0 and stotal should be combined with samount\n      for (var s in data.savings) {\n        var dbdate = new Date(data.savings[s].sdate);\n        var dbMonth = dbdate.getMonth();\n        //CHANGE to this when serious... todayMonth === dbMonth + 1 && todayDate >= 20\n        if (todayMonth === dbMonth + 1 && todayDate >= 20) {\n          sav[s] = [data.savings[s]._id, data.savings[s].sname, 0, data.savings[s].stotal + data.savings[s].samount, data.savings[s].sss, todaydate];\n        } else {\n          sav[s] = [data.savings[s]._id, data.savings[s].sname, data.savings[s].samount, data.savings[s].stotal, data.savings[s].sss, data.savings[s].sdate];\n        }\n        for (var a in data.auto) {\n          aut[a] = [data.auto[a]._id, data.auto[a].adate, data.auto[a].acategory, data.auto[a].aexpense, data.auto[a].aincome, data.auto[a].aaa];\n        }\n      }\n      console.log(\"LOG savings\", sav);\n      setTransaction(transstuff);\n      setSavings(sav);\n      setAutotrans(aut);\n      setBoxvalue(stuff);\n      calculateTotal(sav, stuff);\n      setFirstload(false);\n    });\n  }, []);\n  useEffect(function () {\n    if (!firstload && !deleteBool[0]) {\n      fetch(\"/update\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(boxvalue)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(\"app.js category fetch: \", data);\n      });\n    } else if (deleteBool[0]) {\n      fetch(\"/delete\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(deleteBool[1])\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(\"app.js category DELETE fetch: \", data);\n      });\n      setDeletebool([false, []]);\n    }\n  }, [boxvalue]);\n  useEffect(function () {\n    if (!firstload && !deleteBool[0]) {\n      console.log(\"transaction state\", transaction);\n      fetch(\"/update\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(transaction)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(\"app.js transaction fetch: \", data);\n      });\n    } else if (deleteBool[0]) {\n      fetch(\"/delete\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(deleteBool[1])\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(\"app.js transaction DELETE fetch: \", data);\n      });\n      setDeletebool([false, []]);\n    }\n  }, [transaction]);\n  useEffect(function () {\n    if (!firstload && !deleteBool[0]) {\n      console.log(\"savings state\", savings);\n      fetch(\"/update\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(savings)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(\"app.js savings fetch: \", data);\n      });\n    } else if (deleteBool[0]) {\n      fetch(\"/delete\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(deleteBool[1])\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(\"app.js savings DELETE fetch: \", data);\n      });\n      setDeletebool([false, []]);\n    }\n  }, [savings]);\n  useEffect(function () {\n    if (!firstload && !deleteBool[0]) {\n      console.log(\"autotrans state\", autoTrans);\n      fetch(\"/update\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(autoTrans)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(\"app.js autotrans fetch: \", data);\n      });\n    } else if (deleteBool[0]) {\n      fetch(\"/delete\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(deleteBool[1])\n      }).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        console.log(\"app.js Autoo DELETE fetch: \", data);\n      });\n      setDeletebool([false, []]);\n    }\n  }, [autoTrans]);\n\n  //Ensures that the input is only a number\n  function modifyNum(arr, filterArr) {\n    for (var j = 0; j < arr.length; j++) {\n      if (arr[j].match(/\\d/)) {\n        filterArr.push(arr[j]);\n      }\n    }\n    var boxvalstr = filterArr.join(\"\");\n    return boxvalstr;\n  }\n  function calculateTotal(savingss, boxv) {\n    var total = 0;\n    for (var x in boxv) {\n      total += boxv[x][2];\n    }\n    for (var z in savingss) {\n      //add savings to budgeted total\n      total += savingss[z][2];\n    }\n    setTotal(total);\n  }\n  function _handleInput(event, ind, id) {\n    var nextBoxVal = boxvalue.slice();\n    var val = event.target.value;\n    var nextTransaction = transaction.slice();\n    var tempSavings = savings.slice();\n    var tempAuto = autoTrans.slice();\n    console.log(\"event id\", event.target.id);\n    //out transactions\n    if (event.target.id === \"out\") {\n      console.log(\"ID\", id);\n      //if OUT then cross check category names and change boxvalue?\n      //This LOOP formats transaction numbers\n      for (var index = 0; index < nextTransaction.length; index++) {\n        if (nextTransaction[index][0] === id) {\n          console.log(\"OUT transaction: \", nextTransaction[index][0]);\n          var arr = _toConsumableArray(val);\n          var filterArr = [];\n          var boxstr = modifyNum(arr, filterArr);\n          var str = boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n          event.target.value = \"¥\" + str;\n          nextTransaction[index] = [nextTransaction[index][0], nextTransaction[index][1], nextTransaction[index][2], nextTransaction[index][3], parseFloat(boxstr), nextTransaction[index][5]];\n        }\n      }\n    } else if (event.target.id === \"in\") {\n      for (var _index = 0; _index < nextTransaction.length; _index++) {\n        if (nextTransaction[_index][0] === id) {\n          var _arr = _toConsumableArray(val);\n          var _filterArr = [];\n          var _boxstr = modifyNum(_arr, _filterArr);\n          var _str = _boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n          event.target.value = \"¥\" + _str;\n          nextTransaction[_index] = [nextTransaction[_index][0], nextTransaction[_index][1], nextTransaction[_index][2], nextTransaction[_index][3], nextTransaction[_index][4], parseFloat(_boxstr)];\n        }\n      }\n    } else if (event.target.id === \"categoryamount\") {\n      //This is for category amount changes\n      for (var i = 0; i < nextBoxVal.length; i++) {\n        if (nextBoxVal[i][0] === id) {\n          var _arr2 = _toConsumableArray(val);\n          var _filterArr2 = [];\n          var _boxstr2 = modifyNum(_arr2, _filterArr2);\n          var _str2 = _boxstr2.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n          event.target.value = \"¥\" + _str2;\n          nextBoxVal[i] = [nextBoxVal[i][0], nextBoxVal[i][1], parseFloat(_boxstr2), nextBoxVal[i][3], nextBoxVal[i][4]];\n        }\n      }\n      calculateTotal(tempSavings, nextBoxVal);\n    } else if (event.target.id === \"savings\") {\n      //update savings amount\n      for (var _i = 0; _i < tempSavings.length; _i++) {\n        if (tempSavings[_i][0] === id) {\n          var _arr3 = _toConsumableArray(val);\n          var _filterArr3 = [];\n          var _boxstr3 = modifyNum(_arr3, _filterArr3);\n          var _str3 = _boxstr3.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n          event.target.value = \"¥\" + _str3;\n          tempSavings[_i] = [tempSavings[_i][0], tempSavings[_i][1], parseFloat(_boxstr3), tempSavings[_i][3], tempSavings[_i][4], tempSavings[_i][5]];\n          calculateTotal(tempSavings, nextBoxVal);\n        }\n      }\n    } else if (event.target.id === \"autoout\") {\n      for (var a in tempAuto) {\n        if (tempAuto[a][0] === id) {\n          var _arr4 = _toConsumableArray(val);\n          var _filterArr4 = [];\n          var _boxstr4 = modifyNum(_arr4, _filterArr4);\n          var _str4 = _boxstr4.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n          event.target.value = \"¥\" + _str4;\n          tempAuto[a] = [tempAuto[a][0], tempAuto[a][1], tempAuto[a][2], parseFloat(_boxstr4), tempAuto[a][4], tempAuto[a][5]];\n        }\n      }\n    } else if (event.target.id === \"autoin\") {\n      for (var _a in tempAuto) {\n        if (tempAuto[_a][0] === id) {\n          var _arr5 = _toConsumableArray(val);\n          var _filterArr5 = [];\n          var _boxstr5 = modifyNum(_arr5, _filterArr5);\n          var _str5 = _boxstr5.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n          event.target.value = \"¥\" + _str5;\n          tempAuto[_a] = [tempAuto[_a][0], tempAuto[_a][1], tempAuto[_a][2], tempAuto[_a][3], parseFloat(_boxstr5), tempAuto[_a][5]];\n        }\n      }\n    }\n    // Calculating SPENT in boxvalue\n    for (var x = 0; x < nextBoxVal.length; x++) {\n      var spent = 0;\n      var today = new Date();\n      var day = today.getDate();\n      var month = today.getMonth();\n      for (var ii = 0; ii < nextTransaction.length; ii++) {\n        var ttoday = new Date(nextTransaction[ii][2]);\n        var tday = ttoday.getDate();\n        var tmonth = ttoday.getMonth();\n        var pp1 = tmonth === month - 1 && tday >= 20; //is transaction dated after the 20th of last month or before the 20th of this month?\n        var pp2 = tmonth === month && tday < 20;\n        var payperiod = pp1 || pp2;\n        if (nextBoxVal[x][1] === nextTransaction[ii][3] &&\n        //if categories match, expense is present, and\n        nextTransaction[ii][4] > 0 && payperiod) {\n          spent += nextTransaction[ii][4];\n        } else if (nextBoxVal[x][1] === nextTransaction[ii][3] &&\n        //if categories match, income present, and\n        nextTransaction[ii][5] > 0 && payperiod) {\n          spent -= nextTransaction[ii][5];\n        }\n      }\n      nextBoxVal[x] = [nextBoxVal[x][0], nextBoxVal[x][1], nextBoxVal[x][2], spent, nextBoxVal[x][4]];\n    }\n    setSavings(tempSavings);\n    setBoxvalue(nextBoxVal);\n    setTransaction(nextTransaction);\n    setAutotrans(tempAuto);\n  }\n  function _handleCatName(event, ind, id) {\n    var nextBox = boxvalue.slice();\n    for (var i = 0; i < nextBox.length; i++) {\n      if (nextBox[i][0] === id) {\n        nextBox[i] = [id, event.target.value, nextBox[i][2], nextBox[i][3], nextBox[i][4]];\n      }\n    }\n    setBoxvalue(nextBox);\n  }\n  function handleCatOption(event, index, id, which) {\n    var tempTransaction = transaction.slice();\n    var tempAuto = autoTrans.slice();\n    if (which === \"trans\") {\n      tempTransaction[index] = [tempTransaction[index][0], tempTransaction[index][1], tempTransaction[index][2], event.target.value, tempTransaction[index][4], tempTransaction[index][5]];\n      setTransaction(tempTransaction);\n    } else {\n      tempAuto[index] = [tempAuto[index][0], tempAuto[index][1], event.target.value, tempAuto[index][3], tempAuto[index][4], tempAuto[index][5]];\n      setAutotrans(tempAuto);\n    }\n  }\n  function newRow() {\n    var abc = \"abcdefghijklmnopqrstuvwxyz!#$%\";\n    var ranNum = Math.floor(Math.random() * 100);\n    var ranNum2 = Math.floor(Math.random() * 100);\n    var ranLet = abc[Math.floor(Math.random() * abc.length)];\n    var ranLet2 = abc[Math.floor(Math.random() * abc.length)];\n    var newId = ranNum + ranLet + ranNum2 + ranLet2;\n    var newArr = [newId, \"\", \"\", \"\", 0, 0];\n    setTransaction([].concat(_toConsumableArray(transaction), [newArr]));\n  }\n  function newSavings() {\n    var abc = \"abcdefghijklmnopqrstuvwxyz!#$%\";\n    var ranNum = Math.floor(Math.random() * 100);\n    var ranNum2 = Math.floor(Math.random() * 100);\n    var ranLet = abc[Math.floor(Math.random() * abc.length)];\n    var ranLet2 = abc[Math.floor(Math.random() * abc.length)];\n    var newId = ranNum + ranLet + ranNum2 + ranLet2;\n    var date = new Date();\n    var day = date.getDate();\n    console.log(day);\n    var newArr = [newId, \"\", 0, 0, \"savings\", date];\n    setSavings([].concat(_toConsumableArray(savings), [newArr]));\n  }\n  function transName(data, index, id) {\n    var tempTrans = transaction.slice();\n    tempTrans[index] = [tempTrans[index][0], data.target.value, tempTrans[index][2], tempTrans[index][3], tempTrans[index][4], tempTrans[index][5]];\n    setTransaction(tempTrans);\n  }\n  function _handleDate(data, index, id) {\n    console.log(data.target.value);\n    var tempTrans = transaction.slice();\n    tempTrans[index] = [tempTrans[index][0], tempTrans[index][1], data.target.value, tempTrans[index][3], tempTrans[index][4], tempTrans[index][5]];\n    setTransaction(tempTrans);\n  }\n  function handleNewCat() {\n    var date = new Date();\n    var abc = \"abcdefghijklmnopqrstuvwxyz!#$%\";\n    var ranNum = Math.floor(Math.random() * 100);\n    var ranNum2 = Math.floor(Math.random() * 100);\n    var ranLet = abc[Math.floor(Math.random() * abc.length)];\n    var ranLet2 = abc[Math.floor(Math.random() * abc.length)];\n    var idVal = ranNum + ranLet + ranNum2 + ranLet2;\n    setBoxvalue([].concat(_toConsumableArray(boxvalue), [[idVal, \"\", 0, 0, date]]));\n  }\n  function handleDelete(val, index, id) {\n    var tempBox = boxvalue.slice();\n    var tempTrans = transaction.slice();\n    var tempSavings = savings.slice();\n    var tempAuto = autoTrans.slice();\n    for (var t in tempTrans) {\n      if (tempTrans[t][0] === id) {\n        console.log(\"Deleting trans...\");\n\n        //Set the spent value minus whatever was deleted\n        for (var x in tempBox) {\n          if (tempBox[x][1] === tempTrans[t][3]) {\n            var newspent = tempTrans[t][4];\n            var newincome = tempTrans[t][5];\n            var boxspent = tempBox[x][3];\n            var newspentbox = newincome - newspent + boxspent;\n            tempBox[x] = [tempBox[x][0], tempBox[x][1], tempBox[x][2], newspentbox, tempBox[x][4]];\n          }\n        }\n        var deleteItem = tempTrans.slice(t, t + 1);\n        tempTrans.splice(t, 1);\n        if (!tempTrans[0]) {\n          tempTrans[0] = [\"123abc\", \"\", \"\", \"\", 0, 0];\n        }\n        setDeletebool([true, deleteItem]);\n        setTransaction(tempTrans);\n      }\n    }\n    for (var s in tempSavings) {\n      if (tempSavings[s][0] === id) {\n        console.log(\"deleting savings\");\n        var _deleteItem = tempSavings.slice(s, s + 1);\n        tempSavings.splice(s, 1);\n        var _date = new Date();\n        var day = _date.getDate();\n        if (!tempSavings[0]) {\n          tempSavings[0] = [\"kljasdf\", \"\", 0, 0, \"savings\", _date];\n        }\n        calculateTotal(tempSavings, tempBox);\n        setDeletebool([true, _deleteItem]);\n        setSavings(tempSavings);\n      }\n    }\n    for (var i in tempBox) {\n      if (tempBox[i][0] === id) {\n        console.log(\"Deleting cats...\");\n        var _deleteItem2 = tempBox.slice(i, i + 1);\n        tempBox.splice(i, 1);\n        if (!tempBox[0]) {\n          tempBox[0] = [\"asjkldfklasdh\", \"\", 0, 0, date];\n        }\n        calculateTotal(tempSavings, tempBox);\n        setDeletebool([true, _deleteItem2]);\n        setBoxvalue(tempBox);\n      }\n    }\n    for (var _i2 in tempAuto) {\n      if (tempAuto[_i2][0] === id) {\n        console.log(\"Deleting autotransaction...\");\n        var _deleteItem3 = tempAuto.slice(_i2, _i2 + 1);\n        tempAuto.splice(_i2, 1);\n        if (!tempAuto[0]) {\n          tempAuto[0] = [\"xyz321\", 0, \"\", 0, 0, \"aaa\"];\n        }\n      }\n    }\n  }\n  function handleSavingsName(val, index, id) {\n    console.log(\"handleSavingsName\", index);\n    var tempSavings = savings.slice();\n    tempSavings[index] = [tempSavings[index][0], val.target.value, tempSavings[index][2], tempSavings[index][3], tempSavings[index][4], tempSavings[index][5]];\n    setSavings(tempSavings);\n  }\n  function checkAndUpdateAuto(id, category, day) {\n    var tempAuto = autoTrans.slice();\n    var tempTrans = transaction.slice();\n    for (var i in tempAuto) {\n      for (var x in tempTrans) {}\n    }\n  }\n  function _saveAuto(event) {\n    console.log(\"saveauto\", event.target.value);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"title\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \" Budget thingy \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 950,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"dateTitle\",\n        children: function () {\n          var date = new Date();\n          var months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n          var month = date.getMonth();\n          var year = date.getFullYear();\n          return months[month] + \" \" + year;\n        }()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 951,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 949,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"autoTransaction\",\n      children: autoTrans.map(function (value, index) {\n        return /*#__PURE__*/_jsxDEV(AutoRow, {\n          data: value,\n          index: index,\n          autotransData: autoTrans,\n          boxvalue: boxvalue,\n          handleCatOption: handleCatOption,\n          saveAuto: function saveAuto(x) {\n            return _saveAuto(x);\n          },\n          inputCallback: function inputCallback(x, y, z) {\n            return _handleInput(x, y, z);\n          },\n          nameCallback: function nameCallback(x, y, z) {\n            return transName(x, y, z);\n          },\n          handleDate: function handleDate(x, y, z) {\n            return _handleDate(x, y, z);\n          },\n          handleDelete: handleDelete\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 967,\n          columnNumber: 11\n        }, _this2);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 964,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"total-amount\",\n      id: \"total\",\n      children: /*#__PURE__*/_jsxDEV(Totals, {\n        tots: total,\n        transaction: transaction\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 984,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 983,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"budget-titles\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Category\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 991,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Budgeted\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 992,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Remaining\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 993,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 990,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"budget\",\n      children: boxvalue.map(function (value, index) {\n        return /*#__PURE__*/_jsxDEV(Budget, {\n          value: value,\n          index: index,\n          handleDelete: handleDelete,\n          handleCatName: function handleCatName(x, y, z) {\n            return _handleCatName(x, y, z);\n          },\n          handleInput: function handleInput(x, y, z) {\n            return _handleInput(x, y, z);\n          },\n          box: boxvalue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 998,\n          columnNumber: 11\n        }, _this2);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 995,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"newcat\",\n      children: /*#__PURE__*/_jsxDEV(NewBox, {\n        title: \"New Category\",\n        handleClick: handleNewCat\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1012,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1011,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"budget-titles\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Savings Name\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1020,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Budgeted\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1021,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Total\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1022,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1019,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"savings\",\n      children: savings.map(function (value, index) {\n        return /*#__PURE__*/_jsxDEV(Savings, {\n          data: value,\n          index: index,\n          handleDelete: handleDelete,\n          savingsCallback: function savingsCallback(x, y, z) {\n            return _handleInput(x, y, z);\n          },\n          savingsname: function savingsname(x, y, z) {\n            return handleSavingsName(x, y, z);\n          },\n          sav: savings\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1026,\n          columnNumber: 15\n        }, _this2);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1024,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"new-savings\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"newSavings\",\n        onClick: newSavings,\n        children: \"New Savings\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1037,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1036,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"newrow\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"newbutton\",\n        onClick: newRow,\n        children: \"New Row\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1041,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1040,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"transaction-titles\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Memo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1046,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Category\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1047,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Expense\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1048,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Income\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1049,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1045,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"transactions\",\n      children: transaction.map(function (event, index) {\n        return /*#__PURE__*/_jsxDEV(Row, {\n          index: index,\n          data: event,\n          boxvalue: boxvalue,\n          handleCatOption: handleCatOption,\n          inputCallback: function inputCallback(x, y, z) {\n            return _handleInput(x, y, z);\n          },\n          nameCallback: function nameCallback(x, y, z) {\n            return transName(x, y, z);\n          },\n          handleDate: function handleDate(x, y, z) {\n            return _handleDate(x, y, z);\n          },\n          handleDelete: handleDelete\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1053,\n          columnNumber: 11\n        }, _this2);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1051,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 948,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"SfoQB136YlYHbgEmdY1dLMyWhA8=\");\n_c12 = App;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12;\n$RefreshReg$(_c, \"CategoryAmount\");\n$RefreshReg$(_c2, \"CategoryName\");\n$RefreshReg$(_c3, \"AmountBox\");\n$RefreshReg$(_c4, \"NewBox\");\n$RefreshReg$(_c5, \"TransCat\");\n$RefreshReg$(_c6, \"Budget\");\n$RefreshReg$(_c7, \"Savings\");\n$RefreshReg$(_c8, \"Row\");\n$RefreshReg$(_c9, \"AutoRow\");\n$RefreshReg$(_c10, \"Totals\");\n$RefreshReg$(_c11, \"Delete\");\n$RefreshReg$(_c12, \"App\");","map":{"version":3,"names":["useState","useEffect","useCallback","jsxDEV","_jsxDEV","CategoryAmount","_ref","parentCallback","idval","val","id","className","placeholder","value","toString","replace","onChange","event","fileName","_jsxFileName","lineNumber","columnNumber","_c","CategoryName","_ref2","categname","children","type","_c2","AmountBox","_ref3","Numvalue","Spent","toLocaleString","_c3","NewBox","_ref4","handleClick","title","onClick","_c4","TransCat","_ref5","_this","categories","change","index","data","theData","name","map","item","_c5","Budget","_ref6","handleCatName","handleInput","handleDelete","box","eventData","Delete","callback","stuff","boxv","_c6","Savings","_ref7","savingsCallback","savingsname","sav","savingsDelcallback","_c7","Row","_ref8","boxvalue","handleCatOption","inputCallback","nameCallback","handleDate","slice","eventD","extra","transcallback","_c8","AutoRow","_ref9","autotransData","saveAuto","min","max","auto","autoTransData","autocallback","_c9","Totals","_ref10","tots","transaction","expense","income","i","actual","actualcolor","style","color","_c10","_ref11","undefined","flat","filter","_c11","App","_s","_this2","date","Date","_useState","Array","fill","_useState2","_slicedToArray","setBoxvalue","_useState3","_useState4","total","setTotal","_useState5","_useState6","setTransaction","_useState7","_useState8","firstload","setFirstload","_useState9","_useState10","deleteBool","setDeletebool","_useState11","_useState12","savings","setSavings","_useState13","_useState14","autoTrans","setAutotrans","console","log","fetch","then","response","json","transstuff","aut","todaydate","todayDate","getDate","todayMonth","getMonth","category","bdate","bDate","bMonth","_id","amount","spent","x","tname","s","dbdate","sdate","dbMonth","sname","stotal","samount","sss","a","adate","acategory","aexpense","aincome","aaa","calculateTotal","method","headers","body","JSON","stringify","modifyNum","arr","filterArr","j","length","match","push","boxvalstr","join","savingss","z","ind","nextBoxVal","target","nextTransaction","tempSavings","tempAuto","_toConsumableArray","boxstr","str","parseFloat","today","day","month","ii","ttoday","tday","tmonth","pp1","pp2","payperiod","nextBox","which","tempTransaction","newRow","abc","ranNum","Math","floor","random","ranNum2","ranLet","ranLet2","newId","newArr","concat","newSavings","transName","tempTrans","handleNewCat","idVal","tempBox","t","newspent","newincome","boxspent","newspentbox","deleteItem","splice","handleSavingsName","checkAndUpdateAuto","months","year","getFullYear","y","_c12","$RefreshReg$"],"sources":["/workspaces/BudgetApp-React-Express/client/src/App.js"],"sourcesContent":["import \"./styles.css\";\n\nimport { useState, useEffect, useCallback } from \"react\";\n\nfunction CategoryAmount({ parentCallback, idval, val, id }) {\n  return (\n    <input\n      className=\"categorybox\"\n      placeholder=\"Budgeted\"\n      id=\"categoryamount\"\n      value={\"¥\" + val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}\n      onChange={(event) => parentCallback(event, idval, id)}\n    />\n  );\n}\n\nfunction CategoryName({ categname, idval, val, id }) {\n  return (\n    <div  className=\"category\">\n      <input type=\"checkbox\" id={idval} value=\"savings\" className=\"checkbox\" />\n      <input\n        placeholder=\"Category\"\n        className=\"category-name\"\n        value={val[1]}\n        onChange={(event) => categname(event, idval, id)}\n      />\n    </div>\n  );\n}\n\nfunction AmountBox({ Numvalue, Spent }) {\n  //const [numval, setNumval] = useState(Numvalue);\n\n  /*\n  useEffect(() => {\n    setNumval(Numvalue);\n  }, [Numvalue]);\n  */\n  return (\n    <div className=\"amount-children\" id=\"amountbox\">\n      ¥{(Numvalue - Spent).toLocaleString()}\n    </div>\n  );\n}\n\n\n\nfunction NewBox({ handleClick, title, id }) {\n  return <button className=\"newbutton\" onClick={handleClick}>{title}</button>;\n}\n\nfunction TransCat({ categories, change, index, data }) {\n  let theData;\n  if(data[5] == \"aaa\"){\n    theData = data[2]\n  } else {\n    theData = data[3]\n  }\n  return (\n    <select\n      name=\"dropdown\"\n      className=\"options\"\n      value= {theData}\n      onChange={(event) => change(event, index)}\n    >\n      <option value = \"1\" className=\"firstoption\"></option>\n      <option value= \"income\" className=\"paycheck\">Income</option>\n      {categories.map((item, index) => (\n        <option key = {index} value={item[1]}>{item[1]}</option>\n      ))}\n    </select>\n  );\n}\n\nfunction Budget({ \n  value, \n  index,\n  handleCatName,\n  handleInput,\n  handleDelete,\n  box\n }) {\n  return (\n    <div className=\"row-budget\">\n          \n        <div className=\"categorydiv\">\n            <CategoryName key={index} idval={index} val={value} id = {value[0]} categname={(eventData)=>{handleCatName(eventData, index, value[0])}} />\n        </div>\n        <div className=\"categoryamount\" id=\"inputamount\">\n            <CategoryAmount\n              key={index}\n              idval={index}\n              val = {value[2]}\n              id = {value[0]}\n              parentCallback={(event) => handleInput(event, index, value[0])}\n            />\n        </div>\n        <div className=\"amount-box\" id=\"amountdiv\">\n            <AmountBox\n              key={index}\n              idval={index}\n              Numvalue={value[2]}\n              Spent={value[3]}\n            />\n        </div>\n        <div className=\"deleteCat\">\n            <Delete \n              value = {value}\n              index = {index}\n              key = {index}\n              id = {value[0]}\n              callback = {(stuff) => {\n                handleDelete(stuff, index, value[0])\n              }}\n              boxv = {box}\n            />\n        </div>\n        </div>\n  )\n}\n\n\n\nfunction Savings( {data, index, handleDelete, savingsCallback, savingsname, sav} ){\n  return (\n    <div className=\"row-savings\">\n      <input \n        className=\"savings-name\"\n        placeholder=\"Savings Account Name\"\n        value={data[1]}\n        onChange= {(event)=> savingsname(event, index, data[0])}\n      />\n      <input \n        className=\"savings-amount\" \n        placeholder=\"Budgeted amount\"\n        value = {\"¥\" + data[2].toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}\n        id = \"savings\"\n        onChange={(event)=> savingsCallback(event, index, data[0])}        \n      />\n      <div className=\"savings-total\">{\"¥\" + (data[3] + data[2]).toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\")}</div>\n      <Delete \n      value={data}\n      index = {index}\n      key ={index}\n      id = {data[0]}\n      savingsDelcallback = {(event)=> handleDelete(event, index, data[0])}\n      sav = {sav}\n      />\n    </div>\n    \n  )\n}\n\n\nfunction Row({\n  index,\n  data,\n  boxvalue,\n  handleCatOption,\n  inputCallback,\n  nameCallback,\n  handleDate,\n  handleDelete\n}) {\n  return (\n    <div className=\"row-transaction\">\n      <input \n      placeholder=\"Date\" \n      className=\"date\" \n      type=\"date\" \n      value={data[2].slice(0,10)}    \n      onChange = {(eventD)=>{\n        handleDate(eventD, index, data[0])\n      } } />\n      <input\n        placeholder=\"Memo\"\n        className=\"trans-name\"\n        value = {data[1]}\n        onChange={(eventData) => nameCallback(eventData, index, data[0])}\n      />\n      <TransCat\n        categories={boxvalue}\n        data = {data}\n        change={(extra) => handleCatOption(extra, index, data[0], \"trans\")}\n      />\n      <input\n        placeholder=\"Expenditure\"\n        className=\"expend\"\n        id=\"out\"\n        value = {\"¥\" + data[4].toLocaleString()}\n        onChange={(eventData) => inputCallback(eventData, index, data[0])}\n      />\n      <input\n        placeholder=\"Income\"\n        className=\"income\"\n        id=\"in\"\n        value = {\"¥\" + data[5].toLocaleString()}\n        onChange={(eventData) => inputCallback(eventData, index, data[0])}\n      />\n      <Delete \n        value = {data}\n        index = {index}\n        key = {index}\n        id = {data[0]}\n        transcallback = {(stuff) => {\n          handleDelete(stuff,  index, data[0])\n        }}\n      />\n    </div>\n  );\n}\n\n\nfunction AutoRow({\n  data,\n  index,\n  autotransData,\n  boxvalue,\n  saveAuto,\n  handleCatOption,\n  inputCallback,\n  nameCallback,\n  handleDate,\n  handleDelete\n}) {\n  return (\n    <div className=\"row-transaction\">\n      <input \n      type=\"number\"\n      min=\"1\"\n      max=\"31\"\n      placeholder=\"When?\" \n      className=\"date\"\n      id=\"autoRowDate\"\n      onChange={(eventData) => saveAuto(eventData)}\n      />\n      <TransCat\n        categories={boxvalue}\n        data = {data}\n        change={(extra) => handleCatOption(extra, index, data[0], \"auto\")}\n      />\n      <input\n        placeholder=\"Expenditure\"\n        className=\"expend\"\n        id=\"autoout\"\n        value = {\"¥\" + data[3].toLocaleString()}\n        onChange={(eventData) => inputCallback(eventData, index, data[0])}\n      />\n      <input\n        placeholder=\"Income\"\n        className=\"income\"\n        id=\"autoin\"\n        value = {\"¥\" + data[4].toLocaleString()}\n        onChange={(eventData) => inputCallback(eventData, index, data[0])}\n      />\n      <button\n        //onClick={()}\n      >Save</button>\n      <Delete \n        value = {data}\n        index = {index}\n        key = {index}\n        id = {data[0]}\n        auto = {autoTransData}\n        autocallback = {(stuff) => {\n          handleDelete(stuff,  index, data[0])\n        }}\n      />\n     \n    </div>\n  );\n}\n\n\nfunction Totals({ tots, transaction }){\n  let expense = 0;\n  let income = 0;\n  for(let i in transaction){\n    if(transaction[i][4] > 0){\n      expense -= transaction[i][4]\n    }\n    if(transaction[i][5] > 0){\n      income += transaction[i][5]\n    }\n  }\n  const actual = income + expense;\n  let actualcolor = \"black\"\n  if(actual < 0){\n    actualcolor = \"red\"\n  } else {\n    actualcolor = \"black\"\n  }\n\n  return (\n    <div className = \"totals-container\">\n      <div className=\"budgeted\">Budgeted: ¥{tots.toLocaleString()}</div>\n      <div className=\"budgeted\">Left to budget: ¥{(income-tots).toLocaleString()}</div>\n      <div className=\"actual\" style={{color: actualcolor}} >Actual: ¥{actual.toLocaleString()} </div>\n    </div>\n    \n  )\n}\n\nfunction Delete( {value, index, callback, transcallback, savingsDelcallback, id, boxv, sav, auto} ){\n  if(boxv != undefined){\n    if(boxv.flat().filter(i=>i===id)){\n      return (\n      <button className=\"delete\" onClick={(event)=>callback(event, index, id)}>X</button>\n    )\n    }\n  } else if(value[5] != undefined && value[4] != \"savings\"){\n      return (\n      <button className=\"delete\" onClick={(event)=>transcallback(event, index, id)}>X</button>\n    )\n    } else if(sav != undefined){\n      if(sav.flat().filter(i=>i===id)){\n        return (\n          <button className=\"delete\" onClick={(event)=>savingsDelcallback(event,index,id)}>X</button>\n        )\n      }\n    } else if(auto != undefined){\n      if(auto.flat().filter(i=>i===id)){\n        return (\n          <button className=\"delete\" onClick={(event)=>autocallback(event,index,id)}>X</button>\n        )\n      }\n    }\n     \n  \n}\n\nexport default function App() {\n  const date = new Date();\n\n  //boxvlue = [id, category, budgetamount, spent]\n  const [boxvalue, setBoxvalue] = useState(Array(1).fill([\"abc123\", \"\", 0, 0, date]));\n  const [total, setTotal] = useState(0); //budgeted total i think\n  //transaction = [id, name, date, category, expense, income]\n  const [transaction, setTransaction] = useState(Array(1).fill([\"123abc\", \"\",\"\", \"\", 0, 0]));\n  //Backend\n  const [firstload, setFirstload] = useState(true)\n  const [deleteBool, setDeletebool] = useState([false, []])\n\n  //savings = [id, name, budgetamount, total, datestamp]\n  const [savings, setSavings] = useState(Array(1).fill([\"1a2b3c\", \"\", 0, 0, \"savings\", date]));\n  //auto transactions = [id, dateday, category, expense, income, \"aaa\"]\n  const [autoTrans, setAutotrans] = useState(Array(1).fill([\"xyz123\", 0, \"\", 0, 0, \"aaa\"]))\n\n  useEffect(()=> {\n    console.log(\"load...\")\n    fetch(\"/load\")\n    .then(response => response.json())\n    .then(data => {\n      console.log(\"LOAD payload:\", data)\n      let stuff = boxvalue.slice()\n      let transstuff = transaction.slice();\n      let sav = savings.slice();\n      let aut = autoTrans.slice();\n\n      const todaydate = new Date()\n      const todayDate = todaydate.getDate();\n      const todayMonth = todaydate.getMonth();\n\n      for(let i in data.category){\n        const bdate = new Date(data.category[i].bdate);\n        const bDate = bdate.getDate();\n        const bMonth = bdate.getMonth();\n        //UPDATE LATER when serious\n        if(todayMonth === bMonth + 1 && todayDate >= 20){\n          stuff[i] = [\n            data.category[i]._id,\n            data.category[i].name,\n            data.category[i].amount,\n            0,\n            todaydate,\n          ]\n        } else {\n          stuff[i] = [\n            data.category[i]._id, \n            data.category[i].name, \n            data.category[i].amount, \n            data.category[i].spent,\n            data.category[i].bdate\n          ];\n        }\n      }\n      for(let x in data.transaction){\n        if(!data.transaction[x].date){\n          data.transaction[x].date = \"0000-0-0\";\n        }\n        transstuff[x] = [\n          data.transaction[x]._id, \n          data.transaction[x].tname, \n          data.transaction[x].date,\n          data.transaction[x].category,\n          data.transaction[x].expense,\n          data.transaction[x].income,\n        ]\n      }\n      //if past or is payday, samount should be 0 and stotal should be combined with samount\n      for(let s in data.savings){\n        const dbdate = new Date(data.savings[s].sdate)\n        const dbMonth = dbdate.getMonth();\n        //CHANGE to this when serious... todayMonth === dbMonth + 1 && todayDate >= 20\n        if(todayMonth === dbMonth + 1 && todayDate >= 20){\n          sav[s]=[\n            data.savings[s]._id,\n            data.savings[s].sname,\n            0,\n            data.savings[s].stotal + data.savings[s].samount,\n            data.savings[s].sss,\n            todaydate\n          ]\n        } else {\n          sav[s]=[\n            data.savings[s]._id,\n            data.savings[s].sname,\n            data.savings[s].samount,\n            data.savings[s].stotal,\n            data.savings[s].sss,\n            data.savings[s].sdate\n        ]\n\n        }\n      for(let a in data.auto){\n        aut[a] = [\n          data.auto[a]._id,\n          data.auto[a].adate,\n          data.auto[a].acategory,\n          data.auto[a].aexpense,\n          data.auto[a].aincome,\n          data.auto[a].aaa\n        ]\n      }\n      }\n\n\n      console.log(\"LOG savings\", sav)\n      setTransaction(transstuff)\n      setSavings(sav)\n      setAutotrans(aut)\n      setBoxvalue(stuff)\n      calculateTotal(sav, stuff)\n      setFirstload(false)\n\n    })\n\n  }, [])\n\n\n  useEffect(()=>{\nif(!firstload && !deleteBool[0]){\n    fetch(\"/update\", {method: \"POST\", headers: {\"Content-Type\": \"application/json\"}, body: JSON.stringify(boxvalue)})\n      .then(response=> response.json())\n      .then(\n        data=> {\n           console.log(\"app.js category fetch: \", data)\n        }\n      )\n    }\n    else if(deleteBool[0]){\n      fetch(\"/delete\", {method: \"POST\", headers: {\"Content-Type\": \"application/json\"}, body: JSON.stringify(deleteBool[1])})\n      .then(response=> response.json())\n      .then(\n        data=> {\n           console.log(\"app.js category DELETE fetch: \", data)\n        }\n      )\n      setDeletebool([false, []])\n    }\n  }, [boxvalue])\n  \n\n\n  useEffect(()=> {\n    if(!firstload && !deleteBool[0]){\n      console.log(\"transaction state\", transaction)\n      fetch(\"/update\", {method: \"POST\", headers: {\"Content-Type\": \"application/json\"}, body: JSON.stringify(transaction)})\n        .then(response=> response.json())\n        .then(\n          data=> {\n            console.log(\"app.js transaction fetch: \", data)\n          }\n        )\n    } else if(deleteBool[0]){\n      fetch(\"/delete\", {method: \"POST\", headers: {\"Content-Type\": \"application/json\"}, body: JSON.stringify(deleteBool[1])})\n      .then(response=> response.json())\n      .then(\n        data=> {\n           console.log(\"app.js transaction DELETE fetch: \", data)\n        }\n      )\n      setDeletebool([false, []])\n    }\n    \n  }, [transaction])\n\n  useEffect(()=> {\n    if(!firstload && !deleteBool[0]){\n      console.log(\"savings state\", savings)\n      fetch(\"/update\", {method: \"POST\", headers: {\"Content-Type\": \"application/json\"}, body: JSON.stringify(savings)})\n        .then(response=> response.json())\n        .then(\n          data=> {\n            console.log(\"app.js savings fetch: \", data)\n          }\n        )\n    } else if(deleteBool[0]){\n      fetch(\"/delete\", {method: \"POST\", headers: {\"Content-Type\": \"application/json\"}, body: JSON.stringify(deleteBool[1])})\n      .then(response=> response.json())\n      .then(\n        data=> {\n           console.log(\"app.js savings DELETE fetch: \", data)\n        }\n      )\n      setDeletebool([false, []])\n    }\n    \n  }, [savings])\n\n  useEffect(()=> {\n    if(!firstload && !deleteBool[0]){\n      console.log(\"autotrans state\", autoTrans)\n      fetch(\"/update\", {method: \"POST\", headers: {\"Content-Type\": \"application/json\"}, body: JSON.stringify(autoTrans)})\n        .then(response=> response.json())\n        .then(\n          data=> {\n            console.log(\"app.js autotrans fetch: \", data)\n          }\n        )\n    } else if(deleteBool[0]){\n      fetch(\"/delete\", {method: \"POST\", headers: {\"Content-Type\": \"application/json\"}, body: JSON.stringify(deleteBool[1])})\n      .then(response=> response.json())\n      .then(\n        data=> {\n           console.log(\"app.js Autoo DELETE fetch: \", data)\n        }\n      )\n      setDeletebool([false, []])\n    }\n    \n  }, [autoTrans])\n  \n\n \n\n//Ensures that the input is only a number\n  function modifyNum(arr, filterArr) {\n    for (let j = 0; j < arr.length; j++) {\n      if (arr[j].match(/\\d/)) {\n        filterArr.push(arr[j]);\n      }\n    }\n\n    const boxvalstr = filterArr.join(\"\");\n    return boxvalstr;\n  }\n\n  function calculateTotal(savingss, boxv){\n    let total = 0;\n    for(let x in boxv){\n      total += boxv[x][2]\n    }\n    for(let z in savingss){\n      //add savings to budgeted total\n      total += savingss[z][2]    \n    \n    }\n    setTotal(total)\n  }\n\n\n  function handleInput(event, ind, id) {\n    const nextBoxVal = boxvalue.slice();\n    let val = event.target.value;\n    const nextTransaction = transaction.slice();\n    const tempSavings = savings.slice();\n    const tempAuto = autoTrans.slice();\n    console.log(\"event id\", event.target.id)\n    //out transactions\n    if (event.target.id === \"out\") {\n      console.log(\"ID\", id)\n      //if OUT then cross check category names and change boxvalue?\n      //This LOOP formats transaction numbers\n      for (let index = 0; index < nextTransaction.length; index++) {\n        if (nextTransaction[index][0] === id) {\n          console.log(\"OUT transaction: \", nextTransaction[index][0])\n          const arr = [...val];\n          const filterArr = [];\n          const boxstr = modifyNum(arr, filterArr);\n          const str = boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n          event.target.value = \"¥\" + str;\n          nextTransaction[index] = [\n            nextTransaction[index][0],\n            nextTransaction[index][1],\n            nextTransaction[index][2],\n            nextTransaction[index][3],\n            parseFloat(boxstr),\n            nextTransaction[index][5]\n          ];\n        }\n      }\n    } else if (event.target.id === \"in\") {\n      for (let index = 0; index < nextTransaction.length; index++) {\n        if (nextTransaction[index][0] === id) {\n          const arr = [...val];\n          const filterArr = [];\n          const boxstr = modifyNum(arr, filterArr);\n          const str = boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n          event.target.value = \"¥\" + str;\n          nextTransaction[index] = [\n            nextTransaction[index][0],\n            nextTransaction[index][1],\n            nextTransaction[index][2],\n            nextTransaction[index][3],\n            nextTransaction[index][4],\n            parseFloat(boxstr)\n          ];\n        }\n      }\n    } else if(event.target.id === \"categoryamount\"){\n      //This is for category amount changes\n      for (let i = 0; i < nextBoxVal.length; i++) {\n        if (nextBoxVal[i][0] === id) {\n          const arr = [...val];\n          const filterArr = [];\n          const boxstr = modifyNum(arr, filterArr);\n          const str = boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n          event.target.value = \"¥\" + str;\n          nextBoxVal[i] = [\n            nextBoxVal[i][0],\n            nextBoxVal[i][1],\n            parseFloat(boxstr),\n            nextBoxVal[i][3],\n            nextBoxVal[i][4]\n          ];\n        }\n      }\n      calculateTotal(tempSavings, nextBoxVal)\n    } else if(event.target.id === \"savings\"){\n      //update savings amount\n      for(let i = 0; i < tempSavings.length; i++){\n        if(tempSavings[i][0] === id){\n          const arr = [...val];\n          const filterArr = [];\n          const boxstr = modifyNum(arr, filterArr);\n          const str = boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n          event.target.value = \"¥\" + str;\n          tempSavings[i] = [\n            tempSavings[i][0],\n            tempSavings[i][1],\n            parseFloat(boxstr),\n            tempSavings[i][3],\n            tempSavings[i][4],\n            tempSavings[i][5]\n          ]\n          calculateTotal(tempSavings, nextBoxVal)\n\n        }\n      }\n    } else if(event.target.id === \"autoout\"){\n      for(let a in tempAuto){\n        if(tempAuto[a][0] === id){\n          const arr = [...val];\n          const filterArr = [];\n          const boxstr = modifyNum(arr, filterArr);\n          const str = boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n          event.target.value = \"¥\" + str;\n\n          tempAuto[a] = [\n            tempAuto[a][0],\n            tempAuto[a][1],\n            tempAuto[a][2],\n            parseFloat(boxstr),\n            tempAuto[a][4],\n            tempAuto[a][5],\n          ]\n        }\n      }\n    } else if(event.target.id === \"autoin\"){\n      for(let a in tempAuto){\n        if(tempAuto[a][0] === id){\n          const arr = [...val];\n          const filterArr = [];\n          const boxstr = modifyNum(arr, filterArr);\n          const str = boxstr.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n          event.target.value = \"¥\" + str;\n\n          tempAuto[a] = [\n            tempAuto[a][0],\n            tempAuto[a][1],\n            tempAuto[a][2],\n            tempAuto[a][3],\n            parseFloat(boxstr),\n            tempAuto[a][5],\n          ]\n        }\n      }\n    }\n// Calculating SPENT in boxvalue\n    for (let x = 0; x < nextBoxVal.length; x++) {\n      let spent = 0;\n      const today = new Date();\n      const day = today.getDate();\n      const month = today.getMonth();\n    \n\n\n      for (let ii = 0; ii < nextTransaction.length; ii++) {\n        const ttoday = new Date(nextTransaction[ii][2]);\n        const tday = ttoday.getDate();\n        const tmonth = ttoday.getMonth();\n        const pp1 = tmonth === month - 1 && tday >= 20; //is transaction dated after the 20th of last month or before the 20th of this month?\n        const pp2 = tmonth === month && tday < 20;\n        const payperiod = pp1 || pp2;\n        if (\n          nextBoxVal[x][1] === nextTransaction[ii][3] && //if categories match, expense is present, and\n          nextTransaction[ii][4] > 0 && \n          payperiod\n        ) {\n          spent += nextTransaction[ii][4];\n        } else if (\n          nextBoxVal[x][1] === nextTransaction[ii][3] && //if categories match, income present, and\n          nextTransaction[ii][5] > 0 &&\n          payperiod\n        ) {\n          spent -= nextTransaction[ii][5];\n        }\n      }\n      nextBoxVal[x] = [nextBoxVal[x][0], nextBoxVal[x][1], nextBoxVal[x][2], spent, nextBoxVal[x][4]];\n\n    }\n    setSavings(tempSavings)\n    setBoxvalue(nextBoxVal);\n    setTransaction(nextTransaction);\n    setAutotrans(tempAuto)\n  }\n\n  function handleCatName(event, ind, id) {\n    const nextBox = boxvalue.slice();\n    for (let i = 0; i < nextBox.length; i++) {\n      if (nextBox[i][0] === id) {\n        nextBox[i] = [id, event.target.value, nextBox[i][2], nextBox[i][3], nextBox[i][4]];\n      }\n    }\n    setBoxvalue(nextBox);\n\n  }\n\n  function handleCatOption(event, index, id, which) {\n    const tempTransaction = transaction.slice();\n    const tempAuto = autoTrans.slice();\n    if(which === \"trans\"){\n      tempTransaction[index] = [\n      tempTransaction[index][0],\n      tempTransaction[index][1],\n      tempTransaction[index][2],\n      event.target.value,\n      tempTransaction[index][4],\n      tempTransaction[index][5]\n    ];\n    setTransaction(tempTransaction);\n    } else{\n      tempAuto[index] = [\n        tempAuto[index][0],\n        tempAuto[index][1],\n        event.target.value,\n        tempAuto[index][3],\n        tempAuto[index][4],\n        tempAuto[index][5],\n      ];\n      setAutotrans(tempAuto)\n    }\n    \n  }\n\n  function newRow() {\n    const abc = \"abcdefghijklmnopqrstuvwxyz!#$%\";\n    const ranNum = Math.floor(Math.random()* 100);\n    const ranNum2 = Math.floor(Math.random()* 100);\n    const ranLet = abc[Math.floor(Math.random() * abc.length)]\n    const ranLet2 = abc[Math.floor(Math.random() * abc.length)]\n    const newId = ranNum + ranLet + ranNum2 + ranLet2;\n    const newArr = [newId, \"\", \"\", \"\", 0, 0];\n    setTransaction([...transaction, newArr]);\n  }\n\n  function newSavings(){\n    const abc = \"abcdefghijklmnopqrstuvwxyz!#$%\";\n    const ranNum = Math.floor(Math.random()* 100);\n    const ranNum2 = Math.floor(Math.random()* 100);\n    const ranLet = abc[Math.floor(Math.random() * abc.length)]\n    const ranLet2 = abc[Math.floor(Math.random() * abc.length)]\n    const newId = ranNum + ranLet + ranNum2 + ranLet2;\n    const date = new Date();\n    const day = date.getDate();\n    console.log(day)\n    const newArr = [newId, \"\", 0, 0, \"savings\", date]\n    setSavings([...savings, newArr])\n  }\n\n  function transName(data, index, id) {\n    const tempTrans = transaction.slice();\n    tempTrans[index] = [\n      tempTrans[index][0],\n      data.target.value,\n      tempTrans[index][2],\n      tempTrans[index][3],\n      tempTrans[index][4],\n      tempTrans[index][5]\n    ];\n    setTransaction(tempTrans);\n  }\n\n  function handleDate(data, index, id){\n    console.log(data.target.value)\n    const tempTrans = transaction.slice();\n    tempTrans[index] = [\n      tempTrans[index][0],\n      tempTrans[index][1],\n      data.target.value,\n      tempTrans[index][3],\n      tempTrans[index][4],\n      tempTrans[index][5]\n    ];\n    setTransaction(tempTrans);\n  }\n\n  function handleNewCat(){\n    const date = new Date();\n    const abc = \"abcdefghijklmnopqrstuvwxyz!#$%\";\n    const ranNum = Math.floor(Math.random()* 100);\n    const ranNum2 = Math.floor(Math.random()* 100);\n    const ranLet = abc[Math.floor(Math.random() * abc.length)]\n    const ranLet2 = abc[Math.floor(Math.random() * abc.length)]\n    const idVal = ranNum + ranLet + ranNum2 + ranLet2;\n    setBoxvalue([...boxvalue, [idVal, \"\", 0, 0, date]])\n  }\n\n  function handleDelete(val, index, id){\n    const tempBox = boxvalue.slice();\n    const tempTrans = transaction.slice();\n    const tempSavings = savings.slice();\n    const tempAuto = autoTrans.slice();\n\n    for(let t in tempTrans){\n      if(tempTrans[t][0] === id){\n        console.log(\"Deleting trans...\")\n\n        //Set the spent value minus whatever was deleted\n        for(let x in tempBox){\n          if(tempBox[x][1] === tempTrans[t][3]){\n            const newspent = tempTrans[t][4]\n            const newincome = tempTrans[t][5]\n            const boxspent = tempBox[x][3]\n            const newspentbox = newincome - newspent + boxspent;\n            tempBox[x] = [tempBox[x][0], tempBox[x][1], tempBox[x][2], newspentbox, tempBox[x][4]];\n\n          }\n        }\n        const deleteItem = tempTrans.slice(t, t+1)\n        tempTrans.splice(t, 1)\n        if(!tempTrans[0]){\n          tempTrans[0] = [\"123abc\", \"\",\"\", \"\", 0, 0]\n        }\n\n        setDeletebool([true, deleteItem])\n        setTransaction(tempTrans)\n        \n      }\n    }\n    for(let s in tempSavings){\n      if(tempSavings[s][0] === id){\n        console.log(\"deleting savings\")\n        const deleteItem = tempSavings.slice(s, s+1)\n        tempSavings.splice(s, 1);\n        const date = new Date();\n        const day = date.getDate()\n        if(!tempSavings[0]){\n          tempSavings[0] = [\"kljasdf\", \"\", 0, 0, \"savings\", date]\n        }\n        calculateTotal(tempSavings, tempBox)\n        setDeletebool([true, deleteItem])\n        setSavings(tempSavings)\n\n      }\n    }\n    for(let i in tempBox){\n      if(tempBox[i][0] === id){\n        console.log(\"Deleting cats...\")\n        const deleteItem = tempBox.slice(i, i+ 1)\n        tempBox.splice(i, 1)\n\n        if(!tempBox[0]){\n          tempBox[0] = [\"asjkldfklasdh\", \"\", 0, 0, date]\n        }\n        calculateTotal(tempSavings, tempBox)\n        setDeletebool([true, deleteItem])\n        setBoxvalue(tempBox)\n\n      }\n    }\n    for(let i in tempAuto){\n      if(tempAuto[i][0] === id){\n        console.log(\"Deleting autotransaction...\")\n        const deleteItem = tempAuto.slice(i, i+1);\n        tempAuto.splice(i,1)\n\n        if(!tempAuto[0]){\n          tempAuto[0] = [\"xyz321\", 0, \"\", 0, 0, \"aaa\"]\n        }\n        \n      }\n    }\n    \n    \n  }\n\n  function handleSavingsName(val, index, id){\n    console.log(\"handleSavingsName\",index)\n    const tempSavings = savings.slice();\n    tempSavings[index] = [\n      tempSavings[index][0],\n      val.target.value,\n      tempSavings[index][2],\n      tempSavings[index][3],\n      tempSavings[index][4],\n      tempSavings[index][5]\n    ] \n    setSavings(tempSavings)\n  }\n\n  function checkAndUpdateAuto(id, category, day){\n    const tempAuto = autoTrans.slice();\n    const tempTrans = transaction.slice();\n    for(let i in tempAuto){\n      for(let x in tempTrans){\n\n      }\n    }\n  }\n\n  function saveAuto(event){\n    console.log(\"saveauto\",event.target.value)\n  }\n\n  return (\n    <div className=\"App\">\n      <div className=\"title\">\n        <h1> Budget thingy </h1>\n        <h1 className=\"dateTitle\">\n         {\n         (()=> {\n          const date = new Date();\n          const months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"]\n          const month = date.getMonth()\n          const year = date.getFullYear()\n\n          return months[month] + \" \" + year\n          })()\n        }\n        </h1>\n      </div>\n      <div className=\"autoTransaction\">\n        {autoTrans.map((value, index) => \n          (\n          <AutoRow\n          data={value}\n          index={index}\n          autotransData={autoTrans}\n          boxvalue={boxvalue}\n          handleCatOption={handleCatOption}\n          saveAuto={(x) => saveAuto(x)}\n          inputCallback={(x, y, z) => handleInput(x, y, z)}\n          nameCallback={(x, y, z) => transName(x, y, z)}\n          handleDate = {(x,y, z)=> handleDate(x,y, z)}\n          handleDelete = {handleDelete}\n        />\n          )\n        )}\n        \n      </div>\n      <div className=\"total-amount\" id=\"total\">\n          <Totals \n          tots = {total}\n          transaction = {transaction}\n          />\n          \n        </div>\n      <div className=\"budget-titles\">\n          <p>Category</p>\n          <p>Budgeted</p>\n          <p>Remaining</p>\n      </div>  \n      <div className=\"budget\">\n        {boxvalue.map((value, index) => \n          (\n          <Budget \n            value = {value}\n            index = {index}\n            handleDelete = {handleDelete}\n            handleCatName = {(x,y,z)=> handleCatName(x,y,z)}\n            handleInput = {(x,y,z)=> handleInput(x,y,z)}\n            box = {boxvalue}\n          />\n          )\n        )}\n      \n      </div>\n      \n        <div className=\"newcat\">\n          <NewBox\n            title=\"New Category\"\n            handleClick={handleNewCat}\n            \n          />\n        </div>\n        \n        <div className=\"budget-titles\">\n          <p>Savings Name</p>\n          <p>Budgeted</p>\n          <p>Total</p>\n      </div> \n      <div className=\"savings\">\n            {savings.map((value, index) => (\n              <Savings \n              data = {value}\n              index = {index}\n              handleDelete = {handleDelete}\n              savingsCallback= {(x,y,z)=> handleInput(x,y,z)}\n              savingsname = {(x,y,z) => handleSavingsName(x,y,z)}\n              sav = {savings}\n              />\n            ))}\n      </div>\n      <div className=\"new-savings\">\n            <button className =\"newSavings\" onClick={newSavings}>New Savings</button>\n      </div>\n      \n      <div className=\"newrow\">\n        <button className=\"newbutton\" onClick={newRow}>\n          New Row\n        </button>\n      </div>\n      <div className=\"transaction-titles\">\n          <p>Memo</p>\n          <p>Category</p>\n          <p>Expense</p>\n          <p>Income</p>\n      </div>\n      <div className=\"transactions\">\n        {transaction.map((event, index) => (\n          <Row\n            index={index}\n            data={event}\n            boxvalue={boxvalue}\n            handleCatOption={handleCatOption}\n            inputCallback={(x, y, z) => handleInput(x, y, z)}\n            nameCallback={(x, y, z) => transName(x, y, z)}\n            handleDate = {(x,y, z)=> handleDate(x,y, z)}\n            handleDelete = {handleDelete}\n            key={index}\n          />\n        ))}\n      </div>\n\n      \n    </div>\n  );\n}\n"],"mappings":";;;;AAAA,OAAO,cAAc;AAErB,SAASA,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzD,SAASC,cAAcA,CAAAC,IAAA,EAAqC;EAAA,IAAlCC,cAAc,GAAAD,IAAA,CAAdC,cAAc;IAAEC,KAAK,GAAAF,IAAA,CAALE,KAAK;IAAEC,GAAG,GAAAH,IAAA,CAAHG,GAAG;IAAEC,EAAE,GAAAJ,IAAA,CAAFI,EAAE;EACtD,oBACEN,OAAA;IACEO,SAAS,EAAC,aAAa;IACvBC,WAAW,EAAC,UAAU;IACtBF,EAAE,EAAC,gBAAgB;IACnBG,KAAK,EAAE,GAAG,GAAGJ,GAAG,CAACK,QAAQ,CAAC,CAAC,CAACC,OAAO,CAAC,uBAAuB,EAAE,GAAG,CAAE;IAClEC,QAAQ,EAAE,SAAAA,SAACC,KAAK;MAAA,OAAKV,cAAc,CAACU,KAAK,EAAET,KAAK,EAAEE,EAAE,CAAC;IAAA;EAAC;IAAAQ,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACvD,CAAC;AAEN;AAACC,EAAA,GAVQjB,cAAc;AAYvB,SAASkB,YAAYA,CAAAC,KAAA,EAAgC;EAAA,IAA7BC,SAAS,GAAAD,KAAA,CAATC,SAAS;IAAEjB,KAAK,GAAAgB,KAAA,CAALhB,KAAK;IAAEC,GAAG,GAAAe,KAAA,CAAHf,GAAG;IAAEC,EAAE,GAAAc,KAAA,CAAFd,EAAE;EAC/C,oBACEN,OAAA;IAAMO,SAAS,EAAC,UAAU;IAAAe,QAAA,gBACxBtB,OAAA;MAAOuB,IAAI,EAAC,UAAU;MAACjB,EAAE,EAAEF,KAAM;MAACK,KAAK,EAAC,SAAS;MAACF,SAAS,EAAC;IAAU;MAAAO,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACzEjB,OAAA;MACEQ,WAAW,EAAC,UAAU;MACtBD,SAAS,EAAC,eAAe;MACzBE,KAAK,EAAEJ,GAAG,CAAC,CAAC,CAAE;MACdO,QAAQ,EAAE,SAAAA,SAACC,KAAK;QAAA,OAAKQ,SAAS,CAACR,KAAK,EAAET,KAAK,EAAEE,EAAE,CAAC;MAAA;IAAC;MAAAQ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV;AAACO,GAAA,GAZQL,YAAY;AAcrB,SAASM,SAASA,CAAAC,KAAA,EAAsB;EAAA,IAAnBC,QAAQ,GAAAD,KAAA,CAARC,QAAQ;IAAEC,KAAK,GAAAF,KAAA,CAALE,KAAK;EAClC;;EAEA;AACF;AACA;AACA;AACA;EACE,oBACE5B,OAAA;IAAKO,SAAS,EAAC,iBAAiB;IAACD,EAAE,EAAC,WAAW;IAAAgB,QAAA,GAAC,MAC7C,EAAC,CAACK,QAAQ,GAAGC,KAAK,EAAEC,cAAc,CAAC,CAAC;EAAA;IAAAf,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAClC,CAAC;AAEV;AAACa,GAAA,GAbQL,SAAS;AAiBlB,SAASM,MAAMA,CAAAC,KAAA,EAA6B;EAAA,IAA1BC,WAAW,GAAAD,KAAA,CAAXC,WAAW;IAAEC,KAAK,GAAAF,KAAA,CAALE,KAAK;IAAE5B,EAAE,GAAA0B,KAAA,CAAF1B,EAAE;EACtC,oBAAON,OAAA;IAAQO,SAAS,EAAC,WAAW;IAAC4B,OAAO,EAAEF,WAAY;IAAAX,QAAA,EAAEY;EAAK;IAAApB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAS,CAAC;AAC7E;AAACmB,GAAA,GAFQL,MAAM;AAIf,SAASM,QAAQA,CAAAC,KAAA,EAAsC;EAAA,IAAAC,KAAA;EAAA,IAAnCC,UAAU,GAAAF,KAAA,CAAVE,UAAU;IAAEC,MAAM,GAAAH,KAAA,CAANG,MAAM;IAAEC,KAAK,GAAAJ,KAAA,CAALI,KAAK;IAAEC,IAAI,GAAAL,KAAA,CAAJK,IAAI;EACjD,IAAIC,OAAO;EACX,IAAGD,IAAI,CAAC,CAAC,CAAC,IAAI,KAAK,EAAC;IAClBC,OAAO,GAAGD,IAAI,CAAC,CAAC,CAAC;EACnB,CAAC,MAAM;IACLC,OAAO,GAAGD,IAAI,CAAC,CAAC,CAAC;EACnB;EACA,oBACE3C,OAAA;IACE6C,IAAI,EAAC,UAAU;IACftC,SAAS,EAAC,SAAS;IACnBE,KAAK,EAAGmC,OAAQ;IAChBhC,QAAQ,EAAE,SAAAA,SAACC,KAAK;MAAA,OAAK4B,MAAM,CAAC5B,KAAK,EAAE6B,KAAK,CAAC;IAAA,CAAC;IAAApB,QAAA,gBAE1CtB,OAAA;MAAQS,KAAK,EAAG,GAAG;MAACF,SAAS,EAAC;IAAa;MAAAO,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAS,CAAC,eACrDjB,OAAA;MAAQS,KAAK,EAAE,QAAQ;MAACF,SAAS,EAAC,UAAU;MAAAe,QAAA,EAAC;IAAM;MAAAR,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,EAC3DuB,UAAU,CAACM,GAAG,CAAC,UAACC,IAAI,EAAEL,KAAK;MAAA,oBAC1B1C,OAAA;QAAsBS,KAAK,EAAEsC,IAAI,CAAC,CAAC,CAAE;QAAAzB,QAAA,EAAEyB,IAAI,CAAC,CAAC;MAAC,GAA/BL,KAAK;QAAA5B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,GAAAsB,KAAmC,CAAC;IAAA,CACzD,CAAC;EAAA;IAAAzB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACI,CAAC;AAEb;AAAC+B,GAAA,GArBQX,QAAQ;AAuBjB,SAASY,MAAMA,CAAAC,KAAA,EAOX;EAAA,IANFzC,KAAK,GAAAyC,KAAA,CAALzC,KAAK;IACLiC,KAAK,GAAAQ,KAAA,CAALR,KAAK;IACLS,aAAa,GAAAD,KAAA,CAAbC,aAAa;IACbC,WAAW,GAAAF,KAAA,CAAXE,WAAW;IACXC,YAAY,GAAAH,KAAA,CAAZG,YAAY;IACZC,GAAG,GAAAJ,KAAA,CAAHI,GAAG;EAEH,oBACEtD,OAAA;IAAKO,SAAS,EAAC,YAAY;IAAAe,QAAA,gBAEvBtB,OAAA;MAAKO,SAAS,EAAC,aAAa;MAAAe,QAAA,eACxBtB,OAAA,CAACmB,YAAY;QAAaf,KAAK,EAAEsC,KAAM;QAACrC,GAAG,EAAEI,KAAM;QAACH,EAAE,EAAIG,KAAK,CAAC,CAAC,CAAE;QAACY,SAAS,EAAE,SAAAA,UAACkC,SAAS,EAAG;UAACJ,aAAa,CAACI,SAAS,EAAEb,KAAK,EAAEjC,KAAK,CAAC,CAAC,CAAC,CAAC;QAAA;MAAE,GAArHiC,KAAK;QAAA5B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAkH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1I,CAAC,eACNjB,OAAA;MAAKO,SAAS,EAAC,gBAAgB;MAACD,EAAE,EAAC,aAAa;MAAAgB,QAAA,eAC5CtB,OAAA,CAACC,cAAc;QAEbG,KAAK,EAAEsC,KAAM;QACbrC,GAAG,EAAII,KAAK,CAAC,CAAC,CAAE;QAChBH,EAAE,EAAIG,KAAK,CAAC,CAAC,CAAE;QACfN,cAAc,EAAE,SAAAA,eAACU,KAAK;UAAA,OAAKuC,WAAW,CAACvC,KAAK,EAAE6B,KAAK,EAAEjC,KAAK,CAAC,CAAC,CAAC,CAAC;QAAA;MAAC,GAJ1DiC,KAAK;QAAA5B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAKX;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC,eACNjB,OAAA;MAAKO,SAAS,EAAC,YAAY;MAACD,EAAE,EAAC,WAAW;MAAAgB,QAAA,eACtCtB,OAAA,CAACyB,SAAS;QAERrB,KAAK,EAAEsC,KAAM;QACbf,QAAQ,EAAElB,KAAK,CAAC,CAAC,CAAE;QACnBmB,KAAK,EAAEnB,KAAK,CAAC,CAAC;MAAE,GAHXiC,KAAK;QAAA5B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAIX;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC,eACNjB,OAAA;MAAKO,SAAS,EAAC,WAAW;MAAAe,QAAA,eACtBtB,OAAA,CAACwD,MAAM;QACL/C,KAAK,EAAIA,KAAM;QACfiC,KAAK,EAAIA,KAAM;QAEfpC,EAAE,EAAIG,KAAK,CAAC,CAAC,CAAE;QACfgD,QAAQ,EAAI,SAAAA,SAACC,KAAK,EAAK;UACrBL,YAAY,CAACK,KAAK,EAAEhB,KAAK,EAAEjC,KAAK,CAAC,CAAC,CAAC,CAAC;QACtC,CAAE;QACFkD,IAAI,EAAIL;MAAI,GALLZ,KAAK;QAAA5B,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAMb;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACD,CAAC;AAEd;AAAC2C,GAAA,GA7CQX,MAAM;AAiDf,SAASY,OAAOA,CAAAC,KAAA,EAAkE;EAAA,IAA/DnB,IAAI,GAAAmB,KAAA,CAAJnB,IAAI;IAAED,KAAK,GAAAoB,KAAA,CAALpB,KAAK;IAAEW,YAAY,GAAAS,KAAA,CAAZT,YAAY;IAAEU,eAAe,GAAAD,KAAA,CAAfC,eAAe;IAAEC,WAAW,GAAAF,KAAA,CAAXE,WAAW;IAAEC,GAAG,GAAAH,KAAA,CAAHG,GAAG;EAC7E,oBACEjE,OAAA;IAAKO,SAAS,EAAC,aAAa;IAAAe,QAAA,gBAC1BtB,OAAA;MACEO,SAAS,EAAC,cAAc;MACxBC,WAAW,EAAC,sBAAsB;MAClCC,KAAK,EAAEkC,IAAI,CAAC,CAAC,CAAE;MACf/B,QAAQ,EAAG,SAAAA,SAACC,KAAK;QAAA,OAAImD,WAAW,CAACnD,KAAK,EAAE6B,KAAK,EAAEC,IAAI,CAAC,CAAC,CAAC,CAAC;MAAA;IAAC;MAAA7B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzD,CAAC,eACFjB,OAAA;MACEO,SAAS,EAAC,gBAAgB;MAC1BC,WAAW,EAAC,iBAAiB;MAC7BC,KAAK,EAAI,GAAG,GAAGkC,IAAI,CAAC,CAAC,CAAC,CAACjC,QAAQ,CAAC,CAAC,CAACC,OAAO,CAAC,uBAAuB,EAAE,GAAG,CAAE;MACxEL,EAAE,EAAG,SAAS;MACdM,QAAQ,EAAE,SAAAA,SAACC,KAAK;QAAA,OAAIkD,eAAe,CAAClD,KAAK,EAAE6B,KAAK,EAAEC,IAAI,CAAC,CAAC,CAAC,CAAC;MAAA;IAAC;MAAA7B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5D,CAAC,eACFjB,OAAA;MAAKO,SAAS,EAAC,eAAe;MAAAe,QAAA,EAAE,GAAG,GAAG,CAACqB,IAAI,CAAC,CAAC,CAAC,GAAGA,IAAI,CAAC,CAAC,CAAC,EAAEjC,QAAQ,CAAC,CAAC,CAACC,OAAO,CAAC,uBAAuB,EAAE,GAAG;IAAC;MAAAG,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eACjHjB,OAAA,CAACwD,MAAM;MACP/C,KAAK,EAAEkC,IAAK;MACZD,KAAK,EAAIA,KAAM;MAEfpC,EAAE,EAAIqC,IAAI,CAAC,CAAC,CAAE;MACduB,kBAAkB,EAAI,SAAAA,mBAACrD,KAAK;QAAA,OAAIwC,YAAY,CAACxC,KAAK,EAAE6B,KAAK,EAAEC,IAAI,CAAC,CAAC,CAAC,CAAC;MAAA,CAAC;MACpEsB,GAAG,EAAIA;IAAI,GAHLvB,KAAK;MAAA5B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAIV,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAGV;AAACkD,GAAA,GA5BQN,OAAO;AA+BhB,SAASO,GAAGA,CAAAC,KAAA,EAST;EAAA,IARD3B,KAAK,GAAA2B,KAAA,CAAL3B,KAAK;IACLC,IAAI,GAAA0B,KAAA,CAAJ1B,IAAI;IACJ2B,QAAQ,GAAAD,KAAA,CAARC,QAAQ;IACRC,eAAe,GAAAF,KAAA,CAAfE,eAAe;IACfC,aAAa,GAAAH,KAAA,CAAbG,aAAa;IACbC,YAAY,GAAAJ,KAAA,CAAZI,YAAY;IACZC,UAAU,GAAAL,KAAA,CAAVK,UAAU;IACVrB,YAAY,GAAAgB,KAAA,CAAZhB,YAAY;EAEZ,oBACErD,OAAA;IAAKO,SAAS,EAAC,iBAAiB;IAAAe,QAAA,gBAC9BtB,OAAA;MACAQ,WAAW,EAAC,MAAM;MAClBD,SAAS,EAAC,MAAM;MAChBgB,IAAI,EAAC,MAAM;MACXd,KAAK,EAAEkC,IAAI,CAAC,CAAC,CAAC,CAACgC,KAAK,CAAC,CAAC,EAAC,EAAE,CAAE;MAC3B/D,QAAQ,EAAI,SAAAA,SAACgE,MAAM,EAAG;QACpBF,UAAU,CAACE,MAAM,EAAElC,KAAK,EAAEC,IAAI,CAAC,CAAC,CAAC,CAAC;MACpC;IAAG;MAAA7B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACNjB,OAAA;MACEQ,WAAW,EAAC,MAAM;MAClBD,SAAS,EAAC,YAAY;MACtBE,KAAK,EAAIkC,IAAI,CAAC,CAAC,CAAE;MACjB/B,QAAQ,EAAE,SAAAA,SAAC2C,SAAS;QAAA,OAAKkB,YAAY,CAAClB,SAAS,EAAEb,KAAK,EAAEC,IAAI,CAAC,CAAC,CAAC,CAAC;MAAA;IAAC;MAAA7B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClE,CAAC,eACFjB,OAAA,CAACqC,QAAQ;MACPG,UAAU,EAAE8B,QAAS;MACrB3B,IAAI,EAAIA,IAAK;MACbF,MAAM,EAAE,SAAAA,OAACoC,KAAK;QAAA,OAAKN,eAAe,CAACM,KAAK,EAAEnC,KAAK,EAAEC,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC;MAAA;IAAC;MAAA7B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpE,CAAC,eACFjB,OAAA;MACEQ,WAAW,EAAC,aAAa;MACzBD,SAAS,EAAC,QAAQ;MAClBD,EAAE,EAAC,KAAK;MACRG,KAAK,EAAI,GAAG,GAAGkC,IAAI,CAAC,CAAC,CAAC,CAACd,cAAc,CAAC,CAAE;MACxCjB,QAAQ,EAAE,SAAAA,SAAC2C,SAAS;QAAA,OAAKiB,aAAa,CAACjB,SAAS,EAAEb,KAAK,EAAEC,IAAI,CAAC,CAAC,CAAC,CAAC;MAAA;IAAC;MAAA7B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnE,CAAC,eACFjB,OAAA;MACEQ,WAAW,EAAC,QAAQ;MACpBD,SAAS,EAAC,QAAQ;MAClBD,EAAE,EAAC,IAAI;MACPG,KAAK,EAAI,GAAG,GAAGkC,IAAI,CAAC,CAAC,CAAC,CAACd,cAAc,CAAC,CAAE;MACxCjB,QAAQ,EAAE,SAAAA,SAAC2C,SAAS;QAAA,OAAKiB,aAAa,CAACjB,SAAS,EAAEb,KAAK,EAAEC,IAAI,CAAC,CAAC,CAAC,CAAC;MAAA;IAAC;MAAA7B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnE,CAAC,eACFjB,OAAA,CAACwD,MAAM;MACL/C,KAAK,EAAIkC,IAAK;MACdD,KAAK,EAAIA,KAAM;MAEfpC,EAAE,EAAIqC,IAAI,CAAC,CAAC,CAAE;MACdmC,aAAa,EAAI,SAAAA,cAACpB,KAAK,EAAK;QAC1BL,YAAY,CAACK,KAAK,EAAGhB,KAAK,EAAEC,IAAI,CAAC,CAAC,CAAC,CAAC;MACtC;IAAE,GAJKD,KAAK;MAAA5B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAKb,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV;AAAC8D,GAAA,GAxDQX,GAAG;AA2DZ,SAASY,OAAOA,CAAAC,KAAA,EAWb;EAAA,IAVDtC,IAAI,GAAAsC,KAAA,CAAJtC,IAAI;IACJD,KAAK,GAAAuC,KAAA,CAALvC,KAAK;IACLwC,aAAa,GAAAD,KAAA,CAAbC,aAAa;IACbZ,QAAQ,GAAAW,KAAA,CAARX,QAAQ;IACRa,QAAQ,GAAAF,KAAA,CAARE,QAAQ;IACRZ,eAAe,GAAAU,KAAA,CAAfV,eAAe;IACfC,aAAa,GAAAS,KAAA,CAAbT,aAAa;IACbC,YAAY,GAAAQ,KAAA,CAAZR,YAAY;IACZC,UAAU,GAAAO,KAAA,CAAVP,UAAU;IACVrB,YAAY,GAAA4B,KAAA,CAAZ5B,YAAY;EAEZ,oBACErD,OAAA;IAAKO,SAAS,EAAC,iBAAiB;IAAAe,QAAA,gBAC9BtB,OAAA;MACAuB,IAAI,EAAC,QAAQ;MACb6D,GAAG,EAAC,GAAG;MACPC,GAAG,EAAC,IAAI;MACR7E,WAAW,EAAC,OAAO;MACnBD,SAAS,EAAC,MAAM;MAChBD,EAAE,EAAC,aAAa;MAChBM,QAAQ,EAAE,SAAAA,SAAC2C,SAAS;QAAA,OAAK4B,QAAQ,CAAC5B,SAAS,CAAC;MAAA;IAAC;MAAAzC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC5C,CAAC,eACFjB,OAAA,CAACqC,QAAQ;MACPG,UAAU,EAAE8B,QAAS;MACrB3B,IAAI,EAAIA,IAAK;MACbF,MAAM,EAAE,SAAAA,OAACoC,KAAK;QAAA,OAAKN,eAAe,CAACM,KAAK,EAAEnC,KAAK,EAAEC,IAAI,CAAC,CAAC,CAAC,EAAE,MAAM,CAAC;MAAA;IAAC;MAAA7B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnE,CAAC,eACFjB,OAAA;MACEQ,WAAW,EAAC,aAAa;MACzBD,SAAS,EAAC,QAAQ;MAClBD,EAAE,EAAC,SAAS;MACZG,KAAK,EAAI,GAAG,GAAGkC,IAAI,CAAC,CAAC,CAAC,CAACd,cAAc,CAAC,CAAE;MACxCjB,QAAQ,EAAE,SAAAA,SAAC2C,SAAS;QAAA,OAAKiB,aAAa,CAACjB,SAAS,EAAEb,KAAK,EAAEC,IAAI,CAAC,CAAC,CAAC,CAAC;MAAA;IAAC;MAAA7B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnE,CAAC,eACFjB,OAAA;MACEQ,WAAW,EAAC,QAAQ;MACpBD,SAAS,EAAC,QAAQ;MAClBD,EAAE,EAAC,QAAQ;MACXG,KAAK,EAAI,GAAG,GAAGkC,IAAI,CAAC,CAAC,CAAC,CAACd,cAAc,CAAC,CAAE;MACxCjB,QAAQ,EAAE,SAAAA,SAAC2C,SAAS;QAAA,OAAKiB,aAAa,CAACjB,SAAS,EAAEb,KAAK,EAAEC,IAAI,CAAC,CAAC,CAAC,CAAC;MAAA;IAAC;MAAA7B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnE,CAAC,eACFjB,OAAA;MAAAsB,QAAA,EAEC;IAAI;MAAAR,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACdjB,OAAA,CAACwD,MAAM;MACL/C,KAAK,EAAIkC,IAAK;MACdD,KAAK,EAAIA,KAAM;MAEfpC,EAAE,EAAIqC,IAAI,CAAC,CAAC,CAAE;MACd2C,IAAI,EAAIC,aAAc;MACtBC,YAAY,EAAI,SAAAA,aAAC9B,KAAK,EAAK;QACzBL,YAAY,CAACK,KAAK,EAAGhB,KAAK,EAAEC,IAAI,CAAC,CAAC,CAAC,CAAC;MACtC;IAAE,GALKD,KAAK;MAAA5B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAMb,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAEC,CAAC;AAEV;AAACwE,GAAA,GA1DQT,OAAO;AA6DhB,SAASU,MAAMA,CAAAC,MAAA,EAAuB;EAAA,IAApBC,IAAI,GAAAD,MAAA,CAAJC,IAAI;IAAEC,WAAW,GAAAF,MAAA,CAAXE,WAAW;EACjC,IAAIC,OAAO,GAAG,CAAC;EACf,IAAIC,MAAM,GAAG,CAAC;EACd,KAAI,IAAIC,CAAC,IAAIH,WAAW,EAAC;IACvB,IAAGA,WAAW,CAACG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAC;MACvBF,OAAO,IAAID,WAAW,CAACG,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9B;IACA,IAAGH,WAAW,CAACG,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAC;MACvBD,MAAM,IAAIF,WAAW,CAACG,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7B;EACF;EACA,IAAMC,MAAM,GAAGF,MAAM,GAAGD,OAAO;EAC/B,IAAII,WAAW,GAAG,OAAO;EACzB,IAAGD,MAAM,GAAG,CAAC,EAAC;IACZC,WAAW,GAAG,KAAK;EACrB,CAAC,MAAM;IACLA,WAAW,GAAG,OAAO;EACvB;EAEA,oBACElG,OAAA;IAAKO,SAAS,EAAG,kBAAkB;IAAAe,QAAA,gBACjCtB,OAAA;MAAKO,SAAS,EAAC,UAAU;MAAAe,QAAA,GAAC,gBAAW,EAACsE,IAAI,CAAC/D,cAAc,CAAC,CAAC;IAAA;MAAAf,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eAClEjB,OAAA;MAAKO,SAAS,EAAC,UAAU;MAAAe,QAAA,GAAC,sBAAiB,EAAC,CAACyE,MAAM,GAACH,IAAI,EAAE/D,cAAc,CAAC,CAAC;IAAA;MAAAf,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eACjFjB,OAAA;MAAKO,SAAS,EAAC,QAAQ;MAAC4F,KAAK,EAAE;QAACC,KAAK,EAAEF;MAAW,CAAE;MAAA5E,QAAA,GAAE,cAAS,EAAC2E,MAAM,CAACpE,cAAc,CAAC,CAAC,EAAC,GAAC;IAAA;MAAAf,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC5F,CAAC;AAGV;AAACoF,IAAA,GA3BQX,MAAM;AA6Bf,SAASlC,MAAMA,CAAA8C,MAAA,EAAoF;EAAA,IAAjF7F,KAAK,GAAA6F,MAAA,CAAL7F,KAAK;IAAEiC,KAAK,GAAA4D,MAAA,CAAL5D,KAAK;IAAEe,QAAQ,GAAA6C,MAAA,CAAR7C,QAAQ;IAAEqB,aAAa,GAAAwB,MAAA,CAAbxB,aAAa;IAAEZ,kBAAkB,GAAAoC,MAAA,CAAlBpC,kBAAkB;IAAE5D,EAAE,GAAAgG,MAAA,CAAFhG,EAAE;IAAEqD,IAAI,GAAA2C,MAAA,CAAJ3C,IAAI;IAAEM,GAAG,GAAAqC,MAAA,CAAHrC,GAAG;IAAEqB,IAAI,GAAAgB,MAAA,CAAJhB,IAAI;EAC9F,IAAG3B,IAAI,IAAI4C,SAAS,EAAC;IACnB,IAAG5C,IAAI,CAAC6C,IAAI,CAAC,CAAC,CAACC,MAAM,CAAC,UAAAT,CAAC;MAAA,OAAEA,CAAC,KAAG1F,EAAE;IAAA,EAAC,EAAC;MAC/B,oBACAN,OAAA;QAAQO,SAAS,EAAC,QAAQ;QAAC4B,OAAO,EAAE,SAAAA,QAACtB,KAAK;UAAA,OAAG4C,QAAQ,CAAC5C,KAAK,EAAE6B,KAAK,EAAEpC,EAAE,CAAC;QAAA,CAAC;QAAAgB,QAAA,EAAC;MAAC;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAErF;EACF,CAAC,MAAM,IAAGR,KAAK,CAAC,CAAC,CAAC,IAAI8F,SAAS,IAAI9F,KAAK,CAAC,CAAC,CAAC,IAAI,SAAS,EAAC;IACrD,oBACAT,OAAA;MAAQO,SAAS,EAAC,QAAQ;MAAC4B,OAAO,EAAE,SAAAA,QAACtB,KAAK;QAAA,OAAGiE,aAAa,CAACjE,KAAK,EAAE6B,KAAK,EAAEpC,EAAE,CAAC;MAAA,CAAC;MAAAgB,QAAA,EAAC;IAAC;MAAAR,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAE1F,CAAC,MAAM,IAAGgD,GAAG,IAAIsC,SAAS,EAAC;IACzB,IAAGtC,GAAG,CAACuC,IAAI,CAAC,CAAC,CAACC,MAAM,CAAC,UAAAT,CAAC;MAAA,OAAEA,CAAC,KAAG1F,EAAE;IAAA,EAAC,EAAC;MAC9B,oBACEN,OAAA;QAAQO,SAAS,EAAC,QAAQ;QAAC4B,OAAO,EAAE,SAAAA,QAACtB,KAAK;UAAA,OAAGqD,kBAAkB,CAACrD,KAAK,EAAC6B,KAAK,EAACpC,EAAE,CAAC;QAAA,CAAC;QAAAgB,QAAA,EAAC;MAAC;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAE/F;EACF,CAAC,MAAM,IAAGqE,IAAI,IAAIiB,SAAS,EAAC;IAC1B,IAAGjB,IAAI,CAACkB,IAAI,CAAC,CAAC,CAACC,MAAM,CAAC,UAAAT,CAAC;MAAA,OAAEA,CAAC,KAAG1F,EAAE;IAAA,EAAC,EAAC;MAC/B,oBACEN,OAAA;QAAQO,SAAS,EAAC,QAAQ;QAAC4B,OAAO,EAAE,SAAAA,QAACtB,KAAK;UAAA,OAAG2E,YAAY,CAAC3E,KAAK,EAAC6B,KAAK,EAACpC,EAAE,CAAC;QAAA,CAAC;QAAAgB,QAAA,EAAC;MAAC;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAEzF;EACF;AAGJ;AAACyF,IAAA,GA1BQlD,MAAM;AA4Bf,eAAe,SAASmD,GAAGA,CAAA,EAAG;EAAAC,EAAA;EAAA,IAAAC,MAAA;EAC5B,IAAMC,IAAI,GAAG,IAAIC,IAAI,CAAC,CAAC;;EAEvB;EACA,IAAAC,SAAA,GAAgCpH,QAAQ,CAACqH,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC,QAAQ,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAEJ,IAAI,CAAC,CAAC,CAAC;IAAAK,UAAA,GAAAC,cAAA,CAAAJ,SAAA;IAA5E1C,QAAQ,GAAA6C,UAAA;IAAEE,WAAW,GAAAF,UAAA;EAC5B,IAAAG,UAAA,GAA0B1H,QAAQ,CAAC,CAAC,CAAC;IAAA2H,UAAA,GAAAH,cAAA,CAAAE,UAAA;IAA9BE,KAAK,GAAAD,UAAA;IAAEE,QAAQ,GAAAF,UAAA,IAAgB,CAAC;EACvC;EACA,IAAAG,UAAA,GAAsC9H,QAAQ,CAACqH,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC,QAAQ,EAAE,EAAE,EAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAAAS,UAAA,GAAAP,cAAA,CAAAM,UAAA;IAAnF7B,WAAW,GAAA8B,UAAA;IAAEC,cAAc,GAAAD,UAAA;EAClC;EACA,IAAAE,UAAA,GAAkCjI,QAAQ,CAAC,IAAI,CAAC;IAAAkI,UAAA,GAAAV,cAAA,CAAAS,UAAA;IAAzCE,SAAS,GAAAD,UAAA;IAAEE,YAAY,GAAAF,UAAA;EAC9B,IAAAG,UAAA,GAAoCrI,QAAQ,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;IAAAsI,WAAA,GAAAd,cAAA,CAAAa,UAAA;IAAlDE,UAAU,GAAAD,WAAA;IAAEE,aAAa,GAAAF,WAAA;;EAEhC;EACA,IAAAG,WAAA,GAA8BzI,QAAQ,CAACqH,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC,QAAQ,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,SAAS,EAAEJ,IAAI,CAAC,CAAC,CAAC;IAAAwB,WAAA,GAAAlB,cAAA,CAAAiB,WAAA;IAArFE,OAAO,GAAAD,WAAA;IAAEE,UAAU,GAAAF,WAAA;EAC1B;EACA,IAAAG,WAAA,GAAkC7I,QAAQ,CAACqH,KAAK,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC,CAAC,CAAC;IAAAwB,WAAA,GAAAtB,cAAA,CAAAqB,WAAA;IAAlFE,SAAS,GAAAD,WAAA;IAAEE,YAAY,GAAAF,WAAA;EAE9B7I,SAAS,CAAC,YAAK;IACbgJ,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC;IACtBC,KAAK,CAAC,OAAO,CAAC,CACbC,IAAI,CAAC,UAAAC,QAAQ;MAAA,OAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC;IAAA,EAAC,CACjCF,IAAI,CAAC,UAAArG,IAAI,EAAI;MACZkG,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEnG,IAAI,CAAC;MAClC,IAAIe,KAAK,GAAGY,QAAQ,CAACK,KAAK,CAAC,CAAC;MAC5B,IAAIwE,UAAU,GAAGtD,WAAW,CAAClB,KAAK,CAAC,CAAC;MACpC,IAAIV,GAAG,GAAGsE,OAAO,CAAC5D,KAAK,CAAC,CAAC;MACzB,IAAIyE,GAAG,GAAGT,SAAS,CAAChE,KAAK,CAAC,CAAC;MAE3B,IAAM0E,SAAS,GAAG,IAAItC,IAAI,CAAC,CAAC;MAC5B,IAAMuC,SAAS,GAAGD,SAAS,CAACE,OAAO,CAAC,CAAC;MACrC,IAAMC,UAAU,GAAGH,SAAS,CAACI,QAAQ,CAAC,CAAC;MAEvC,KAAI,IAAIzD,CAAC,IAAIrD,IAAI,CAAC+G,QAAQ,EAAC;QACzB,IAAMC,KAAK,GAAG,IAAI5C,IAAI,CAACpE,IAAI,CAAC+G,QAAQ,CAAC1D,CAAC,CAAC,CAAC2D,KAAK,CAAC;QAC9C,IAAMC,KAAK,GAAGD,KAAK,CAACJ,OAAO,CAAC,CAAC;QAC7B,IAAMM,MAAM,GAAGF,KAAK,CAACF,QAAQ,CAAC,CAAC;QAC/B;QACA,IAAGD,UAAU,KAAKK,MAAM,GAAG,CAAC,IAAIP,SAAS,IAAI,EAAE,EAAC;UAC9C5F,KAAK,CAACsC,CAAC,CAAC,GAAG,CACTrD,IAAI,CAAC+G,QAAQ,CAAC1D,CAAC,CAAC,CAAC8D,GAAG,EACpBnH,IAAI,CAAC+G,QAAQ,CAAC1D,CAAC,CAAC,CAACnD,IAAI,EACrBF,IAAI,CAAC+G,QAAQ,CAAC1D,CAAC,CAAC,CAAC+D,MAAM,EACvB,CAAC,EACDV,SAAS,CACV;QACH,CAAC,MAAM;UACL3F,KAAK,CAACsC,CAAC,CAAC,GAAG,CACTrD,IAAI,CAAC+G,QAAQ,CAAC1D,CAAC,CAAC,CAAC8D,GAAG,EACpBnH,IAAI,CAAC+G,QAAQ,CAAC1D,CAAC,CAAC,CAACnD,IAAI,EACrBF,IAAI,CAAC+G,QAAQ,CAAC1D,CAAC,CAAC,CAAC+D,MAAM,EACvBpH,IAAI,CAAC+G,QAAQ,CAAC1D,CAAC,CAAC,CAACgE,KAAK,EACtBrH,IAAI,CAAC+G,QAAQ,CAAC1D,CAAC,CAAC,CAAC2D,KAAK,CACvB;QACH;MACF;MACA,KAAI,IAAIM,CAAC,IAAItH,IAAI,CAACkD,WAAW,EAAC;QAC5B,IAAG,CAAClD,IAAI,CAACkD,WAAW,CAACoE,CAAC,CAAC,CAACnD,IAAI,EAAC;UAC3BnE,IAAI,CAACkD,WAAW,CAACoE,CAAC,CAAC,CAACnD,IAAI,GAAG,UAAU;QACvC;QACAqC,UAAU,CAACc,CAAC,CAAC,GAAG,CACdtH,IAAI,CAACkD,WAAW,CAACoE,CAAC,CAAC,CAACH,GAAG,EACvBnH,IAAI,CAACkD,WAAW,CAACoE,CAAC,CAAC,CAACC,KAAK,EACzBvH,IAAI,CAACkD,WAAW,CAACoE,CAAC,CAAC,CAACnD,IAAI,EACxBnE,IAAI,CAACkD,WAAW,CAACoE,CAAC,CAAC,CAACP,QAAQ,EAC5B/G,IAAI,CAACkD,WAAW,CAACoE,CAAC,CAAC,CAACnE,OAAO,EAC3BnD,IAAI,CAACkD,WAAW,CAACoE,CAAC,CAAC,CAAClE,MAAM,CAC3B;MACH;MACA;MACA,KAAI,IAAIoE,CAAC,IAAIxH,IAAI,CAAC4F,OAAO,EAAC;QACxB,IAAM6B,MAAM,GAAG,IAAIrD,IAAI,CAACpE,IAAI,CAAC4F,OAAO,CAAC4B,CAAC,CAAC,CAACE,KAAK,CAAC;QAC9C,IAAMC,OAAO,GAAGF,MAAM,CAACX,QAAQ,CAAC,CAAC;QACjC;QACA,IAAGD,UAAU,KAAKc,OAAO,GAAG,CAAC,IAAIhB,SAAS,IAAI,EAAE,EAAC;UAC/CrF,GAAG,CAACkG,CAAC,CAAC,GAAC,CACLxH,IAAI,CAAC4F,OAAO,CAAC4B,CAAC,CAAC,CAACL,GAAG,EACnBnH,IAAI,CAAC4F,OAAO,CAAC4B,CAAC,CAAC,CAACI,KAAK,EACrB,CAAC,EACD5H,IAAI,CAAC4F,OAAO,CAAC4B,CAAC,CAAC,CAACK,MAAM,GAAG7H,IAAI,CAAC4F,OAAO,CAAC4B,CAAC,CAAC,CAACM,OAAO,EAChD9H,IAAI,CAAC4F,OAAO,CAAC4B,CAAC,CAAC,CAACO,GAAG,EACnBrB,SAAS,CACV;QACH,CAAC,MAAM;UACLpF,GAAG,CAACkG,CAAC,CAAC,GAAC,CACLxH,IAAI,CAAC4F,OAAO,CAAC4B,CAAC,CAAC,CAACL,GAAG,EACnBnH,IAAI,CAAC4F,OAAO,CAAC4B,CAAC,CAAC,CAACI,KAAK,EACrB5H,IAAI,CAAC4F,OAAO,CAAC4B,CAAC,CAAC,CAACM,OAAO,EACvB9H,IAAI,CAAC4F,OAAO,CAAC4B,CAAC,CAAC,CAACK,MAAM,EACtB7H,IAAI,CAAC4F,OAAO,CAAC4B,CAAC,CAAC,CAACO,GAAG,EACnB/H,IAAI,CAAC4F,OAAO,CAAC4B,CAAC,CAAC,CAACE,KAAK,CACxB;QAED;QACF,KAAI,IAAIM,CAAC,IAAIhI,IAAI,CAAC2C,IAAI,EAAC;UACrB8D,GAAG,CAACuB,CAAC,CAAC,GAAG,CACPhI,IAAI,CAAC2C,IAAI,CAACqF,CAAC,CAAC,CAACb,GAAG,EAChBnH,IAAI,CAAC2C,IAAI,CAACqF,CAAC,CAAC,CAACC,KAAK,EAClBjI,IAAI,CAAC2C,IAAI,CAACqF,CAAC,CAAC,CAACE,SAAS,EACtBlI,IAAI,CAAC2C,IAAI,CAACqF,CAAC,CAAC,CAACG,QAAQ,EACrBnI,IAAI,CAAC2C,IAAI,CAACqF,CAAC,CAAC,CAACI,OAAO,EACpBpI,IAAI,CAAC2C,IAAI,CAACqF,CAAC,CAAC,CAACK,GAAG,CACjB;QACH;MACA;MAGAnC,OAAO,CAACC,GAAG,CAAC,aAAa,EAAE7E,GAAG,CAAC;MAC/B2D,cAAc,CAACuB,UAAU,CAAC;MAC1BX,UAAU,CAACvE,GAAG,CAAC;MACf2E,YAAY,CAACQ,GAAG,CAAC;MACjB/B,WAAW,CAAC3D,KAAK,CAAC;MAClBuH,cAAc,CAAChH,GAAG,EAAEP,KAAK,CAAC;MAC1BsE,YAAY,CAAC,KAAK,CAAC;IAErB,CAAC,CAAC;EAEJ,CAAC,EAAE,EAAE,CAAC;EAGNnI,SAAS,CAAC,YAAI;IAChB,IAAG,CAACkI,SAAS,IAAI,CAACI,UAAU,CAAC,CAAC,CAAC,EAAC;MAC5BY,KAAK,CAAC,SAAS,EAAE;QAACmC,MAAM,EAAE,MAAM;QAAEC,OAAO,EAAE;UAAC,cAAc,EAAE;QAAkB,CAAC;QAAEC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAChH,QAAQ;MAAC,CAAC,CAAC,CAC9G0E,IAAI,CAAC,UAAAC,QAAQ;QAAA,OAAGA,QAAQ,CAACC,IAAI,CAAC,CAAC;MAAA,EAAC,CAChCF,IAAI,CACH,UAAArG,IAAI,EAAG;QACJkG,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEnG,IAAI,CAAC;MAC/C,CACF,CAAC;IACH,CAAC,MACI,IAAGwF,UAAU,CAAC,CAAC,CAAC,EAAC;MACpBY,KAAK,CAAC,SAAS,EAAE;QAACmC,MAAM,EAAE,MAAM;QAAEC,OAAO,EAAE;UAAC,cAAc,EAAE;QAAkB,CAAC;QAAEC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACnD,UAAU,CAAC,CAAC,CAAC;MAAC,CAAC,CAAC,CACrHa,IAAI,CAAC,UAAAC,QAAQ;QAAA,OAAGA,QAAQ,CAACC,IAAI,CAAC,CAAC;MAAA,EAAC,CAChCF,IAAI,CACH,UAAArG,IAAI,EAAG;QACJkG,OAAO,CAACC,GAAG,CAAC,gCAAgC,EAAEnG,IAAI,CAAC;MACtD,CACF,CAAC;MACDyF,aAAa,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;IAC5B;EACF,CAAC,EAAE,CAAC9D,QAAQ,CAAC,CAAC;EAIdzE,SAAS,CAAC,YAAK;IACb,IAAG,CAACkI,SAAS,IAAI,CAACI,UAAU,CAAC,CAAC,CAAC,EAAC;MAC9BU,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEjD,WAAW,CAAC;MAC7CkD,KAAK,CAAC,SAAS,EAAE;QAACmC,MAAM,EAAE,MAAM;QAAEC,OAAO,EAAE;UAAC,cAAc,EAAE;QAAkB,CAAC;QAAEC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACzF,WAAW;MAAC,CAAC,CAAC,CACjHmD,IAAI,CAAC,UAAAC,QAAQ;QAAA,OAAGA,QAAQ,CAACC,IAAI,CAAC,CAAC;MAAA,EAAC,CAChCF,IAAI,CACH,UAAArG,IAAI,EAAG;QACLkG,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEnG,IAAI,CAAC;MACjD,CACF,CAAC;IACL,CAAC,MAAM,IAAGwF,UAAU,CAAC,CAAC,CAAC,EAAC;MACtBY,KAAK,CAAC,SAAS,EAAE;QAACmC,MAAM,EAAE,MAAM;QAAEC,OAAO,EAAE;UAAC,cAAc,EAAE;QAAkB,CAAC;QAAEC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACnD,UAAU,CAAC,CAAC,CAAC;MAAC,CAAC,CAAC,CACrHa,IAAI,CAAC,UAAAC,QAAQ;QAAA,OAAGA,QAAQ,CAACC,IAAI,CAAC,CAAC;MAAA,EAAC,CAChCF,IAAI,CACH,UAAArG,IAAI,EAAG;QACJkG,OAAO,CAACC,GAAG,CAAC,mCAAmC,EAAEnG,IAAI,CAAC;MACzD,CACF,CAAC;MACDyF,aAAa,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;IAC5B;EAEF,CAAC,EAAE,CAACvC,WAAW,CAAC,CAAC;EAEjBhG,SAAS,CAAC,YAAK;IACb,IAAG,CAACkI,SAAS,IAAI,CAACI,UAAU,CAAC,CAAC,CAAC,EAAC;MAC9BU,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEP,OAAO,CAAC;MACrCQ,KAAK,CAAC,SAAS,EAAE;QAACmC,MAAM,EAAE,MAAM;QAAEC,OAAO,EAAE;UAAC,cAAc,EAAE;QAAkB,CAAC;QAAEC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC/C,OAAO;MAAC,CAAC,CAAC,CAC7GS,IAAI,CAAC,UAAAC,QAAQ;QAAA,OAAGA,QAAQ,CAACC,IAAI,CAAC,CAAC;MAAA,EAAC,CAChCF,IAAI,CACH,UAAArG,IAAI,EAAG;QACLkG,OAAO,CAACC,GAAG,CAAC,wBAAwB,EAAEnG,IAAI,CAAC;MAC7C,CACF,CAAC;IACL,CAAC,MAAM,IAAGwF,UAAU,CAAC,CAAC,CAAC,EAAC;MACtBY,KAAK,CAAC,SAAS,EAAE;QAACmC,MAAM,EAAE,MAAM;QAAEC,OAAO,EAAE;UAAC,cAAc,EAAE;QAAkB,CAAC;QAAEC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACnD,UAAU,CAAC,CAAC,CAAC;MAAC,CAAC,CAAC,CACrHa,IAAI,CAAC,UAAAC,QAAQ;QAAA,OAAGA,QAAQ,CAACC,IAAI,CAAC,CAAC;MAAA,EAAC,CAChCF,IAAI,CACH,UAAArG,IAAI,EAAG;QACJkG,OAAO,CAACC,GAAG,CAAC,+BAA+B,EAAEnG,IAAI,CAAC;MACrD,CACF,CAAC;MACDyF,aAAa,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;IAC5B;EAEF,CAAC,EAAE,CAACG,OAAO,CAAC,CAAC;EAEb1I,SAAS,CAAC,YAAK;IACb,IAAG,CAACkI,SAAS,IAAI,CAACI,UAAU,CAAC,CAAC,CAAC,EAAC;MAC9BU,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEH,SAAS,CAAC;MACzCI,KAAK,CAAC,SAAS,EAAE;QAACmC,MAAM,EAAE,MAAM;QAAEC,OAAO,EAAE;UAAC,cAAc,EAAE;QAAkB,CAAC;QAAEC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC3C,SAAS;MAAC,CAAC,CAAC,CAC/GK,IAAI,CAAC,UAAAC,QAAQ;QAAA,OAAGA,QAAQ,CAACC,IAAI,CAAC,CAAC;MAAA,EAAC,CAChCF,IAAI,CACH,UAAArG,IAAI,EAAG;QACLkG,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEnG,IAAI,CAAC;MAC/C,CACF,CAAC;IACL,CAAC,MAAM,IAAGwF,UAAU,CAAC,CAAC,CAAC,EAAC;MACtBY,KAAK,CAAC,SAAS,EAAE;QAACmC,MAAM,EAAE,MAAM;QAAEC,OAAO,EAAE;UAAC,cAAc,EAAE;QAAkB,CAAC;QAAEC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACnD,UAAU,CAAC,CAAC,CAAC;MAAC,CAAC,CAAC,CACrHa,IAAI,CAAC,UAAAC,QAAQ;QAAA,OAAGA,QAAQ,CAACC,IAAI,CAAC,CAAC;MAAA,EAAC,CAChCF,IAAI,CACH,UAAArG,IAAI,EAAG;QACJkG,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEnG,IAAI,CAAC;MACnD,CACF,CAAC;MACDyF,aAAa,CAAC,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC;IAC5B;EAEF,CAAC,EAAE,CAACO,SAAS,CAAC,CAAC;;EAKjB;EACE,SAAS4C,SAASA,CAACC,GAAG,EAAEC,SAAS,EAAE;IACjC,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,GAAG,CAACG,MAAM,EAAED,CAAC,EAAE,EAAE;MACnC,IAAIF,GAAG,CAACE,CAAC,CAAC,CAACE,KAAK,CAAC,IAAI,CAAC,EAAE;QACtBH,SAAS,CAACI,IAAI,CAACL,GAAG,CAACE,CAAC,CAAC,CAAC;MACxB;IACF;IAEA,IAAMI,SAAS,GAAGL,SAAS,CAACM,IAAI,CAAC,EAAE,CAAC;IACpC,OAAOD,SAAS;EAClB;EAEA,SAASb,cAAcA,CAACe,QAAQ,EAAErI,IAAI,EAAC;IACrC,IAAI6D,KAAK,GAAG,CAAC;IACb,KAAI,IAAIyC,CAAC,IAAItG,IAAI,EAAC;MAChB6D,KAAK,IAAI7D,IAAI,CAACsG,CAAC,CAAC,CAAC,CAAC,CAAC;IACrB;IACA,KAAI,IAAIgC,CAAC,IAAID,QAAQ,EAAC;MACpB;MACAxE,KAAK,IAAIwE,QAAQ,CAACC,CAAC,CAAC,CAAC,CAAC,CAAC;IAEzB;IACAxE,QAAQ,CAACD,KAAK,CAAC;EACjB;EAGA,SAASpE,YAAWA,CAACvC,KAAK,EAAEqL,GAAG,EAAE5L,EAAE,EAAE;IACnC,IAAM6L,UAAU,GAAG7H,QAAQ,CAACK,KAAK,CAAC,CAAC;IACnC,IAAItE,GAAG,GAAGQ,KAAK,CAACuL,MAAM,CAAC3L,KAAK;IAC5B,IAAM4L,eAAe,GAAGxG,WAAW,CAAClB,KAAK,CAAC,CAAC;IAC3C,IAAM2H,WAAW,GAAG/D,OAAO,CAAC5D,KAAK,CAAC,CAAC;IACnC,IAAM4H,QAAQ,GAAG5D,SAAS,CAAChE,KAAK,CAAC,CAAC;IAClCkE,OAAO,CAACC,GAAG,CAAC,UAAU,EAAEjI,KAAK,CAACuL,MAAM,CAAC9L,EAAE,CAAC;IACxC;IACA,IAAIO,KAAK,CAACuL,MAAM,CAAC9L,EAAE,KAAK,KAAK,EAAE;MAC7BuI,OAAO,CAACC,GAAG,CAAC,IAAI,EAAExI,EAAE,CAAC;MACrB;MACA;MACA,KAAK,IAAIoC,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAG2J,eAAe,CAACV,MAAM,EAAEjJ,KAAK,EAAE,EAAE;QAC3D,IAAI2J,eAAe,CAAC3J,KAAK,CAAC,CAAC,CAAC,CAAC,KAAKpC,EAAE,EAAE;UACpCuI,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEuD,eAAe,CAAC3J,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;UAC3D,IAAM8I,GAAG,GAAAgB,kBAAA,CAAOnM,GAAG,CAAC;UACpB,IAAMoL,SAAS,GAAG,EAAE;UACpB,IAAMgB,MAAM,GAAGlB,SAAS,CAACC,GAAG,EAAEC,SAAS,CAAC;UACxC,IAAMiB,GAAG,GAAGD,MAAM,CAAC9L,OAAO,CAAC,uBAAuB,EAAE,GAAG,CAAC;UACxDE,KAAK,CAACuL,MAAM,CAAC3L,KAAK,GAAG,GAAG,GAAGiM,GAAG;UAC9BL,eAAe,CAAC3J,KAAK,CAAC,GAAG,CACvB2J,eAAe,CAAC3J,KAAK,CAAC,CAAC,CAAC,CAAC,EACzB2J,eAAe,CAAC3J,KAAK,CAAC,CAAC,CAAC,CAAC,EACzB2J,eAAe,CAAC3J,KAAK,CAAC,CAAC,CAAC,CAAC,EACzB2J,eAAe,CAAC3J,KAAK,CAAC,CAAC,CAAC,CAAC,EACzBiK,UAAU,CAACF,MAAM,CAAC,EAClBJ,eAAe,CAAC3J,KAAK,CAAC,CAAC,CAAC,CAAC,CAC1B;QACH;MACF;IACF,CAAC,MAAM,IAAI7B,KAAK,CAACuL,MAAM,CAAC9L,EAAE,KAAK,IAAI,EAAE;MACnC,KAAK,IAAIoC,MAAK,GAAG,CAAC,EAAEA,MAAK,GAAG2J,eAAe,CAACV,MAAM,EAAEjJ,MAAK,EAAE,EAAE;QAC3D,IAAI2J,eAAe,CAAC3J,MAAK,CAAC,CAAC,CAAC,CAAC,KAAKpC,EAAE,EAAE;UACpC,IAAMkL,IAAG,GAAAgB,kBAAA,CAAOnM,GAAG,CAAC;UACpB,IAAMoL,UAAS,GAAG,EAAE;UACpB,IAAMgB,OAAM,GAAGlB,SAAS,CAACC,IAAG,EAAEC,UAAS,CAAC;UACxC,IAAMiB,IAAG,GAAGD,OAAM,CAAC9L,OAAO,CAAC,uBAAuB,EAAE,GAAG,CAAC;UACxDE,KAAK,CAACuL,MAAM,CAAC3L,KAAK,GAAG,GAAG,GAAGiM,IAAG;UAC9BL,eAAe,CAAC3J,MAAK,CAAC,GAAG,CACvB2J,eAAe,CAAC3J,MAAK,CAAC,CAAC,CAAC,CAAC,EACzB2J,eAAe,CAAC3J,MAAK,CAAC,CAAC,CAAC,CAAC,EACzB2J,eAAe,CAAC3J,MAAK,CAAC,CAAC,CAAC,CAAC,EACzB2J,eAAe,CAAC3J,MAAK,CAAC,CAAC,CAAC,CAAC,EACzB2J,eAAe,CAAC3J,MAAK,CAAC,CAAC,CAAC,CAAC,EACzBiK,UAAU,CAACF,OAAM,CAAC,CACnB;QACH;MACF;IACF,CAAC,MAAM,IAAG5L,KAAK,CAACuL,MAAM,CAAC9L,EAAE,KAAK,gBAAgB,EAAC;MAC7C;MACA,KAAK,IAAI0F,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGmG,UAAU,CAACR,MAAM,EAAE3F,CAAC,EAAE,EAAE;QAC1C,IAAImG,UAAU,CAACnG,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK1F,EAAE,EAAE;UAC3B,IAAMkL,KAAG,GAAAgB,kBAAA,CAAOnM,GAAG,CAAC;UACpB,IAAMoL,WAAS,GAAG,EAAE;UACpB,IAAMgB,QAAM,GAAGlB,SAAS,CAACC,KAAG,EAAEC,WAAS,CAAC;UACxC,IAAMiB,KAAG,GAAGD,QAAM,CAAC9L,OAAO,CAAC,uBAAuB,EAAE,GAAG,CAAC;UACxDE,KAAK,CAACuL,MAAM,CAAC3L,KAAK,GAAG,GAAG,GAAGiM,KAAG;UAC9BP,UAAU,CAACnG,CAAC,CAAC,GAAG,CACdmG,UAAU,CAACnG,CAAC,CAAC,CAAC,CAAC,CAAC,EAChBmG,UAAU,CAACnG,CAAC,CAAC,CAAC,CAAC,CAAC,EAChB2G,UAAU,CAACF,QAAM,CAAC,EAClBN,UAAU,CAACnG,CAAC,CAAC,CAAC,CAAC,CAAC,EAChBmG,UAAU,CAACnG,CAAC,CAAC,CAAC,CAAC,CAAC,CACjB;QACH;MACF;MACAiF,cAAc,CAACqB,WAAW,EAAEH,UAAU,CAAC;IACzC,CAAC,MAAM,IAAGtL,KAAK,CAACuL,MAAM,CAAC9L,EAAE,KAAK,SAAS,EAAC;MACtC;MACA,KAAI,IAAI0F,EAAC,GAAG,CAAC,EAAEA,EAAC,GAAGsG,WAAW,CAACX,MAAM,EAAE3F,EAAC,EAAE,EAAC;QACzC,IAAGsG,WAAW,CAACtG,EAAC,CAAC,CAAC,CAAC,CAAC,KAAK1F,EAAE,EAAC;UAC1B,IAAMkL,KAAG,GAAAgB,kBAAA,CAAOnM,GAAG,CAAC;UACpB,IAAMoL,WAAS,GAAG,EAAE;UACpB,IAAMgB,QAAM,GAAGlB,SAAS,CAACC,KAAG,EAAEC,WAAS,CAAC;UACxC,IAAMiB,KAAG,GAAGD,QAAM,CAAC9L,OAAO,CAAC,uBAAuB,EAAE,GAAG,CAAC;UACxDE,KAAK,CAACuL,MAAM,CAAC3L,KAAK,GAAG,GAAG,GAAGiM,KAAG;UAC9BJ,WAAW,CAACtG,EAAC,CAAC,GAAG,CACfsG,WAAW,CAACtG,EAAC,CAAC,CAAC,CAAC,CAAC,EACjBsG,WAAW,CAACtG,EAAC,CAAC,CAAC,CAAC,CAAC,EACjB2G,UAAU,CAACF,QAAM,CAAC,EAClBH,WAAW,CAACtG,EAAC,CAAC,CAAC,CAAC,CAAC,EACjBsG,WAAW,CAACtG,EAAC,CAAC,CAAC,CAAC,CAAC,EACjBsG,WAAW,CAACtG,EAAC,CAAC,CAAC,CAAC,CAAC,CAClB;UACDiF,cAAc,CAACqB,WAAW,EAAEH,UAAU,CAAC;QAEzC;MACF;IACF,CAAC,MAAM,IAAGtL,KAAK,CAACuL,MAAM,CAAC9L,EAAE,KAAK,SAAS,EAAC;MACtC,KAAI,IAAIqK,CAAC,IAAI4B,QAAQ,EAAC;QACpB,IAAGA,QAAQ,CAAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,KAAKrK,EAAE,EAAC;UACvB,IAAMkL,KAAG,GAAAgB,kBAAA,CAAOnM,GAAG,CAAC;UACpB,IAAMoL,WAAS,GAAG,EAAE;UACpB,IAAMgB,QAAM,GAAGlB,SAAS,CAACC,KAAG,EAAEC,WAAS,CAAC;UACxC,IAAMiB,KAAG,GAAGD,QAAM,CAAC9L,OAAO,CAAC,uBAAuB,EAAE,GAAG,CAAC;UACxDE,KAAK,CAACuL,MAAM,CAAC3L,KAAK,GAAG,GAAG,GAAGiM,KAAG;UAE9BH,QAAQ,CAAC5B,CAAC,CAAC,GAAG,CACZ4B,QAAQ,CAAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,EACd4B,QAAQ,CAAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,EACd4B,QAAQ,CAAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,EACdgC,UAAU,CAACF,QAAM,CAAC,EAClBF,QAAQ,CAAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,EACd4B,QAAQ,CAAC5B,CAAC,CAAC,CAAC,CAAC,CAAC,CACf;QACH;MACF;IACF,CAAC,MAAM,IAAG9J,KAAK,CAACuL,MAAM,CAAC9L,EAAE,KAAK,QAAQ,EAAC;MACrC,KAAI,IAAIqK,EAAC,IAAI4B,QAAQ,EAAC;QACpB,IAAGA,QAAQ,CAAC5B,EAAC,CAAC,CAAC,CAAC,CAAC,KAAKrK,EAAE,EAAC;UACvB,IAAMkL,KAAG,GAAAgB,kBAAA,CAAOnM,GAAG,CAAC;UACpB,IAAMoL,WAAS,GAAG,EAAE;UACpB,IAAMgB,QAAM,GAAGlB,SAAS,CAACC,KAAG,EAAEC,WAAS,CAAC;UACxC,IAAMiB,KAAG,GAAGD,QAAM,CAAC9L,OAAO,CAAC,uBAAuB,EAAE,GAAG,CAAC;UACxDE,KAAK,CAACuL,MAAM,CAAC3L,KAAK,GAAG,GAAG,GAAGiM,KAAG;UAE9BH,QAAQ,CAAC5B,EAAC,CAAC,GAAG,CACZ4B,QAAQ,CAAC5B,EAAC,CAAC,CAAC,CAAC,CAAC,EACd4B,QAAQ,CAAC5B,EAAC,CAAC,CAAC,CAAC,CAAC,EACd4B,QAAQ,CAAC5B,EAAC,CAAC,CAAC,CAAC,CAAC,EACd4B,QAAQ,CAAC5B,EAAC,CAAC,CAAC,CAAC,CAAC,EACdgC,UAAU,CAACF,QAAM,CAAC,EAClBF,QAAQ,CAAC5B,EAAC,CAAC,CAAC,CAAC,CAAC,CACf;QACH;MACF;IACF;IACJ;IACI,KAAK,IAAIV,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGkC,UAAU,CAACR,MAAM,EAAE1B,CAAC,EAAE,EAAE;MAC1C,IAAID,KAAK,GAAG,CAAC;MACb,IAAM4C,KAAK,GAAG,IAAI7F,IAAI,CAAC,CAAC;MACxB,IAAM8F,GAAG,GAAGD,KAAK,CAACrD,OAAO,CAAC,CAAC;MAC3B,IAAMuD,KAAK,GAAGF,KAAK,CAACnD,QAAQ,CAAC,CAAC;MAI9B,KAAK,IAAIsD,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAGV,eAAe,CAACV,MAAM,EAAEoB,EAAE,EAAE,EAAE;QAClD,IAAMC,MAAM,GAAG,IAAIjG,IAAI,CAACsF,eAAe,CAACU,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;QAC/C,IAAME,IAAI,GAAGD,MAAM,CAACzD,OAAO,CAAC,CAAC;QAC7B,IAAM2D,MAAM,GAAGF,MAAM,CAACvD,QAAQ,CAAC,CAAC;QAChC,IAAM0D,GAAG,GAAGD,MAAM,KAAKJ,KAAK,GAAG,CAAC,IAAIG,IAAI,IAAI,EAAE,CAAC,CAAC;QAChD,IAAMG,GAAG,GAAGF,MAAM,KAAKJ,KAAK,IAAIG,IAAI,GAAG,EAAE;QACzC,IAAMI,SAAS,GAAGF,GAAG,IAAIC,GAAG;QAC5B,IACEjB,UAAU,CAAClC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAKoC,eAAe,CAACU,EAAE,CAAC,CAAC,CAAC,CAAC;QAAI;QAC/CV,eAAe,CAACU,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAC1BM,SAAS,EACT;UACArD,KAAK,IAAIqC,eAAe,CAACU,EAAE,CAAC,CAAC,CAAC,CAAC;QACjC,CAAC,MAAM,IACLZ,UAAU,CAAClC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAKoC,eAAe,CAACU,EAAE,CAAC,CAAC,CAAC,CAAC;QAAI;QAC/CV,eAAe,CAACU,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,IAC1BM,SAAS,EACT;UACArD,KAAK,IAAIqC,eAAe,CAACU,EAAE,CAAC,CAAC,CAAC,CAAC;QACjC;MACF;MACAZ,UAAU,CAAClC,CAAC,CAAC,GAAG,CAACkC,UAAU,CAAClC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEkC,UAAU,CAAClC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEkC,UAAU,CAAClC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAED,KAAK,EAAEmC,UAAU,CAAClC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAEjG;IACAzB,UAAU,CAAC8D,WAAW,CAAC;IACvBjF,WAAW,CAAC8E,UAAU,CAAC;IACvBvE,cAAc,CAACyE,eAAe,CAAC;IAC/BzD,YAAY,CAAC2D,QAAQ,CAAC;EACxB;EAEA,SAASpJ,cAAaA,CAACtC,KAAK,EAAEqL,GAAG,EAAE5L,EAAE,EAAE;IACrC,IAAMgN,OAAO,GAAGhJ,QAAQ,CAACK,KAAK,CAAC,CAAC;IAChC,KAAK,IAAIqB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGsH,OAAO,CAAC3B,MAAM,EAAE3F,CAAC,EAAE,EAAE;MACvC,IAAIsH,OAAO,CAACtH,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK1F,EAAE,EAAE;QACxBgN,OAAO,CAACtH,CAAC,CAAC,GAAG,CAAC1F,EAAE,EAAEO,KAAK,CAACuL,MAAM,CAAC3L,KAAK,EAAE6M,OAAO,CAACtH,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEsH,OAAO,CAACtH,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEsH,OAAO,CAACtH,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACpF;IACF;IACAqB,WAAW,CAACiG,OAAO,CAAC;EAEtB;EAEA,SAAS/I,eAAeA,CAAC1D,KAAK,EAAE6B,KAAK,EAAEpC,EAAE,EAAEiN,KAAK,EAAE;IAChD,IAAMC,eAAe,GAAG3H,WAAW,CAAClB,KAAK,CAAC,CAAC;IAC3C,IAAM4H,QAAQ,GAAG5D,SAAS,CAAChE,KAAK,CAAC,CAAC;IAClC,IAAG4I,KAAK,KAAK,OAAO,EAAC;MACnBC,eAAe,CAAC9K,KAAK,CAAC,GAAG,CACzB8K,eAAe,CAAC9K,KAAK,CAAC,CAAC,CAAC,CAAC,EACzB8K,eAAe,CAAC9K,KAAK,CAAC,CAAC,CAAC,CAAC,EACzB8K,eAAe,CAAC9K,KAAK,CAAC,CAAC,CAAC,CAAC,EACzB7B,KAAK,CAACuL,MAAM,CAAC3L,KAAK,EAClB+M,eAAe,CAAC9K,KAAK,CAAC,CAAC,CAAC,CAAC,EACzB8K,eAAe,CAAC9K,KAAK,CAAC,CAAC,CAAC,CAAC,CAC1B;MACDkF,cAAc,CAAC4F,eAAe,CAAC;IAC/B,CAAC,MAAK;MACJjB,QAAQ,CAAC7J,KAAK,CAAC,GAAG,CAChB6J,QAAQ,CAAC7J,KAAK,CAAC,CAAC,CAAC,CAAC,EAClB6J,QAAQ,CAAC7J,KAAK,CAAC,CAAC,CAAC,CAAC,EAClB7B,KAAK,CAACuL,MAAM,CAAC3L,KAAK,EAClB8L,QAAQ,CAAC7J,KAAK,CAAC,CAAC,CAAC,CAAC,EAClB6J,QAAQ,CAAC7J,KAAK,CAAC,CAAC,CAAC,CAAC,EAClB6J,QAAQ,CAAC7J,KAAK,CAAC,CAAC,CAAC,CAAC,CACnB;MACDkG,YAAY,CAAC2D,QAAQ,CAAC;IACxB;EAEF;EAEA,SAASkB,MAAMA,CAAA,EAAG;IAChB,IAAMC,GAAG,GAAG,gCAAgC;IAC5C,IAAMC,MAAM,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAE,GAAG,CAAC;IAC7C,IAAMC,OAAO,GAAGH,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAE,GAAG,CAAC;IAC9C,IAAME,MAAM,GAAGN,GAAG,CAACE,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGJ,GAAG,CAAC/B,MAAM,CAAC,CAAC;IAC1D,IAAMsC,OAAO,GAAGP,GAAG,CAACE,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGJ,GAAG,CAAC/B,MAAM,CAAC,CAAC;IAC3D,IAAMuC,KAAK,GAAGP,MAAM,GAAGK,MAAM,GAAGD,OAAO,GAAGE,OAAO;IACjD,IAAME,MAAM,GAAG,CAACD,KAAK,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC;IACxCtG,cAAc,IAAAwG,MAAA,CAAA5B,kBAAA,CAAK3G,WAAW,IAAEsI,MAAM,EAAC,CAAC;EAC1C;EAEA,SAASE,UAAUA,CAAA,EAAE;IACnB,IAAMX,GAAG,GAAG,gCAAgC;IAC5C,IAAMC,MAAM,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAE,GAAG,CAAC;IAC7C,IAAMC,OAAO,GAAGH,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAE,GAAG,CAAC;IAC9C,IAAME,MAAM,GAAGN,GAAG,CAACE,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGJ,GAAG,CAAC/B,MAAM,CAAC,CAAC;IAC1D,IAAMsC,OAAO,GAAGP,GAAG,CAACE,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGJ,GAAG,CAAC/B,MAAM,CAAC,CAAC;IAC3D,IAAMuC,KAAK,GAAGP,MAAM,GAAGK,MAAM,GAAGD,OAAO,GAAGE,OAAO;IACjD,IAAMnH,IAAI,GAAG,IAAIC,IAAI,CAAC,CAAC;IACvB,IAAM8F,GAAG,GAAG/F,IAAI,CAACyC,OAAO,CAAC,CAAC;IAC1BV,OAAO,CAACC,GAAG,CAAC+D,GAAG,CAAC;IAChB,IAAMsB,MAAM,GAAG,CAACD,KAAK,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,SAAS,EAAEpH,IAAI,CAAC;IACjD0B,UAAU,IAAA4F,MAAA,CAAA5B,kBAAA,CAAKjE,OAAO,IAAE4F,MAAM,EAAC,CAAC;EAClC;EAEA,SAASG,SAASA,CAAC3L,IAAI,EAAED,KAAK,EAAEpC,EAAE,EAAE;IAClC,IAAMiO,SAAS,GAAG1I,WAAW,CAAClB,KAAK,CAAC,CAAC;IACrC4J,SAAS,CAAC7L,KAAK,CAAC,GAAG,CACjB6L,SAAS,CAAC7L,KAAK,CAAC,CAAC,CAAC,CAAC,EACnBC,IAAI,CAACyJ,MAAM,CAAC3L,KAAK,EACjB8N,SAAS,CAAC7L,KAAK,CAAC,CAAC,CAAC,CAAC,EACnB6L,SAAS,CAAC7L,KAAK,CAAC,CAAC,CAAC,CAAC,EACnB6L,SAAS,CAAC7L,KAAK,CAAC,CAAC,CAAC,CAAC,EACnB6L,SAAS,CAAC7L,KAAK,CAAC,CAAC,CAAC,CAAC,CACpB;IACDkF,cAAc,CAAC2G,SAAS,CAAC;EAC3B;EAEA,SAAS7J,WAAUA,CAAC/B,IAAI,EAAED,KAAK,EAAEpC,EAAE,EAAC;IAClCuI,OAAO,CAACC,GAAG,CAACnG,IAAI,CAACyJ,MAAM,CAAC3L,KAAK,CAAC;IAC9B,IAAM8N,SAAS,GAAG1I,WAAW,CAAClB,KAAK,CAAC,CAAC;IACrC4J,SAAS,CAAC7L,KAAK,CAAC,GAAG,CACjB6L,SAAS,CAAC7L,KAAK,CAAC,CAAC,CAAC,CAAC,EACnB6L,SAAS,CAAC7L,KAAK,CAAC,CAAC,CAAC,CAAC,EACnBC,IAAI,CAACyJ,MAAM,CAAC3L,KAAK,EACjB8N,SAAS,CAAC7L,KAAK,CAAC,CAAC,CAAC,CAAC,EACnB6L,SAAS,CAAC7L,KAAK,CAAC,CAAC,CAAC,CAAC,EACnB6L,SAAS,CAAC7L,KAAK,CAAC,CAAC,CAAC,CAAC,CACpB;IACDkF,cAAc,CAAC2G,SAAS,CAAC;EAC3B;EAEA,SAASC,YAAYA,CAAA,EAAE;IACrB,IAAM1H,IAAI,GAAG,IAAIC,IAAI,CAAC,CAAC;IACvB,IAAM2G,GAAG,GAAG,gCAAgC;IAC5C,IAAMC,MAAM,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAE,GAAG,CAAC;IAC7C,IAAMC,OAAO,GAAGH,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAE,GAAG,CAAC;IAC9C,IAAME,MAAM,GAAGN,GAAG,CAACE,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGJ,GAAG,CAAC/B,MAAM,CAAC,CAAC;IAC1D,IAAMsC,OAAO,GAAGP,GAAG,CAACE,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGJ,GAAG,CAAC/B,MAAM,CAAC,CAAC;IAC3D,IAAM8C,KAAK,GAAGd,MAAM,GAAGK,MAAM,GAAGD,OAAO,GAAGE,OAAO;IACjD5G,WAAW,IAAA+G,MAAA,CAAA5B,kBAAA,CAAKlI,QAAQ,IAAE,CAACmK,KAAK,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE3H,IAAI,CAAC,EAAC,CAAC;EACrD;EAEA,SAASzD,YAAYA,CAAChD,GAAG,EAAEqC,KAAK,EAAEpC,EAAE,EAAC;IACnC,IAAMoO,OAAO,GAAGpK,QAAQ,CAACK,KAAK,CAAC,CAAC;IAChC,IAAM4J,SAAS,GAAG1I,WAAW,CAAClB,KAAK,CAAC,CAAC;IACrC,IAAM2H,WAAW,GAAG/D,OAAO,CAAC5D,KAAK,CAAC,CAAC;IACnC,IAAM4H,QAAQ,GAAG5D,SAAS,CAAChE,KAAK,CAAC,CAAC;IAElC,KAAI,IAAIgK,CAAC,IAAIJ,SAAS,EAAC;MACrB,IAAGA,SAAS,CAACI,CAAC,CAAC,CAAC,CAAC,CAAC,KAAKrO,EAAE,EAAC;QACxBuI,OAAO,CAACC,GAAG,CAAC,mBAAmB,CAAC;;QAEhC;QACA,KAAI,IAAImB,CAAC,IAAIyE,OAAO,EAAC;UACnB,IAAGA,OAAO,CAACzE,CAAC,CAAC,CAAC,CAAC,CAAC,KAAKsE,SAAS,CAACI,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC;YACnC,IAAMC,QAAQ,GAAGL,SAAS,CAACI,CAAC,CAAC,CAAC,CAAC,CAAC;YAChC,IAAME,SAAS,GAAGN,SAAS,CAACI,CAAC,CAAC,CAAC,CAAC,CAAC;YACjC,IAAMG,QAAQ,GAAGJ,OAAO,CAACzE,CAAC,CAAC,CAAC,CAAC,CAAC;YAC9B,IAAM8E,WAAW,GAAGF,SAAS,GAAGD,QAAQ,GAAGE,QAAQ;YACnDJ,OAAO,CAACzE,CAAC,CAAC,GAAG,CAACyE,OAAO,CAACzE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEyE,OAAO,CAACzE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEyE,OAAO,CAACzE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE8E,WAAW,EAAEL,OAAO,CAACzE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAExF;QACF;QACA,IAAM+E,UAAU,GAAGT,SAAS,CAAC5J,KAAK,CAACgK,CAAC,EAAEA,CAAC,GAAC,CAAC,CAAC;QAC1CJ,SAAS,CAACU,MAAM,CAACN,CAAC,EAAE,CAAC,CAAC;QACtB,IAAG,CAACJ,SAAS,CAAC,CAAC,CAAC,EAAC;UACfA,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,QAAQ,EAAE,EAAE,EAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC;QAC5C;QAEAnG,aAAa,CAAC,CAAC,IAAI,EAAE4G,UAAU,CAAC,CAAC;QACjCpH,cAAc,CAAC2G,SAAS,CAAC;MAE3B;IACF;IACA,KAAI,IAAIpE,CAAC,IAAImC,WAAW,EAAC;MACvB,IAAGA,WAAW,CAACnC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK7J,EAAE,EAAC;QAC1BuI,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;QAC/B,IAAMkG,WAAU,GAAG1C,WAAW,CAAC3H,KAAK,CAACwF,CAAC,EAAEA,CAAC,GAAC,CAAC,CAAC;QAC5CmC,WAAW,CAAC2C,MAAM,CAAC9E,CAAC,EAAE,CAAC,CAAC;QACxB,IAAMrD,KAAI,GAAG,IAAIC,IAAI,CAAC,CAAC;QACvB,IAAM8F,GAAG,GAAG/F,KAAI,CAACyC,OAAO,CAAC,CAAC;QAC1B,IAAG,CAAC+C,WAAW,CAAC,CAAC,CAAC,EAAC;UACjBA,WAAW,CAAC,CAAC,CAAC,GAAG,CAAC,SAAS,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,SAAS,EAAExF,KAAI,CAAC;QACzD;QACAmE,cAAc,CAACqB,WAAW,EAAEoC,OAAO,CAAC;QACpCtG,aAAa,CAAC,CAAC,IAAI,EAAE4G,WAAU,CAAC,CAAC;QACjCxG,UAAU,CAAC8D,WAAW,CAAC;MAEzB;IACF;IACA,KAAI,IAAItG,CAAC,IAAI0I,OAAO,EAAC;MACnB,IAAGA,OAAO,CAAC1I,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK1F,EAAE,EAAC;QACtBuI,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;QAC/B,IAAMkG,YAAU,GAAGN,OAAO,CAAC/J,KAAK,CAACqB,CAAC,EAAEA,CAAC,GAAE,CAAC,CAAC;QACzC0I,OAAO,CAACO,MAAM,CAACjJ,CAAC,EAAE,CAAC,CAAC;QAEpB,IAAG,CAAC0I,OAAO,CAAC,CAAC,CAAC,EAAC;UACbA,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,eAAe,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE5H,IAAI,CAAC;QAChD;QACAmE,cAAc,CAACqB,WAAW,EAAEoC,OAAO,CAAC;QACpCtG,aAAa,CAAC,CAAC,IAAI,EAAE4G,YAAU,CAAC,CAAC;QACjC3H,WAAW,CAACqH,OAAO,CAAC;MAEtB;IACF;IACA,KAAI,IAAI1I,GAAC,IAAIuG,QAAQ,EAAC;MACpB,IAAGA,QAAQ,CAACvG,GAAC,CAAC,CAAC,CAAC,CAAC,KAAK1F,EAAE,EAAC;QACvBuI,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;QAC1C,IAAMkG,YAAU,GAAGzC,QAAQ,CAAC5H,KAAK,CAACqB,GAAC,EAAEA,GAAC,GAAC,CAAC,CAAC;QACzCuG,QAAQ,CAAC0C,MAAM,CAACjJ,GAAC,EAAC,CAAC,CAAC;QAEpB,IAAG,CAACuG,QAAQ,CAAC,CAAC,CAAC,EAAC;UACdA,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC;QAC9C;MAEF;IACF;EAGF;EAEA,SAAS2C,iBAAiBA,CAAC7O,GAAG,EAAEqC,KAAK,EAAEpC,EAAE,EAAC;IACxCuI,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAACpG,KAAK,CAAC;IACtC,IAAM4J,WAAW,GAAG/D,OAAO,CAAC5D,KAAK,CAAC,CAAC;IACnC2H,WAAW,CAAC5J,KAAK,CAAC,GAAG,CACnB4J,WAAW,CAAC5J,KAAK,CAAC,CAAC,CAAC,CAAC,EACrBrC,GAAG,CAAC+L,MAAM,CAAC3L,KAAK,EAChB6L,WAAW,CAAC5J,KAAK,CAAC,CAAC,CAAC,CAAC,EACrB4J,WAAW,CAAC5J,KAAK,CAAC,CAAC,CAAC,CAAC,EACrB4J,WAAW,CAAC5J,KAAK,CAAC,CAAC,CAAC,CAAC,EACrB4J,WAAW,CAAC5J,KAAK,CAAC,CAAC,CAAC,CAAC,CACtB;IACD8F,UAAU,CAAC8D,WAAW,CAAC;EACzB;EAEA,SAAS6C,kBAAkBA,CAAC7O,EAAE,EAAEoJ,QAAQ,EAAEmD,GAAG,EAAC;IAC5C,IAAMN,QAAQ,GAAG5D,SAAS,CAAChE,KAAK,CAAC,CAAC;IAClC,IAAM4J,SAAS,GAAG1I,WAAW,CAAClB,KAAK,CAAC,CAAC;IACrC,KAAI,IAAIqB,CAAC,IAAIuG,QAAQ,EAAC;MACpB,KAAI,IAAItC,CAAC,IAAIsE,SAAS,EAAC,CAEvB;IACF;EACF;EAEA,SAASpJ,SAAQA,CAACtE,KAAK,EAAC;IACtBgI,OAAO,CAACC,GAAG,CAAC,UAAU,EAACjI,KAAK,CAACuL,MAAM,CAAC3L,KAAK,CAAC;EAC5C;EAEA,oBACET,OAAA;IAAKO,SAAS,EAAC,KAAK;IAAAe,QAAA,gBAClBtB,OAAA;MAAKO,SAAS,EAAC,OAAO;MAAAe,QAAA,gBACpBtB,OAAA;QAAAsB,QAAA,EAAI;MAAe;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACxBjB,OAAA;QAAIO,SAAS,EAAC,WAAW;QAAAe,QAAA,EAEvB,YAAK;UACL,IAAMwF,IAAI,GAAG,IAAIC,IAAI,CAAC,CAAC;UACvB,IAAMqI,MAAM,GAAG,CAAC,SAAS,EAAE,UAAU,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,QAAQ,EAAE,WAAW,EAAE,SAAS,EAAE,UAAU,EAAE,UAAU,CAAC;UACzI,IAAMtC,KAAK,GAAGhG,IAAI,CAAC2C,QAAQ,CAAC,CAAC;UAC7B,IAAM4F,IAAI,GAAGvI,IAAI,CAACwI,WAAW,CAAC,CAAC;UAE/B,OAAOF,MAAM,CAACtC,KAAK,CAAC,GAAG,GAAG,GAAGuC,IAAI;QACjC,CAAC,CAAE;MAAC;QAAAvO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEF,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC,eACNjB,OAAA;MAAKO,SAAS,EAAC,iBAAiB;MAAAe,QAAA,EAC7BqH,SAAS,CAAC7F,GAAG,CAAC,UAACrC,KAAK,EAAEiC,KAAK;QAAA,oBAE1B1C,OAAA,CAACgF,OAAO;UACRrC,IAAI,EAAElC,KAAM;UACZiC,KAAK,EAAEA,KAAM;UACbwC,aAAa,EAAEyD,SAAU;UACzBrE,QAAQ,EAAEA,QAAS;UACnBC,eAAe,EAAEA,eAAgB;UACjCY,QAAQ,EAAE,SAAAA,SAAC8E,CAAC;YAAA,OAAK9E,SAAQ,CAAC8E,CAAC,CAAC;UAAA,CAAC;UAC7BzF,aAAa,EAAE,SAAAA,cAACyF,CAAC,EAAEsF,CAAC,EAAEtD,CAAC;YAAA,OAAK7I,YAAW,CAAC6G,CAAC,EAAEsF,CAAC,EAAEtD,CAAC,CAAC;UAAA,CAAC;UACjDxH,YAAY,EAAE,SAAAA,aAACwF,CAAC,EAAEsF,CAAC,EAAEtD,CAAC;YAAA,OAAKqC,SAAS,CAACrE,CAAC,EAAEsF,CAAC,EAAEtD,CAAC,CAAC;UAAA,CAAC;UAC9CvH,UAAU,EAAI,SAAAA,WAACuF,CAAC,EAACsF,CAAC,EAAEtD,CAAC;YAAA,OAAIvH,WAAU,CAACuF,CAAC,EAACsF,CAAC,EAAEtD,CAAC,CAAC;UAAA,CAAC;UAC5C5I,YAAY,EAAIA;QAAa;UAAAvC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,GAAA4F,MAC9B,CAAC;MAAA,CAEF;IAAC;MAAA/F,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEE,CAAC,eACNjB,OAAA;MAAKO,SAAS,EAAC,cAAc;MAACD,EAAE,EAAC,OAAO;MAAAgB,QAAA,eACpCtB,OAAA,CAAC0F,MAAM;QACPE,IAAI,EAAI4B,KAAM;QACd3B,WAAW,EAAIA;MAAY;QAAA/E,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC1B;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEC,CAAC,eACRjB,OAAA;MAAKO,SAAS,EAAC,eAAe;MAAAe,QAAA,gBAC1BtB,OAAA;QAAAsB,QAAA,EAAG;MAAQ;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eACfjB,OAAA;QAAAsB,QAAA,EAAG;MAAQ;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eACfjB,OAAA;QAAAsB,QAAA,EAAG;MAAS;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACf,CAAC,eACNjB,OAAA;MAAKO,SAAS,EAAC,QAAQ;MAAAe,QAAA,EACpBgD,QAAQ,CAACxB,GAAG,CAAC,UAACrC,KAAK,EAAEiC,KAAK;QAAA,oBAEzB1C,OAAA,CAACiD,MAAM;UACLxC,KAAK,EAAIA,KAAM;UACfiC,KAAK,EAAIA,KAAM;UACfW,YAAY,EAAIA,YAAa;UAC7BF,aAAa,EAAI,SAAAA,cAAC8G,CAAC,EAACsF,CAAC,EAACtD,CAAC;YAAA,OAAI9I,cAAa,CAAC8G,CAAC,EAACsF,CAAC,EAACtD,CAAC,CAAC;UAAA,CAAC;UAChD7I,WAAW,EAAI,SAAAA,YAAC6G,CAAC,EAACsF,CAAC,EAACtD,CAAC;YAAA,OAAI7I,YAAW,CAAC6G,CAAC,EAACsF,CAAC,EAACtD,CAAC,CAAC;UAAA,CAAC;UAC5C3I,GAAG,EAAIgB;QAAS;UAAAxD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,GAAA4F,MACjB,CAAC;MAAA,CAEJ;IAAC;MAAA/F,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEE,CAAC,eAEJjB,OAAA;MAAKO,SAAS,EAAC,QAAQ;MAAAe,QAAA,eACrBtB,OAAA,CAAC+B,MAAM;QACLG,KAAK,EAAC,cAAc;QACpBD,WAAW,EAAEuM;MAAa;QAAA1N,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAE3B;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAENjB,OAAA;MAAKO,SAAS,EAAC,eAAe;MAAAe,QAAA,gBAC5BtB,OAAA;QAAAsB,QAAA,EAAG;MAAY;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eACnBjB,OAAA;QAAAsB,QAAA,EAAG;MAAQ;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eACfjB,OAAA;QAAAsB,QAAA,EAAG;MAAK;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACX,CAAC,eACNjB,OAAA;MAAKO,SAAS,EAAC,SAAS;MAAAe,QAAA,EACjBiH,OAAO,CAACzF,GAAG,CAAC,UAACrC,KAAK,EAAEiC,KAAK;QAAA,oBACxB1C,OAAA,CAAC6D,OAAO;UACRlB,IAAI,EAAIlC,KAAM;UACdiC,KAAK,EAAIA,KAAM;UACfW,YAAY,EAAIA,YAAa;UAC7BU,eAAe,EAAG,SAAAA,gBAACkG,CAAC,EAACsF,CAAC,EAACtD,CAAC;YAAA,OAAI7I,YAAW,CAAC6G,CAAC,EAACsF,CAAC,EAACtD,CAAC,CAAC;UAAA,CAAC;UAC/CjI,WAAW,EAAI,SAAAA,YAACiG,CAAC,EAACsF,CAAC,EAACtD,CAAC;YAAA,OAAKiD,iBAAiB,CAACjF,CAAC,EAACsF,CAAC,EAACtD,CAAC,CAAC;UAAA,CAAC;UACnDhI,GAAG,EAAIsE;QAAQ;UAAAzH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,GAAA4F,MACd,CAAC;MAAA,CACH;IAAC;MAAA/F,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACNjB,OAAA;MAAKO,SAAS,EAAC,aAAa;MAAAe,QAAA,eACtBtB,OAAA;QAAQO,SAAS,EAAE,YAAY;QAAC4B,OAAO,EAAEkM,UAAW;QAAA/M,QAAA,EAAC;MAAW;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1E,CAAC,eAENjB,OAAA;MAAKO,SAAS,EAAC,QAAQ;MAAAe,QAAA,eACrBtB,OAAA;QAAQO,SAAS,EAAC,WAAW;QAAC4B,OAAO,EAAEsL,MAAO;QAAAnM,QAAA,EAAC;MAE/C;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACN,CAAC,eACNjB,OAAA;MAAKO,SAAS,EAAC,oBAAoB;MAAAe,QAAA,gBAC/BtB,OAAA;QAAAsB,QAAA,EAAG;MAAI;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eACXjB,OAAA;QAAAsB,QAAA,EAAG;MAAQ;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eACfjB,OAAA;QAAAsB,QAAA,EAAG;MAAO;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC,eACdjB,OAAA;QAAAsB,QAAA,EAAG;MAAM;QAAAR,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACZ,CAAC,eACNjB,OAAA;MAAKO,SAAS,EAAC,cAAc;MAAAe,QAAA,EAC1BuE,WAAW,CAAC/C,GAAG,CAAC,UAACjC,KAAK,EAAE6B,KAAK;QAAA,oBAC5B1C,OAAA,CAACoE,GAAG;UACF1B,KAAK,EAAEA,KAAM;UACbC,IAAI,EAAE9B,KAAM;UACZyD,QAAQ,EAAEA,QAAS;UACnBC,eAAe,EAAEA,eAAgB;UACjCC,aAAa,EAAE,SAAAA,cAACyF,CAAC,EAAEsF,CAAC,EAAEtD,CAAC;YAAA,OAAK7I,YAAW,CAAC6G,CAAC,EAAEsF,CAAC,EAAEtD,CAAC,CAAC;UAAA,CAAC;UACjDxH,YAAY,EAAE,SAAAA,aAACwF,CAAC,EAAEsF,CAAC,EAAEtD,CAAC;YAAA,OAAKqC,SAAS,CAACrE,CAAC,EAAEsF,CAAC,EAAEtD,CAAC,CAAC;UAAA,CAAC;UAC9CvH,UAAU,EAAI,SAAAA,WAACuF,CAAC,EAACsF,CAAC,EAAEtD,CAAC;YAAA,OAAIvH,WAAU,CAACuF,CAAC,EAACsF,CAAC,EAAEtD,CAAC,CAAC;UAAA,CAAC;UAC5C5I,YAAY,EAAIA;QAAa,GACxBX,KAAK;UAAA5B,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,GAAA4F,MACX,CAAC;MAAA,CACH;IAAC;MAAA/F,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAGH,CAAC;AAEV;AAAC2F,EAAA,CAluBuBD,GAAG;AAAA6I,IAAA,GAAH7I,GAAG;AAAA,IAAAzF,EAAA,EAAAM,GAAA,EAAAM,GAAA,EAAAM,GAAA,EAAAY,GAAA,EAAAY,GAAA,EAAAO,GAAA,EAAAY,GAAA,EAAAU,GAAA,EAAAY,IAAA,EAAAK,IAAA,EAAA8I,IAAA;AAAAC,YAAA,CAAAvO,EAAA;AAAAuO,YAAA,CAAAjO,GAAA;AAAAiO,YAAA,CAAA3N,GAAA;AAAA2N,YAAA,CAAArN,GAAA;AAAAqN,YAAA,CAAAzM,GAAA;AAAAyM,YAAA,CAAA7L,GAAA;AAAA6L,YAAA,CAAAtL,GAAA;AAAAsL,YAAA,CAAA1K,GAAA;AAAA0K,YAAA,CAAAhK,GAAA;AAAAgK,YAAA,CAAApJ,IAAA;AAAAoJ,YAAA,CAAA/I,IAAA;AAAA+I,YAAA,CAAAD,IAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}